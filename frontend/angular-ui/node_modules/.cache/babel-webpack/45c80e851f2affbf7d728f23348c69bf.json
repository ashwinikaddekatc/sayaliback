{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/Users/hp/OneDrive/Desktop/CNS-Portal/frontend/angular-ui/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _classCallCheck from \"C:/Users/hp/OneDrive/Desktop/CNS-Portal/frontend/angular-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/hp/OneDrive/Desktop/CNS-Portal/frontend/angular-ui/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { InjectionToken, Directive, Host, Inject, Injector, Input, KeyValueDiffers, Optional, Renderer2, Component, ComponentFactoryResolver, EventEmitter, Output, ViewContainerRef, SimpleChange, ANALYZE_FOR_ENTRY_COMPONENTS, NgModule } from '@angular/core';\nimport { NgComponentOutlet, CommonModule } from '@angular/common';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nvar\n/** @type {?} */\nCOMPONENT_INJECTOR = new InjectionToken('ComponentInjector');\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\n\nvar ComponentOutletInjectorDirective = /*#__PURE__*/function () {\n  /**\r\n   * @param {?} componentOutlet\r\n   */\n  function ComponentOutletInjectorDirective(componentOutlet) {\n    _classCallCheck(this, ComponentOutletInjectorDirective);\n\n    this.componentOutlet = componentOutlet;\n  }\n  /**\r\n   * @return {?}\r\n   */\n\n\n  _createClass(ComponentOutletInjectorDirective, [{\n    key: \"componentRef\",\n    get: function get() {\n      return (\n        /** @type {?} */\n        this.componentOutlet._componentRef\n      );\n    }\n  }]);\n\n  return ComponentOutletInjectorDirective;\n}();\n\nComponentOutletInjectorDirective.ɵfac = function ComponentOutletInjectorDirective_Factory(t) {\n  return new (t || ComponentOutletInjectorDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NgComponentOutlet, 1));\n};\n\nComponentOutletInjectorDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({\n  type: ComponentOutletInjectorDirective,\n  selectors: [[\"\", \"ngComponentOutlet\", \"\"]],\n  exportAs: [\"ndcComponentOutletInjector\"]\n});\n/** @nocollapse */\n\nComponentOutletInjectorDirective.ctorParameters = function () {\n  return [{\n    type: NgComponentOutlet,\n    decorators: [{\n      type: Host\n    }]\n  }];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ComponentOutletInjectorDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[ngComponentOutlet]',\n      exportAs: 'ndcComponentOutletInjector'\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc1.NgComponentOutlet,\n      decorators: [{\n        type: Host\n      }]\n    }];\n  }, null);\n})();\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\n\n\nvar DynamicAttributesDirective = /*#__PURE__*/function () {\n  /**\r\n   * @param {?} renderer\r\n   * @param {?} differs\r\n   * @param {?} injector\r\n   * @param {?} componentInjectorType\r\n   * @param {?} componentOutletInjector\r\n   */\n  function DynamicAttributesDirective(renderer, differs, injector, componentInjectorType, componentOutletInjector) {\n    _classCallCheck(this, DynamicAttributesDirective);\n\n    this.renderer = renderer;\n    this.differs = differs;\n    this.injector = injector;\n    this.componentInjectorType = componentInjectorType;\n    this.componentOutletInjector = componentOutletInjector;\n    this._attrsDiffer = this.differs.find({}).create();\n    this._componentInjector = this.injector.get(this.componentInjectorType, null);\n  }\n  /**\r\n   * @return {?}\r\n   */\n\n\n  _createClass(DynamicAttributesDirective, [{\n    key: \"_attributes\",\n    get: function get() {\n      return this.ndcDynamicAttributes || this.ngComponentOutletNdcDynamicAttributes;\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_compInjector\",\n    get: function get() {\n      return this.componentOutletInjector || this._componentInjector;\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_nativeElement\",\n    get: function get() {\n      return this._compInjector.componentRef.location.nativeElement;\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_compType\",\n    get: function get() {\n      return this._compInjector.componentRef.componentType;\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_isCompChanged\",\n    get: function get() {\n      if (this._lastCompType !== this._compType) {\n        this._lastCompType = this._compType;\n        return true;\n      }\n\n      return false;\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"ngDoCheck\",\n    value: function ngDoCheck() {\n      var\n      /** @type {?} */\n      isCompChanged = this._isCompChanged;\n\n      var\n      /** @type {?} */\n      changes = this._attrsDiffer.diff(this._attributes);\n\n      if (changes) {\n        this._lastAttrActions = this._changesToAttrActions(changes);\n      }\n\n      if (changes || isCompChanged && this._lastAttrActions) {\n        this._updateAttributes(this._lastAttrActions);\n      }\n    }\n    /**\r\n     * @param {?} name\r\n     * @param {?} value\r\n     * @param {?=} namespace\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"setAttribute\",\n    value: function setAttribute(name, value, namespace) {\n      this.renderer.setAttribute(this._nativeElement, name, value, namespace);\n    }\n    /**\r\n     * @param {?} name\r\n     * @param {?=} namespace\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"removeAttribute\",\n    value: function removeAttribute(name, namespace) {\n      this.renderer.removeAttribute(this._nativeElement, name, namespace);\n    }\n    /**\r\n     * @param {?} actions\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_updateAttributes\",\n    value: function _updateAttributes(actions) {\n      var _this = this;\n\n      Object.keys(actions.set).forEach(function (key) {\n        return _this.setAttribute(key, actions.set[key]);\n      });\n      actions.remove.forEach(function (key) {\n        return _this.removeAttribute(key);\n      });\n    }\n    /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_changesToAttrActions\",\n    value: function _changesToAttrActions(changes) {\n      var\n      /** @type {?} */\n      attrActions = {\n        set: {},\n        remove: []\n      };\n      changes.forEachAddedItem(function (r) {\n        return attrActions.set[r.key] = r.currentValue;\n      });\n      changes.forEachChangedItem(function (r) {\n        return attrActions.set[r.key] = r.currentValue;\n      });\n      changes.forEachRemovedItem(function (r) {\n        return attrActions.remove.push(r.key);\n      });\n      return attrActions;\n    }\n  }]);\n\n  return DynamicAttributesDirective;\n}();\n\nDynamicAttributesDirective.ɵfac = function DynamicAttributesDirective_Factory(t) {\n  return new (t || DynamicAttributesDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.KeyValueDiffers), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Injector), ɵngcc0.ɵɵdirectiveInject(COMPONENT_INJECTOR), ɵngcc0.ɵɵdirectiveInject(ComponentOutletInjectorDirective, 9));\n};\n\nDynamicAttributesDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({\n  type: DynamicAttributesDirective,\n  selectors: [[\"\", \"ndcDynamicAttributes\", \"\"], [\"\", \"ngComponentOutletNdcDynamicAttributes\", \"\"]],\n  inputs: {\n    ndcDynamicAttributes: \"ndcDynamicAttributes\",\n    ngComponentOutletNdcDynamicAttributes: \"ngComponentOutletNdcDynamicAttributes\"\n  },\n  exportAs: [\"ndcDynamicAttributes\"]\n});\n/** @nocollapse */\n\nDynamicAttributesDirective.ctorParameters = function () {\n  return [{\n    type: Renderer2\n  }, {\n    type: KeyValueDiffers\n  }, {\n    type: Injector\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [COMPONENT_INJECTOR]\n    }]\n  }, {\n    type: ComponentOutletInjectorDirective,\n    decorators: [{\n      type: Optional\n    }, {\n      type: Host\n    }]\n  }];\n};\n\nDynamicAttributesDirective.propDecorators = {\n  \"ndcDynamicAttributes\": [{\n    type: Input\n  }],\n  \"ngComponentOutletNdcDynamicAttributes\": [{\n    type: Input\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DynamicAttributesDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[ndcDynamicAttributes],[ngComponentOutletNdcDynamicAttributes]',\n      exportAs: 'ndcDynamicAttributes'\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc0.KeyValueDiffers\n    }, {\n      type: ɵngcc0.Injector\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [COMPONENT_INJECTOR]\n      }]\n    }, {\n      type: ComponentOutletInjectorDirective,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Host\n      }]\n    }];\n  }, {\n    ndcDynamicAttributes: [{\n      type: Input\n    }],\n    ngComponentOutletNdcDynamicAttributes: [{\n      type: Input\n    }]\n  });\n})();\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\n\n\nvar DynamicComponent = /*#__PURE__*/function () {\n  /**\r\n   * @param {?} _vcr\r\n   * @param {?} _cfr\r\n   */\n  function DynamicComponent(_vcr, _cfr) {\n    _classCallCheck(this, DynamicComponent);\n\n    this._vcr = _vcr;\n    this._cfr = _cfr;\n    this.ndcDynamicCreated = new EventEmitter();\n  }\n  /**\r\n   * @param {?} changes\r\n   * @return {?}\r\n   */\n\n\n  _createClass(DynamicComponent, [{\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      if (changes['ndcDynamicComponent']) {\n        this.createDynamicComponent();\n      }\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"createDynamicComponent\",\n    value: function createDynamicComponent() {\n      this._vcr.clear();\n\n      this.componentRef = null;\n\n      if (this.ndcDynamicComponent) {\n        this.componentRef = this._vcr.createComponent(this._cfr.resolveComponentFactory(this.ndcDynamicComponent), 0, this._resolveInjector(), this.ndcDynamicContent);\n        this.ndcDynamicCreated.emit(this.componentRef);\n      }\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_resolveInjector\",\n    value: function _resolveInjector() {\n      var\n      /** @type {?} */\n      injector = this.ndcDynamicInjector || this._vcr.parentInjector;\n\n      if (this.ndcDynamicProviders) {\n        injector = Injector.create({\n          providers: this.ndcDynamicProviders,\n          parent: injector\n        });\n      }\n\n      return injector;\n    }\n  }]);\n\n  return DynamicComponent;\n}();\n\nDynamicComponent.ɵfac = function DynamicComponent_Factory(t) {\n  return new (t || DynamicComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ComponentFactoryResolver));\n};\n\nDynamicComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: DynamicComponent,\n  selectors: [[\"ndc-dynamic\"]],\n  inputs: {\n    ndcDynamicComponent: \"ndcDynamicComponent\",\n    ndcDynamicInjector: \"ndcDynamicInjector\",\n    ndcDynamicProviders: \"ndcDynamicProviders\",\n    ndcDynamicContent: \"ndcDynamicContent\"\n  },\n  outputs: {\n    ndcDynamicCreated: \"ndcDynamicCreated\"\n  },\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  decls: 0,\n  vars: 0,\n  template: function DynamicComponent_Template(rf, ctx) {},\n  encapsulation: 2\n});\n/** @nocollapse */\n\nDynamicComponent.ctorParameters = function () {\n  return [{\n    type: ViewContainerRef\n  }, {\n    type: ComponentFactoryResolver\n  }];\n};\n\nDynamicComponent.propDecorators = {\n  \"ndcDynamicComponent\": [{\n    type: Input\n  }],\n  \"ndcDynamicInjector\": [{\n    type: Input\n  }],\n  \"ndcDynamicProviders\": [{\n    type: Input\n  }],\n  \"ndcDynamicContent\": [{\n    type: Input\n  }],\n  \"ndcDynamicCreated\": [{\n    type: Output\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DynamicComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ndc-dynamic',\n      template: ''\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ViewContainerRef\n    }, {\n      type: ɵngcc0.ComponentFactoryResolver\n    }];\n  }, {\n    ndcDynamicCreated: [{\n      type: Output\n    }],\n    ndcDynamicComponent: [{\n      type: Input\n    }],\n    ndcDynamicInjector: [{\n      type: Input\n    }],\n    ndcDynamicProviders: [{\n      type: Input\n    }],\n    ndcDynamicContent: [{\n      type: Input\n    }]\n  });\n})();\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\n\n/**\r\n * @param {?} val\r\n * @return {?}\r\n */\n\n\nfunction createNewChange(val) {\n  return new SimpleChange(undefined, val, true);\n}\n/**\r\n * @param {?} record\r\n * @param {?=} isFirstChange\r\n * @return {?}\r\n */\n\n\nfunction recordToChange(record) {\n  var isFirstChange = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return isFirstChange ? createNewChange(record.currentValue) : new SimpleChange(record.previousValue, record.currentValue, false);\n}\n/**\r\n * @param {?} isFirstChanges\r\n * @param {?} setter\r\n * @return {?}\r\n */\n\n\nfunction setChangeFromRecord(isFirstChanges, setter) {\n  return function (record) {\n    return setter(record, recordToChange(record, isFirstChanges));\n  };\n}\n/**\r\n * @param {?} isFirstChanges\r\n * @return {?}\r\n */\n\n\nfunction getChangesRecords(isFirstChanges) {\n  return function (changes) {\n    return setChangeFromRecord(isFirstChanges, function (record, change) {\n      return changes[record.key] = change;\n    });\n  };\n}\n/**\r\n * @param {?} isFirstChanges\r\n * @return {?}\r\n */\n\n\nfunction getNewChangesRecords(isFirstChanges) {\n  return function (changes) {\n    return setChangeFromRecord(isFirstChanges, function (record, change) {\n      if (!changes[record.key]) {\n        changes[record.key] = change;\n      }\n    });\n  };\n}\n\nvar\n/** @type {?} */\ndefaultOpts = {\n  isFirstChanges: false,\n  onlyNewChanges: false\n};\n/**\r\n * @param {?=} opts\r\n * @return {?}\r\n */\n\nfunction changesFromRecord() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultOpts;\n  return opts.onlyNewChanges ? getNewChangesRecords(opts.isFirstChanges) : getChangesRecords(opts.isFirstChanges);\n}\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\n\n\nvar\n/** @type {?} */\nrecordToChanges = changesFromRecord({\n  isFirstChanges: true\n});\nvar\n/** @type {?} */\nrecordToNewChanges = changesFromRecord({\n  onlyNewChanges: true\n});\n\nvar DynamicDirective = /*#__PURE__*/function () {\n  /**\r\n   * @param {?} _differs\r\n   * @param {?} _injector\r\n   * @param {?} _cfr\r\n   * @param {?} _componentInjectorType\r\n   * @param {?} _componentOutletInjector\r\n   */\n  function DynamicDirective(_differs, _injector, _cfr, _componentInjectorType, _componentOutletInjector) {\n    _classCallCheck(this, DynamicDirective);\n\n    this._differs = _differs;\n    this._injector = _injector;\n    this._cfr = _cfr;\n    this._componentInjectorType = _componentInjectorType;\n    this._componentOutletInjector = _componentOutletInjector;\n    this._componentInjector = this._injector.get(this._componentInjectorType, null);\n    this._lastComponentInst = this._componentInjector;\n    this._inputsDiffer = this._differs.find({}).create();\n    this._compFactory = null;\n    this._outputsShouldDisconnect$ = new Subject();\n  }\n  /**\r\n   * @return {?}\r\n   */\n\n\n  _createClass(DynamicDirective, [{\n    key: \"_inputs\",\n    get: function get() {\n      return this.ndcDynamicInputs || this.ngComponentOutletNdcDynamicInputs;\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_outputs\",\n    get: function get() {\n      return this.ndcDynamicOutputs || this.ngComponentOutletNdcDynamicOutputs;\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_compInjector\",\n    get: function get() {\n      return this._componentOutletInjector || this._componentInjector;\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_compRef\",\n    get: function get() {\n      return this._compInjector.componentRef;\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_componentInst\",\n    get: function get() {\n      return this._compRef.instance;\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_componentInstChanged\",\n    get: function get() {\n      if (this._lastComponentInst !== this._componentInst) {\n        this._lastComponentInst = this._componentInst;\n        return true;\n      } else {\n        return false;\n      }\n    }\n    /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      var\n      /** @type {?} */\n      compChanged = this._componentInstChanged;\n\n      if (compChanged || this._inputsChanged(changes)) {\n        var\n        /** @type {?} */\n        inputsChanges = this._getInputsChanges(this._inputs);\n\n        if (inputsChanges) {\n          this._updateInputChanges(inputsChanges);\n        }\n\n        this.updateInputs(compChanged || !this._lastInputChanges);\n      }\n\n      if (compChanged || this._outputsChanged(changes)) {\n        this.bindOutputs();\n      }\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"ngDoCheck\",\n    value: function ngDoCheck() {\n      if (this._componentInstChanged) {\n        this.updateInputs(true);\n        this.bindOutputs();\n        return;\n      }\n\n      var\n      /** @type {?} */\n      inputs = this._inputs;\n\n      if (!inputs) {\n        return;\n      }\n\n      var\n      /** @type {?} */\n      inputsChanges = this._getInputsChanges(this._inputs);\n\n      if (inputsChanges) {\n        var\n        /** @type {?} */\n        isNotFirstChange = !!this._lastInputChanges;\n\n        this._updateInputChanges(inputsChanges);\n\n        if (isNotFirstChange) {\n          this.updateInputs();\n        }\n      }\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this._disconnectOutputs();\n    }\n    /**\r\n     * @param {?=} isFirstChange\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"updateInputs\",\n    value: function updateInputs() {\n      var isFirstChange = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (isFirstChange) {\n        this._updateCompFactory();\n      }\n\n      var\n      /** @type {?} */\n      compInst = this._componentInst;\n      var\n      /** @type {?} */\n      inputs = this._inputs;\n\n      if (!inputs || !compInst) {\n        return;\n      }\n\n      inputs = this._resolveInputs(inputs);\n      Object.keys(inputs).forEach(function (p) {\n        return compInst[p] = inputs[p];\n      });\n      this.notifyOnInputChanges(this._lastInputChanges, isFirstChange);\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"bindOutputs\",\n    value: function bindOutputs() {\n      var _this2 = this;\n\n      this._disconnectOutputs();\n\n      var\n      /** @type {?} */\n      compInst = this._componentInst;\n      var\n      /** @type {?} */\n      outputs = this._outputs;\n\n      if (!outputs || !compInst) {\n        return;\n      }\n\n      outputs = this._resolveOutputs(outputs);\n      Object.keys(outputs).filter(function (p) {\n        return compInst[p];\n      }).forEach(function (p) {\n        return compInst[p].pipe(takeUntil(_this2._outputsShouldDisconnect$)).subscribe(outputs[p]);\n      });\n    }\n    /**\r\n     * @param {?=} changes\r\n     * @param {?=} forceFirstChanges\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"notifyOnInputChanges\",\n    value: function notifyOnInputChanges() {\n      var changes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var forceFirstChanges = arguments.length > 1 ? arguments[1] : undefined;\n\n      // Exit early if component not interested to receive changes\n      if (!this._componentInst.ngOnChanges) {\n        return;\n      }\n\n      if (forceFirstChanges) {\n        changes = this._collectFirstChanges();\n      }\n\n      this._componentInst.ngOnChanges(changes);\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_disconnectOutputs\",\n    value: function _disconnectOutputs() {\n      this._outputsShouldDisconnect$.next();\n    }\n    /**\r\n     * @param {?} inputs\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_getInputsChanges\",\n    value: function _getInputsChanges(inputs) {\n      return this._inputsDiffer.diff(this._inputs);\n    }\n    /**\r\n     * @param {?} differ\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_updateInputChanges\",\n    value: function _updateInputChanges(differ) {\n      this._lastInputChanges = this._collectChangesFromDiffer(differ);\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_collectFirstChanges\",\n    value: function _collectFirstChanges() {\n      var\n      /** @type {?} */\n      changes =\n      /** @type {?} */\n      {};\n      var\n      /** @type {?} */\n      inputs = this._inputs;\n      Object.keys(inputs).forEach(function (prop) {\n        return changes[prop] = createNewChange(inputs[prop]);\n      });\n      return this._resolveChanges(changes);\n    }\n    /**\r\n     * @param {?} differ\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_collectChangesFromDiffer\",\n    value: function _collectChangesFromDiffer(differ) {\n      var\n      /** @type {?} */\n      changes =\n      /** @type {?} */\n      {};\n      differ.forEachAddedItem(recordToChanges(changes));\n      differ.forEachItem(recordToNewChanges(changes));\n      return this._resolveChanges(changes);\n    }\n    /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_inputsChanged\",\n    value: function _inputsChanged(changes) {\n      return 'ngComponentOutletNdcDynamicInputs' in changes || 'ndcDynamicInputs' in changes;\n    }\n    /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_outputsChanged\",\n    value: function _outputsChanged(changes) {\n      return 'ngComponentOutletNdcDynamicOutputs' in changes || 'ndcDynamicOutputs' in changes;\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_resolveCompFactory\",\n    value: function _resolveCompFactory() {\n      try {\n        try {\n          return this._cfr.resolveComponentFactory(this._compRef.componentType);\n        } catch (\n        /** @type {?} */\n        e) {\n          // Fallback if componentType does not exist (happens on NgComponentOutlet)\n          return this._cfr.resolveComponentFactory(this._compRef.instance.constructor);\n        }\n      } catch (\n      /** @type {?} */\n      e) {\n        // Factory not available - bailout\n        return null;\n      }\n    }\n    /**\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_updateCompFactory\",\n    value: function _updateCompFactory() {\n      this._compFactory = this._resolveCompFactory();\n    }\n    /**\r\n     * @param {?} inputs\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_resolveInputs\",\n    value: function _resolveInputs(inputs) {\n      if (!this._compFactory) {\n        return inputs;\n      }\n\n      return this._remapIO(inputs, this._compFactory.inputs);\n    }\n    /**\r\n     * @param {?} outputs\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_resolveOutputs\",\n    value: function _resolveOutputs(outputs) {\n      if (!this._compFactory) {\n        return outputs;\n      }\n\n      return this._remapIO(outputs, this._compFactory.outputs);\n    }\n    /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_resolveChanges\",\n    value: function _resolveChanges(changes) {\n      if (!this._compFactory) {\n        return changes;\n      }\n\n      return this._remapIO(changes, this._compFactory.inputs);\n    }\n    /**\r\n     * @param {?} io\r\n     * @param {?} mapping\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_remapIO\",\n    value: function _remapIO(io, mapping) {\n      var _this3 = this;\n\n      var\n      /** @type {?} */\n      newIO = {};\n      Object.keys(io).forEach(function (key) {\n        var\n        /** @type {?} */\n        newKey = _this3._findPropByTplInMapping(key, mapping) || key;\n        newIO[newKey] = io[key];\n      });\n      return newIO;\n    }\n    /**\r\n     * @param {?} tplName\r\n     * @param {?} mapping\r\n     * @return {?}\r\n     */\n\n  }, {\n    key: \"_findPropByTplInMapping\",\n    value: function _findPropByTplInMapping(tplName, mapping) {\n      var _iterator = _createForOfIteratorHelper(mapping),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var map = _step.value;\n\n          if (map.templateName === tplName) {\n            return map.propName;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return null;\n    }\n  }]);\n\n  return DynamicDirective;\n}();\n\nDynamicDirective.ɵfac = function DynamicDirective_Factory(t) {\n  return new (t || DynamicDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.KeyValueDiffers), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Injector), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ComponentFactoryResolver), ɵngcc0.ɵɵdirectiveInject(COMPONENT_INJECTOR), ɵngcc0.ɵɵdirectiveInject(ComponentOutletInjectorDirective, 9));\n};\n\nDynamicDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({\n  type: DynamicDirective,\n  selectors: [[\"\", \"ndcDynamicInputs\", \"\"], [\"\", \"ndcDynamicOutputs\", \"\"], [\"\", \"ngComponentOutletNdcDynamicInputs\", \"\"], [\"\", \"ngComponentOutletNdcDynamicOutputs\", \"\"]],\n  inputs: {\n    ndcDynamicInputs: \"ndcDynamicInputs\",\n    ngComponentOutletNdcDynamicInputs: \"ngComponentOutletNdcDynamicInputs\",\n    ndcDynamicOutputs: \"ndcDynamicOutputs\",\n    ngComponentOutletNdcDynamicOutputs: \"ngComponentOutletNdcDynamicOutputs\"\n  },\n  features: [ɵngcc0.ɵɵNgOnChangesFeature]\n});\n/** @nocollapse */\n\nDynamicDirective.ctorParameters = function () {\n  return [{\n    type: KeyValueDiffers\n  }, {\n    type: Injector\n  }, {\n    type: ComponentFactoryResolver\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [COMPONENT_INJECTOR]\n    }]\n  }, {\n    type: ComponentOutletInjectorDirective,\n    decorators: [{\n      type: Host\n    }, {\n      type: Optional\n    }]\n  }];\n};\n\nDynamicDirective.propDecorators = {\n  \"ndcDynamicInputs\": [{\n    type: Input\n  }],\n  \"ngComponentOutletNdcDynamicInputs\": [{\n    type: Input\n  }],\n  \"ndcDynamicOutputs\": [{\n    type: Input\n  }],\n  \"ngComponentOutletNdcDynamicOutputs\": [{\n    type: Input\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DynamicDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[ndcDynamicInputs],[ndcDynamicOutputs],[ngComponentOutletNdcDynamicInputs],[ngComponentOutletNdcDynamicOutputs]'\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.KeyValueDiffers\n    }, {\n      type: ɵngcc0.Injector\n    }, {\n      type: ɵngcc0.ComponentFactoryResolver\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [COMPONENT_INJECTOR]\n      }]\n    }, {\n      type: ComponentOutletInjectorDirective,\n      decorators: [{\n        type: Host\n      }, {\n        type: Optional\n      }]\n    }];\n  }, {\n    ndcDynamicInputs: [{\n      type: Input\n    }],\n    ngComponentOutletNdcDynamicInputs: [{\n      type: Input\n    }],\n    ndcDynamicOutputs: [{\n      type: Input\n    }],\n    ngComponentOutletNdcDynamicOutputs: [{\n      type: Input\n    }]\n  });\n})();\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\n\n\nvar DynamicModule = /*#__PURE__*/function () {\n  function DynamicModule() {\n    _classCallCheck(this, DynamicModule);\n  }\n\n  _createClass(DynamicModule, null, [{\n    key: \"withComponents\",\n    value:\n    /**\r\n     * @param {?} components\r\n     * @param {?=} componentInjector\r\n     * @return {?}\r\n     */\n    function withComponents(components) {\n      var componentInjector = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DynamicComponent;\n      return {\n        ngModule: DynamicModule,\n        providers: [{\n          provide: ANALYZE_FOR_ENTRY_COMPONENTS,\n          useValue: components,\n          multi: true\n        }, {\n          provide: COMPONENT_INJECTOR,\n          useValue: componentInjector\n        }]\n      };\n    }\n  }]);\n\n  return DynamicModule;\n}();\n\nDynamicModule.ɵfac = function DynamicModule_Factory(t) {\n  return new (t || DynamicModule)();\n};\n\nDynamicModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: DynamicModule\n});\nDynamicModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n  imports: [[CommonModule]]\n});\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(DynamicModule, {\n    declarations: function declarations() {\n      return [DynamicComponent, DynamicDirective, ComponentOutletInjectorDirective, DynamicAttributesDirective];\n    },\n    imports: function imports() {\n      return [CommonModule];\n    },\n    exports: function exports() {\n      return [DynamicComponent, DynamicDirective, ComponentOutletInjectorDirective, DynamicAttributesDirective];\n    }\n  });\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DynamicModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      declarations: [DynamicComponent, DynamicDirective, ComponentOutletInjectorDirective, DynamicAttributesDirective],\n      exports: [DynamicComponent, DynamicDirective, ComponentOutletInjectorDirective, DynamicAttributesDirective]\n    }]\n  }], null, null);\n})();\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\n\n\nexport { DynamicModule, DynamicDirective, DynamicComponent, DynamicAttributesDirective, COMPONENT_INJECTOR as ɵa, ComponentOutletInjectorDirective as ɵb }; //# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctZHluYW1pYy1jb21wb25lbnQuZXMyMDE1LmpzIiwic291cmNlcyI6WyJuZy1keW5hbWljLWNvbXBvbmVudC5lczIwMTUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzttTUFNRTtBQUNGO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7a0NBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7aVhBTUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzsrZEFNRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OzJnQkFLRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQWlCRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3Rpb25Ub2tlbiwgRGlyZWN0aXZlLCBIb3N0LCBJbmplY3QsIEluamVjdG9yLCBJbnB1dCwgS2V5VmFsdWVEaWZmZXJzLCBPcHRpb25hbCwgUmVuZGVyZXIyLCBDb21wb25lbnQsIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgRXZlbnRFbWl0dGVyLCBPdXRwdXQsIFZpZXdDb250YWluZXJSZWYsIFNpbXBsZUNoYW5nZSwgQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUywgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5nQ29tcG9uZW50T3V0bGV0LCBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgdGFrZVVudGlsIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfSBjaGVja2VkIGJ5IHRzY1xuICovXG5jb25zdCAvKiogQHR5cGUgez99ICovIENPTVBPTkVOVF9JTkpFQ1RPUiA9IG5ldyBJbmplY3Rpb25Ub2tlbignQ29tcG9uZW50SW5qZWN0b3InKTtcblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IGFkZGVkIGJ5IHRzaWNrbGVcbiAqIEBzdXBwcmVzcyB7Y2hlY2tUeXBlc30gY2hlY2tlZCBieSB0c2NcbiAqL1xuY2xhc3MgQ29tcG9uZW50T3V0bGV0SW5qZWN0b3JEaXJlY3RpdmUge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gY29tcG9uZW50T3V0bGV0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50T3V0bGV0KSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50T3V0bGV0ID0gY29tcG9uZW50T3V0bGV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBjb21wb25lbnRSZWYoKSB7XG4gICAgICAgIHJldHVybiAoLyoqIEB0eXBlIHs/fSAqLyAodGhpcy5jb21wb25lbnRPdXRsZXQpKS5fY29tcG9uZW50UmVmO1xuICAgIH1cbn1cbkNvbXBvbmVudE91dGxldEluamVjdG9yRGlyZWN0aXZlLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBEaXJlY3RpdmUsIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdbbmdDb21wb25lbnRPdXRsZXRdJyxcbiAgICAgICAgICAgICAgICBleHBvcnRBczogJ25kY0NvbXBvbmVudE91dGxldEluamVjdG9yJyxcbiAgICAgICAgICAgIH0sXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuQ29tcG9uZW50T3V0bGV0SW5qZWN0b3JEaXJlY3RpdmUuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXG4gICAgeyB0eXBlOiBOZ0NvbXBvbmVudE91dGxldCwgZGVjb3JhdG9yczogW3sgdHlwZTogSG9zdCB9LF0gfSxcbl07XG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBhZGRlZCBieSB0c2lja2xlXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9IGNoZWNrZWQgYnkgdHNjXG4gKi9cbmNsYXNzIER5bmFtaWNBdHRyaWJ1dGVzRGlyZWN0aXZlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHs/fSBkaWZmZXJzXG4gICAgICogQHBhcmFtIHs/fSBpbmplY3RvclxuICAgICAqIEBwYXJhbSB7P30gY29tcG9uZW50SW5qZWN0b3JUeXBlXG4gICAgICogQHBhcmFtIHs/fSBjb21wb25lbnRPdXRsZXRJbmplY3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBkaWZmZXJzLCBpbmplY3RvciwgY29tcG9uZW50SW5qZWN0b3JUeXBlLCBjb21wb25lbnRPdXRsZXRJbmplY3Rvcikge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuZGlmZmVycyA9IGRpZmZlcnM7XG4gICAgICAgIHRoaXMuaW5qZWN0b3IgPSBpbmplY3RvcjtcbiAgICAgICAgdGhpcy5jb21wb25lbnRJbmplY3RvclR5cGUgPSBjb21wb25lbnRJbmplY3RvclR5cGU7XG4gICAgICAgIHRoaXMuY29tcG9uZW50T3V0bGV0SW5qZWN0b3IgPSBjb21wb25lbnRPdXRsZXRJbmplY3RvcjtcbiAgICAgICAgdGhpcy5fYXR0cnNEaWZmZXIgPSB0aGlzLmRpZmZlcnMuZmluZCh7fSkuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudEluamVjdG9yID0gdGhpcy5pbmplY3Rvci5nZXQodGhpcy5jb21wb25lbnRJbmplY3RvclR5cGUsIG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBfYXR0cmlidXRlcygpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm5kY0R5bmFtaWNBdHRyaWJ1dGVzIHx8IHRoaXMubmdDb21wb25lbnRPdXRsZXROZGNEeW5hbWljQXR0cmlidXRlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgZ2V0IF9jb21wSW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudE91dGxldEluamVjdG9yIHx8IHRoaXMuX2NvbXBvbmVudEluamVjdG9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBfbmF0aXZlRWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBJbmplY3Rvci5jb21wb25lbnRSZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBnZXQgX2NvbXBUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tcEluamVjdG9yLmNvbXBvbmVudFJlZi5jb21wb25lbnRUeXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBfaXNDb21wQ2hhbmdlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xhc3RDb21wVHlwZSAhPT0gdGhpcy5fY29tcFR5cGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RDb21wVHlwZSA9IHRoaXMuX2NvbXBUeXBlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIG5nRG9DaGVjaygpIHtcbiAgICAgICAgY29uc3QgLyoqIEB0eXBlIHs/fSAqLyBpc0NvbXBDaGFuZ2VkID0gdGhpcy5faXNDb21wQ2hhbmdlZDtcbiAgICAgICAgY29uc3QgLyoqIEB0eXBlIHs/fSAqLyBjaGFuZ2VzID0gdGhpcy5fYXR0cnNEaWZmZXIuZGlmZih0aGlzLl9hdHRyaWJ1dGVzKTtcbiAgICAgICAgaWYgKGNoYW5nZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RBdHRyQWN0aW9ucyA9IHRoaXMuX2NoYW5nZXNUb0F0dHJBY3Rpb25zKGNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzIHx8IChpc0NvbXBDaGFuZ2VkICYmIHRoaXMuX2xhc3RBdHRyQWN0aW9ucykpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUF0dHJpYnV0ZXModGhpcy5fbGFzdEF0dHJBY3Rpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IG5hbWVcbiAgICAgKiBAcGFyYW0gez99IHZhbHVlXG4gICAgICogQHBhcmFtIHs/PX0gbmFtZXNwYWNlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBzZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUsIG5hbWVzcGFjZSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZSh0aGlzLl9uYXRpdmVFbGVtZW50LCBuYW1lLCB2YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBuYW1lXG4gICAgICogQHBhcmFtIHs/PX0gbmFtZXNwYWNlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICByZW1vdmVBdHRyaWJ1dGUobmFtZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlKHRoaXMuX25hdGl2ZUVsZW1lbnQsIG5hbWUsIG5hbWVzcGFjZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gYWN0aW9uc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgX3VwZGF0ZUF0dHJpYnV0ZXMoYWN0aW9ucykge1xuICAgICAgICBPYmplY3Qua2V5cyhhY3Rpb25zLnNldCkuZm9yRWFjaChrZXkgPT4gdGhpcy5zZXRBdHRyaWJ1dGUoa2V5LCBhY3Rpb25zLnNldFtrZXldKSk7XG4gICAgICAgIGFjdGlvbnMucmVtb3ZlLmZvckVhY2goa2V5ID0+IHRoaXMucmVtb3ZlQXR0cmlidXRlKGtleSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGNoYW5nZXNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF9jaGFuZ2VzVG9BdHRyQWN0aW9ucyhjaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gYXR0ckFjdGlvbnMgPSB7XG4gICAgICAgICAgICBzZXQ6IHt9LFxuICAgICAgICAgICAgcmVtb3ZlOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgY2hhbmdlcy5mb3JFYWNoQWRkZWRJdGVtKHIgPT4gKGF0dHJBY3Rpb25zLnNldFtyLmtleV0gPSByLmN1cnJlbnRWYWx1ZSkpO1xuICAgICAgICBjaGFuZ2VzLmZvckVhY2hDaGFuZ2VkSXRlbShyID0+IChhdHRyQWN0aW9ucy5zZXRbci5rZXldID0gci5jdXJyZW50VmFsdWUpKTtcbiAgICAgICAgY2hhbmdlcy5mb3JFYWNoUmVtb3ZlZEl0ZW0ociA9PiBhdHRyQWN0aW9ucy5yZW1vdmUucHVzaChyLmtleSkpO1xuICAgICAgICByZXR1cm4gYXR0ckFjdGlvbnM7XG4gICAgfVxufVxuRHluYW1pY0F0dHJpYnV0ZXNEaXJlY3RpdmUuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IERpcmVjdGl2ZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tuZGNEeW5hbWljQXR0cmlidXRlc10sW25nQ29tcG9uZW50T3V0bGV0TmRjRHluYW1pY0F0dHJpYnV0ZXNdJyxcbiAgICAgICAgICAgICAgICBleHBvcnRBczogJ25kY0R5bmFtaWNBdHRyaWJ1dGVzJyxcbiAgICAgICAgICAgIH0sXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuRHluYW1pY0F0dHJpYnV0ZXNEaXJlY3RpdmUuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXG4gICAgeyB0eXBlOiBSZW5kZXJlcjIsIH0sXG4gICAgeyB0eXBlOiBLZXlWYWx1ZURpZmZlcnMsIH0sXG4gICAgeyB0eXBlOiBJbmplY3RvciwgfSxcbiAgICB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3sgdHlwZTogSW5qZWN0LCBhcmdzOiBbQ09NUE9ORU5UX0lOSkVDVE9SLF0gfSxdIH0sXG4gICAgeyB0eXBlOiBDb21wb25lbnRPdXRsZXRJbmplY3RvckRpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3sgdHlwZTogT3B0aW9uYWwgfSwgeyB0eXBlOiBIb3N0IH0sXSB9LFxuXTtcbkR5bmFtaWNBdHRyaWJ1dGVzRGlyZWN0aXZlLnByb3BEZWNvcmF0b3JzID0ge1xuICAgIFwibmRjRHluYW1pY0F0dHJpYnV0ZXNcIjogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgIFwibmdDb21wb25lbnRPdXRsZXROZGNEeW5hbWljQXR0cmlidXRlc1wiOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG59O1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfSBjaGVja2VkIGJ5IHRzY1xuICovXG5jbGFzcyBEeW5hbWljQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IF92Y3JcbiAgICAgKiBAcGFyYW0gez99IF9jZnJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihfdmNyLCBfY2ZyKSB7XG4gICAgICAgIHRoaXMuX3ZjciA9IF92Y3I7XG4gICAgICAgIHRoaXMuX2NmciA9IF9jZnI7XG4gICAgICAgIHRoaXMubmRjRHluYW1pY0NyZWF0ZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gY2hhbmdlc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlcykge1xuICAgICAgICBpZiAoY2hhbmdlc1snbmRjRHluYW1pY0NvbXBvbmVudCddKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUR5bmFtaWNDb21wb25lbnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGNyZWF0ZUR5bmFtaWNDb21wb25lbnQoKSB7XG4gICAgICAgIHRoaXMuX3Zjci5jbGVhcigpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudFJlZiA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLm5kY0R5bmFtaWNDb21wb25lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50UmVmID0gdGhpcy5fdmNyLmNyZWF0ZUNvbXBvbmVudCh0aGlzLl9jZnIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodGhpcy5uZGNEeW5hbWljQ29tcG9uZW50KSwgMCwgdGhpcy5fcmVzb2x2ZUluamVjdG9yKCksIHRoaXMubmRjRHluYW1pY0NvbnRlbnQpO1xuICAgICAgICAgICAgdGhpcy5uZGNEeW5hbWljQ3JlYXRlZC5lbWl0KHRoaXMuY29tcG9uZW50UmVmKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF9yZXNvbHZlSW5qZWN0b3IoKSB7XG4gICAgICAgIGxldCAvKiogQHR5cGUgez99ICovIGluamVjdG9yID0gdGhpcy5uZGNEeW5hbWljSW5qZWN0b3IgfHwgdGhpcy5fdmNyLnBhcmVudEluamVjdG9yO1xuICAgICAgICBpZiAodGhpcy5uZGNEeW5hbWljUHJvdmlkZXJzKSB7XG4gICAgICAgICAgICBpbmplY3RvciA9IEluamVjdG9yLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJzOiB0aGlzLm5kY0R5bmFtaWNQcm92aWRlcnMsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBpbmplY3RvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmplY3RvcjtcbiAgICB9XG59XG5EeW5hbWljQ29tcG9uZW50LmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBDb21wb25lbnQsIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3I6ICduZGMtZHluYW1pYycsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICcnXG4gICAgICAgICAgICB9LF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cbkR5bmFtaWNDb21wb25lbnQuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXG4gICAgeyB0eXBlOiBWaWV3Q29udGFpbmVyUmVmLCB9LFxuICAgIHsgdHlwZTogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCB9LFxuXTtcbkR5bmFtaWNDb21wb25lbnQucHJvcERlY29yYXRvcnMgPSB7XG4gICAgXCJuZGNEeW5hbWljQ29tcG9uZW50XCI6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICBcIm5kY0R5bmFtaWNJbmplY3RvclwiOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgXCJuZGNEeW5hbWljUHJvdmlkZXJzXCI6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICBcIm5kY0R5bmFtaWNDb250ZW50XCI6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICBcIm5kY0R5bmFtaWNDcmVhdGVkXCI6IFt7IHR5cGU6IE91dHB1dCB9LF0sXG59O1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfSBjaGVja2VkIGJ5IHRzY1xuICovXG4vKipcbiAqIEBwYXJhbSB7P30gdmFsXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjcmVhdGVOZXdDaGFuZ2UodmFsKSB7XG4gICAgcmV0dXJuIG5ldyBTaW1wbGVDaGFuZ2UodW5kZWZpbmVkLCB2YWwsIHRydWUpO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHJlY29yZFxuICogQHBhcmFtIHs/PX0gaXNGaXJzdENoYW5nZVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gcmVjb3JkVG9DaGFuZ2UocmVjb3JkLCBpc0ZpcnN0Q2hhbmdlID0gZmFsc2UpIHtcbiAgICByZXR1cm4gaXNGaXJzdENoYW5nZVxuICAgICAgICA/IGNyZWF0ZU5ld0NoYW5nZShyZWNvcmQuY3VycmVudFZhbHVlKVxuICAgICAgICA6IG5ldyBTaW1wbGVDaGFuZ2UocmVjb3JkLnByZXZpb3VzVmFsdWUsIHJlY29yZC5jdXJyZW50VmFsdWUsIGZhbHNlKTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBpc0ZpcnN0Q2hhbmdlc1xuICogQHBhcmFtIHs/fSBzZXR0ZXJcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHNldENoYW5nZUZyb21SZWNvcmQoaXNGaXJzdENoYW5nZXMsIHNldHRlcikge1xuICAgIHJldHVybiAocmVjb3JkKSA9PiBzZXR0ZXIocmVjb3JkLCByZWNvcmRUb0NoYW5nZShyZWNvcmQsIGlzRmlyc3RDaGFuZ2VzKSk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gaXNGaXJzdENoYW5nZXNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGdldENoYW5nZXNSZWNvcmRzKGlzRmlyc3RDaGFuZ2VzKSB7XG4gICAgcmV0dXJuIChjaGFuZ2VzKSA9PiBzZXRDaGFuZ2VGcm9tUmVjb3JkKGlzRmlyc3RDaGFuZ2VzLCAocmVjb3JkLCBjaGFuZ2UpID0+IGNoYW5nZXNbcmVjb3JkLmtleV0gPSBjaGFuZ2UpO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IGlzRmlyc3RDaGFuZ2VzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBnZXROZXdDaGFuZ2VzUmVjb3Jkcyhpc0ZpcnN0Q2hhbmdlcykge1xuICAgIHJldHVybiAoY2hhbmdlcykgPT4gc2V0Q2hhbmdlRnJvbVJlY29yZChpc0ZpcnN0Q2hhbmdlcywgKHJlY29yZCwgY2hhbmdlKSA9PiB7XG4gICAgICAgIGlmICghY2hhbmdlc1tyZWNvcmQua2V5XSkge1xuICAgICAgICAgICAgY2hhbmdlc1tyZWNvcmQua2V5XSA9IGNoYW5nZTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuY29uc3QgLyoqIEB0eXBlIHs/fSAqLyBkZWZhdWx0T3B0cyA9IHtcbiAgICBpc0ZpcnN0Q2hhbmdlczogZmFsc2UsXG4gICAgb25seU5ld0NoYW5nZXM6IGZhbHNlLFxufTtcbi8qKlxuICogQHBhcmFtIHs/PX0gb3B0c1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY2hhbmdlc0Zyb21SZWNvcmQob3B0cyA9IGRlZmF1bHRPcHRzKSB7XG4gICAgcmV0dXJuIG9wdHMub25seU5ld0NoYW5nZXNcbiAgICAgICAgPyBnZXROZXdDaGFuZ2VzUmVjb3JkcyhvcHRzLmlzRmlyc3RDaGFuZ2VzKVxuICAgICAgICA6IGdldENoYW5nZXNSZWNvcmRzKG9wdHMuaXNGaXJzdENoYW5nZXMpO1xufVxuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfSBjaGVja2VkIGJ5IHRzY1xuICovXG5jb25zdCAvKiogQHR5cGUgez99ICovIHJlY29yZFRvQ2hhbmdlcyA9IGNoYW5nZXNGcm9tUmVjb3JkKHsgaXNGaXJzdENoYW5nZXM6IHRydWUgfSk7XG5jb25zdCAvKiogQHR5cGUgez99ICovIHJlY29yZFRvTmV3Q2hhbmdlcyA9IGNoYW5nZXNGcm9tUmVjb3JkKHsgb25seU5ld0NoYW5nZXM6IHRydWUgfSk7XG5jbGFzcyBEeW5hbWljRGlyZWN0aXZlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IF9kaWZmZXJzXG4gICAgICogQHBhcmFtIHs/fSBfaW5qZWN0b3JcbiAgICAgKiBAcGFyYW0gez99IF9jZnJcbiAgICAgKiBAcGFyYW0gez99IF9jb21wb25lbnRJbmplY3RvclR5cGVcbiAgICAgKiBAcGFyYW0gez99IF9jb21wb25lbnRPdXRsZXRJbmplY3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKF9kaWZmZXJzLCBfaW5qZWN0b3IsIF9jZnIsIF9jb21wb25lbnRJbmplY3RvclR5cGUsIF9jb21wb25lbnRPdXRsZXRJbmplY3Rvcikge1xuICAgICAgICB0aGlzLl9kaWZmZXJzID0gX2RpZmZlcnM7XG4gICAgICAgIHRoaXMuX2luamVjdG9yID0gX2luamVjdG9yO1xuICAgICAgICB0aGlzLl9jZnIgPSBfY2ZyO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRJbmplY3RvclR5cGUgPSBfY29tcG9uZW50SW5qZWN0b3JUeXBlO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRPdXRsZXRJbmplY3RvciA9IF9jb21wb25lbnRPdXRsZXRJbmplY3RvcjtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50SW5qZWN0b3IgPSB0aGlzLl9pbmplY3Rvci5nZXQodGhpcy5fY29tcG9uZW50SW5qZWN0b3JUeXBlLCBudWxsKTtcbiAgICAgICAgdGhpcy5fbGFzdENvbXBvbmVudEluc3QgPSB0aGlzLl9jb21wb25lbnRJbmplY3RvcjtcbiAgICAgICAgdGhpcy5faW5wdXRzRGlmZmVyID0gdGhpcy5fZGlmZmVycy5maW5kKHt9KS5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5fY29tcEZhY3RvcnkgPSBudWxsO1xuICAgICAgICB0aGlzLl9vdXRwdXRzU2hvdWxkRGlzY29ubmVjdCQgPSBuZXcgU3ViamVjdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBfaW5wdXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZGNEeW5hbWljSW5wdXRzIHx8IHRoaXMubmdDb21wb25lbnRPdXRsZXROZGNEeW5hbWljSW5wdXRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBfb3V0cHV0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmRjRHluYW1pY091dHB1dHMgfHwgdGhpcy5uZ0NvbXBvbmVudE91dGxldE5kY0R5bmFtaWNPdXRwdXRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBfY29tcEluamVjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50T3V0bGV0SW5qZWN0b3IgfHwgdGhpcy5fY29tcG9uZW50SW5qZWN0b3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgZ2V0IF9jb21wUmVmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tcEluamVjdG9yLmNvbXBvbmVudFJlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBnZXQgX2NvbXBvbmVudEluc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wUmVmLmluc3RhbmNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBfY29tcG9uZW50SW5zdENoYW5nZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9sYXN0Q29tcG9uZW50SW5zdCAhPT0gdGhpcy5fY29tcG9uZW50SW5zdCkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdENvbXBvbmVudEluc3QgPSB0aGlzLl9jb21wb25lbnRJbnN0O1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBjaGFuZ2VzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gY29tcENoYW5nZWQgPSB0aGlzLl9jb21wb25lbnRJbnN0Q2hhbmdlZDtcbiAgICAgICAgaWYgKGNvbXBDaGFuZ2VkIHx8IHRoaXMuX2lucHV0c0NoYW5nZWQoY2hhbmdlcykpIHtcbiAgICAgICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gaW5wdXRzQ2hhbmdlcyA9IHRoaXMuX2dldElucHV0c0NoYW5nZXModGhpcy5faW5wdXRzKTtcbiAgICAgICAgICAgIGlmIChpbnB1dHNDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlSW5wdXRDaGFuZ2VzKGlucHV0c0NoYW5nZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dHMoY29tcENoYW5nZWQgfHwgIXRoaXMuX2xhc3RJbnB1dENoYW5nZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wQ2hhbmdlZCB8fCB0aGlzLl9vdXRwdXRzQ2hhbmdlZChjaGFuZ2VzKSkge1xuICAgICAgICAgICAgdGhpcy5iaW5kT3V0cHV0cygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgbmdEb0NoZWNrKCkge1xuICAgICAgICBpZiAodGhpcy5fY29tcG9uZW50SW5zdENoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW5wdXRzKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5iaW5kT3V0cHV0cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gaW5wdXRzID0gdGhpcy5faW5wdXRzO1xuICAgICAgICBpZiAoIWlucHV0cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gaW5wdXRzQ2hhbmdlcyA9IHRoaXMuX2dldElucHV0c0NoYW5nZXModGhpcy5faW5wdXRzKTtcbiAgICAgICAgaWYgKGlucHV0c0NoYW5nZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gaXNOb3RGaXJzdENoYW5nZSA9ICEhdGhpcy5fbGFzdElucHV0Q2hhbmdlcztcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUlucHV0Q2hhbmdlcyhpbnB1dHNDaGFuZ2VzKTtcbiAgICAgICAgICAgIGlmIChpc05vdEZpcnN0Q2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9kaXNjb25uZWN0T3V0cHV0cygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez89fSBpc0ZpcnN0Q2hhbmdlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICB1cGRhdGVJbnB1dHMoaXNGaXJzdENoYW5nZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChpc0ZpcnN0Q2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb21wRmFjdG9yeSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gY29tcEluc3QgPSB0aGlzLl9jb21wb25lbnRJbnN0O1xuICAgICAgICBsZXQgLyoqIEB0eXBlIHs/fSAqLyBpbnB1dHMgPSB0aGlzLl9pbnB1dHM7XG4gICAgICAgIGlmICghaW5wdXRzIHx8ICFjb21wSW5zdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0cyA9IHRoaXMuX3Jlc29sdmVJbnB1dHMoaW5wdXRzKTtcbiAgICAgICAgT2JqZWN0LmtleXMoaW5wdXRzKS5mb3JFYWNoKHAgPT4gKGNvbXBJbnN0W3BdID0gaW5wdXRzW3BdKSk7XG4gICAgICAgIHRoaXMubm90aWZ5T25JbnB1dENoYW5nZXModGhpcy5fbGFzdElucHV0Q2hhbmdlcywgaXNGaXJzdENoYW5nZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgYmluZE91dHB1dHMoKSB7XG4gICAgICAgIHRoaXMuX2Rpc2Nvbm5lY3RPdXRwdXRzKCk7XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gY29tcEluc3QgPSB0aGlzLl9jb21wb25lbnRJbnN0O1xuICAgICAgICBsZXQgLyoqIEB0eXBlIHs/fSAqLyBvdXRwdXRzID0gdGhpcy5fb3V0cHV0cztcbiAgICAgICAgaWYgKCFvdXRwdXRzIHx8ICFjb21wSW5zdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dHMgPSB0aGlzLl9yZXNvbHZlT3V0cHV0cyhvdXRwdXRzKTtcbiAgICAgICAgT2JqZWN0LmtleXMob3V0cHV0cylcbiAgICAgICAgICAgIC5maWx0ZXIocCA9PiBjb21wSW5zdFtwXSlcbiAgICAgICAgICAgIC5mb3JFYWNoKHAgPT4gY29tcEluc3RbcF1cbiAgICAgICAgICAgIC5waXBlKHRha2VVbnRpbCh0aGlzLl9vdXRwdXRzU2hvdWxkRGlzY29ubmVjdCQpKVxuICAgICAgICAgICAgLnN1YnNjcmliZShvdXRwdXRzW3BdKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Pz19IGNoYW5nZXNcbiAgICAgKiBAcGFyYW0gez89fSBmb3JjZUZpcnN0Q2hhbmdlc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgbm90aWZ5T25JbnB1dENoYW5nZXMoY2hhbmdlcyA9IHt9LCBmb3JjZUZpcnN0Q2hhbmdlcykge1xuICAgICAgICAvLyBFeGl0IGVhcmx5IGlmIGNvbXBvbmVudCBub3QgaW50ZXJlc3RlZCB0byByZWNlaXZlIGNoYW5nZXNcbiAgICAgICAgaWYgKCF0aGlzLl9jb21wb25lbnRJbnN0Lm5nT25DaGFuZ2VzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcmNlRmlyc3RDaGFuZ2VzKSB7XG4gICAgICAgICAgICBjaGFuZ2VzID0gdGhpcy5fY29sbGVjdEZpcnN0Q2hhbmdlcygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudEluc3QubmdPbkNoYW5nZXMoY2hhbmdlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgX2Rpc2Nvbm5lY3RPdXRwdXRzKCkge1xuICAgICAgICB0aGlzLl9vdXRwdXRzU2hvdWxkRGlzY29ubmVjdCQubmV4dCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGlucHV0c1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgX2dldElucHV0c0NoYW5nZXMoaW5wdXRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dHNEaWZmZXIuZGlmZih0aGlzLl9pbnB1dHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGRpZmZlclxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgX3VwZGF0ZUlucHV0Q2hhbmdlcyhkaWZmZXIpIHtcbiAgICAgICAgdGhpcy5fbGFzdElucHV0Q2hhbmdlcyA9IHRoaXMuX2NvbGxlY3RDaGFuZ2VzRnJvbURpZmZlcihkaWZmZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF9jb2xsZWN0Rmlyc3RDaGFuZ2VzKCkge1xuICAgICAgICBjb25zdCAvKiogQHR5cGUgez99ICovIGNoYW5nZXMgPSAvKiogQHR5cGUgez99ICovICh7fSk7XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gaW5wdXRzID0gdGhpcy5faW5wdXRzO1xuICAgICAgICBPYmplY3Qua2V5cyhpbnB1dHMpLmZvckVhY2gocHJvcCA9PiAoY2hhbmdlc1twcm9wXSA9IGNyZWF0ZU5ld0NoYW5nZShpbnB1dHNbcHJvcF0pKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHZlQ2hhbmdlcyhjaGFuZ2VzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBkaWZmZXJcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF9jb2xsZWN0Q2hhbmdlc0Zyb21EaWZmZXIoZGlmZmVyKSB7XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gY2hhbmdlcyA9IC8qKiBAdHlwZSB7P30gKi8gKHt9KTtcbiAgICAgICAgZGlmZmVyLmZvckVhY2hBZGRlZEl0ZW0ocmVjb3JkVG9DaGFuZ2VzKGNoYW5nZXMpKTtcbiAgICAgICAgZGlmZmVyLmZvckVhY2hJdGVtKHJlY29yZFRvTmV3Q2hhbmdlcyhjaGFuZ2VzKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHZlQ2hhbmdlcyhjaGFuZ2VzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBjaGFuZ2VzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBfaW5wdXRzQ2hhbmdlZChjaGFuZ2VzKSB7XG4gICAgICAgIHJldHVybiAoJ25nQ29tcG9uZW50T3V0bGV0TmRjRHluYW1pY0lucHV0cycgaW4gY2hhbmdlcyB8fFxuICAgICAgICAgICAgJ25kY0R5bmFtaWNJbnB1dHMnIGluIGNoYW5nZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGNoYW5nZXNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF9vdXRwdXRzQ2hhbmdlZChjaGFuZ2VzKSB7XG4gICAgICAgIHJldHVybiAoJ25nQ29tcG9uZW50T3V0bGV0TmRjRHluYW1pY091dHB1dHMnIGluIGNoYW5nZXMgfHxcbiAgICAgICAgICAgICduZGNEeW5hbWljT3V0cHV0cycgaW4gY2hhbmdlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgX3Jlc29sdmVDb21wRmFjdG9yeSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Nmci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh0aGlzLl9jb21wUmVmLmNvbXBvbmVudFR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKC8qKiBAdHlwZSB7P30gKi8gZSkge1xuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIGlmIGNvbXBvbmVudFR5cGUgZG9lcyBub3QgZXhpc3QgKGhhcHBlbnMgb24gTmdDb21wb25lbnRPdXRsZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Nmci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh0aGlzLl9jb21wUmVmLmluc3RhbmNlLmNvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoLyoqIEB0eXBlIHs/fSAqLyBlKSB7XG4gICAgICAgICAgICAvLyBGYWN0b3J5IG5vdCBhdmFpbGFibGUgLSBiYWlsb3V0XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF91cGRhdGVDb21wRmFjdG9yeSgpIHtcbiAgICAgICAgdGhpcy5fY29tcEZhY3RvcnkgPSB0aGlzLl9yZXNvbHZlQ29tcEZhY3RvcnkoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBpbnB1dHNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF9yZXNvbHZlSW5wdXRzKGlucHV0cykge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbXBGYWN0b3J5KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW1hcElPKGlucHV0cywgdGhpcy5fY29tcEZhY3RvcnkuaW5wdXRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBvdXRwdXRzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBfcmVzb2x2ZU91dHB1dHMob3V0cHV0cykge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbXBGYWN0b3J5KSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVtYXBJTyhvdXRwdXRzLCB0aGlzLl9jb21wRmFjdG9yeS5vdXRwdXRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBjaGFuZ2VzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBfcmVzb2x2ZUNoYW5nZXMoY2hhbmdlcykge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbXBGYWN0b3J5KSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVtYXBJTyhjaGFuZ2VzLCB0aGlzLl9jb21wRmFjdG9yeS5pbnB1dHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGlvXG4gICAgICogQHBhcmFtIHs/fSBtYXBwaW5nXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBfcmVtYXBJTyhpbywgbWFwcGluZykge1xuICAgICAgICBjb25zdCAvKiogQHR5cGUgez99ICovIG5ld0lPID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKGlvKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBjb25zdCAvKiogQHR5cGUgez99ICovIG5ld0tleSA9IHRoaXMuX2ZpbmRQcm9wQnlUcGxJbk1hcHBpbmcoa2V5LCBtYXBwaW5nKSB8fCBrZXk7XG4gICAgICAgICAgICBuZXdJT1tuZXdLZXldID0gaW9ba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXdJTztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB0cGxOYW1lXG4gICAgICogQHBhcmFtIHs/fSBtYXBwaW5nXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBfZmluZFByb3BCeVRwbEluTWFwcGluZyh0cGxOYW1lLCBtYXBwaW5nKSB7XG4gICAgICAgIGZvciAoY29uc3QgLyoqIEB0eXBlIHs/fSAqLyBtYXAgb2YgbWFwcGluZykge1xuICAgICAgICAgICAgaWYgKG1hcC50ZW1wbGF0ZU5hbWUgPT09IHRwbE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwLnByb3BOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbkR5bmFtaWNEaXJlY3RpdmUuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IERpcmVjdGl2ZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tuZGNEeW5hbWljSW5wdXRzXSxbbmRjRHluYW1pY091dHB1dHNdLFtuZ0NvbXBvbmVudE91dGxldE5kY0R5bmFtaWNJbnB1dHNdLFtuZ0NvbXBvbmVudE91dGxldE5kY0R5bmFtaWNPdXRwdXRzXScsXG4gICAgICAgICAgICB9LF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cbkR5bmFtaWNEaXJlY3RpdmUuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXG4gICAgeyB0eXBlOiBLZXlWYWx1ZURpZmZlcnMsIH0sXG4gICAgeyB0eXBlOiBJbmplY3RvciwgfSxcbiAgICB7IHR5cGU6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgfSxcbiAgICB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3sgdHlwZTogSW5qZWN0LCBhcmdzOiBbQ09NUE9ORU5UX0lOSkVDVE9SLF0gfSxdIH0sXG4gICAgeyB0eXBlOiBDb21wb25lbnRPdXRsZXRJbmplY3RvckRpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3sgdHlwZTogSG9zdCB9LCB7IHR5cGU6IE9wdGlvbmFsIH0sXSB9LFxuXTtcbkR5bmFtaWNEaXJlY3RpdmUucHJvcERlY29yYXRvcnMgPSB7XG4gICAgXCJuZGNEeW5hbWljSW5wdXRzXCI6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICBcIm5nQ29tcG9uZW50T3V0bGV0TmRjRHluYW1pY0lucHV0c1wiOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgXCJuZGNEeW5hbWljT3V0cHV0c1wiOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgXCJuZ0NvbXBvbmVudE91dGxldE5kY0R5bmFtaWNPdXRwdXRzXCI6IFt7IHR5cGU6IElucHV0IH0sXSxcbn07XG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBhZGRlZCBieSB0c2lja2xlXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9IGNoZWNrZWQgYnkgdHNjXG4gKi9cbmNsYXNzIER5bmFtaWNNb2R1bGUge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gY29tcG9uZW50c1xuICAgICAqIEBwYXJhbSB7Pz19IGNvbXBvbmVudEluamVjdG9yXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBzdGF0aWMgd2l0aENvbXBvbmVudHMoY29tcG9uZW50cywgY29tcG9uZW50SW5qZWN0b3IgPSBEeW5hbWljQ29tcG9uZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZ01vZHVsZTogRHluYW1pY01vZHVsZSxcbiAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUyxcbiAgICAgICAgICAgICAgICAgICAgdXNlVmFsdWU6IGNvbXBvbmVudHMsXG4gICAgICAgICAgICAgICAgICAgIG11bHRpOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBDT01QT05FTlRfSU5KRUNUT1IsIHVzZVZhbHVlOiBjb21wb25lbnRJbmplY3RvciB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5EeW5hbWljTW9kdWxlLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBOZ01vZHVsZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlXSxcbiAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgRHluYW1pY0NvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgRHluYW1pY0RpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgQ29tcG9uZW50T3V0bGV0SW5qZWN0b3JEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgIER5bmFtaWNBdHRyaWJ1dGVzRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgZXhwb3J0czogW1xuICAgICAgICAgICAgICAgICAgICBEeW5hbWljQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICBEeW5hbWljRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICBDb21wb25lbnRPdXRsZXRJbmplY3RvckRpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgRHluYW1pY0F0dHJpYnV0ZXNEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXSB9LFxuXTtcblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IGFkZGVkIGJ5IHRzaWNrbGVcbiAqIEBzdXBwcmVzcyB7Y2hlY2tUeXBlc30gY2hlY2tlZCBieSB0c2NcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfSBjaGVja2VkIGJ5IHRzY1xuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBhZGRlZCBieSB0c2lja2xlXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9IGNoZWNrZWQgYnkgdHNjXG4gKi9cblxuZXhwb3J0IHsgRHluYW1pY01vZHVsZSwgRHluYW1pY0RpcmVjdGl2ZSwgRHluYW1pY0NvbXBvbmVudCwgRHluYW1pY0F0dHJpYnV0ZXNEaXJlY3RpdmUsIENPTVBPTkVOVF9JTkpFQ1RPUiBhcyDJtWEsIENvbXBvbmVudE91dGxldEluamVjdG9yRGlyZWN0aXZlIGFzIMm1YiB9O1xuIl19","map":{"version":3,"sources":["C:/Users/hp/OneDrive/Desktop/CNS-Portal/frontend/angular-ui/node_modules/ng-dynamic-component/bundles/ng-dynamic-component.es2015.js"],"names":["InjectionToken","Directive","Host","Inject","Injector","Input","KeyValueDiffers","Optional","Renderer2","Component","ComponentFactoryResolver","EventEmitter","Output","ViewContainerRef","SimpleChange","ANALYZE_FOR_ENTRY_COMPONENTS","NgModule","NgComponentOutlet","CommonModule","takeUntil","Subject","ɵngcc0","ɵngcc1","COMPONENT_INJECTOR","ComponentOutletInjectorDirective","componentOutlet","_componentRef","ɵfac","ComponentOutletInjectorDirective_Factory","t","ɵɵdirectiveInject","ɵdir","ɵɵdefineDirective","type","selectors","exportAs","ctorParameters","decorators","ngDevMode","ɵsetClassMetadata","args","selector","DynamicAttributesDirective","renderer","differs","injector","componentInjectorType","componentOutletInjector","_attrsDiffer","find","create","_componentInjector","get","ndcDynamicAttributes","ngComponentOutletNdcDynamicAttributes","_compInjector","componentRef","location","nativeElement","componentType","_lastCompType","_compType","isCompChanged","_isCompChanged","changes","diff","_attributes","_lastAttrActions","_changesToAttrActions","_updateAttributes","name","value","namespace","setAttribute","_nativeElement","removeAttribute","actions","Object","keys","set","forEach","key","remove","attrActions","forEachAddedItem","r","currentValue","forEachChangedItem","forEachRemovedItem","push","DynamicAttributesDirective_Factory","inputs","undefined","propDecorators","DynamicComponent","_vcr","_cfr","ndcDynamicCreated","createDynamicComponent","clear","ndcDynamicComponent","createComponent","resolveComponentFactory","_resolveInjector","ndcDynamicContent","emit","ndcDynamicInjector","parentInjector","ndcDynamicProviders","providers","parent","DynamicComponent_Factory","ɵcmp","ɵɵdefineComponent","outputs","features","ɵɵNgOnChangesFeature","decls","vars","template","DynamicComponent_Template","rf","ctx","encapsulation","createNewChange","val","recordToChange","record","isFirstChange","previousValue","setChangeFromRecord","isFirstChanges","setter","getChangesRecords","change","getNewChangesRecords","defaultOpts","onlyNewChanges","changesFromRecord","opts","recordToChanges","recordToNewChanges","DynamicDirective","_differs","_injector","_componentInjectorType","_componentOutletInjector","_lastComponentInst","_inputsDiffer","_compFactory","_outputsShouldDisconnect$","ndcDynamicInputs","ngComponentOutletNdcDynamicInputs","ndcDynamicOutputs","ngComponentOutletNdcDynamicOutputs","_compRef","instance","_componentInst","compChanged","_componentInstChanged","_inputsChanged","inputsChanges","_getInputsChanges","_inputs","_updateInputChanges","updateInputs","_lastInputChanges","_outputsChanged","bindOutputs","isNotFirstChange","_disconnectOutputs","_updateCompFactory","compInst","_resolveInputs","p","notifyOnInputChanges","_outputs","_resolveOutputs","filter","pipe","subscribe","forceFirstChanges","ngOnChanges","_collectFirstChanges","next","differ","_collectChangesFromDiffer","prop","_resolveChanges","forEachItem","e","constructor","_resolveCompFactory","_remapIO","io","mapping","newIO","newKey","_findPropByTplInMapping","tplName","map","templateName","propName","DynamicDirective_Factory","DynamicModule","components","componentInjector","ngModule","provide","useValue","multi","DynamicModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","ngJitMode","ɵɵsetNgModuleScope","declarations","exports","ɵa","ɵb"],"mappings":";;;AAAA,SAASA,cAAT,EAAyBC,SAAzB,EAAoCC,IAApC,EAA0CC,MAA1C,EAAkDC,QAAlD,EAA4DC,KAA5D,EAAmEC,eAAnE,EAAoFC,QAApF,EAA8FC,SAA9F,EAAyGC,SAAzG,EAAoHC,wBAApH,EAA8IC,YAA9I,EAA4JC,MAA5J,EAAoKC,gBAApK,EAAsLC,YAAtL,EAAoMC,4BAApM,EAAkOC,QAAlO,QAAkP,eAAlP;AACA,SAASC,iBAAT,EAA4BC,YAA5B,QAAgD,iBAAhD;AACA,SAASC,SAAT,QAA0B,gBAA1B;AACA,SAASC,OAAT,QAAwB,MAAxB;AAEA;AACA;AACA;AACA;;AACA,OAAO,KAAKC,MAAZ,MAAwB,eAAxB;AACA,OAAO,KAAKC,MAAZ,MAAwB,iBAAxB;AACA;AAAM;AAAiBC,kBAAkB,GAAG,IAAIvB,cAAJ,CAAmB,mBAAnB,CAA5C;AAEA;AACA;AACA;AACA;;IACMwB,gC;AACF;AACJ;AACA;AACI,4CAAYC,eAAZ,EAA6B;AAAA;;AACzB,SAAKA,eAAL,GAAuBA,eAAvB;AACH;AACD;AACJ;AACA;;;;;SACI,eAAmB;AACf,aAAO;AAAC;AAAkB,aAAKA,eAAxB,CAA0CC;AAAjD;AACH;;;;;;AAELF,gCAAgC,CAACG,IAAjC,GAAwC,SAASC,wCAAT,CAAkDC,CAAlD,EAAqD;AAAE,SAAO,KAAKA,CAAC,IAAIL,gCAAV,EAA4CH,MAAM,CAACS,iBAAP,CAAyBR,MAAM,CAACL,iBAAhC,EAAmD,CAAnD,CAA5C,CAAP;AAA4G,CAA3M;;AACAO,gCAAgC,CAACO,IAAjC,GAAwCV,MAAM,CAACW,iBAAP,CAAyB;AAAEC,EAAAA,IAAI,EAAET,gCAAR;AAA0CU,EAAAA,SAAS,EAAE,CAAC,CAAC,EAAD,EAAK,mBAAL,EAA0B,EAA1B,CAAD,CAArD;AAAsFC,EAAAA,QAAQ,EAAE,CAAC,4BAAD;AAAhG,CAAzB,CAAxC;AACA;;AACAX,gCAAgC,CAACY,cAAjC,GAAkD;AAAA,SAAM,CACpD;AAAEH,IAAAA,IAAI,EAAEhB,iBAAR;AAA2BoB,IAAAA,UAAU,EAAE,CAAC;AAAEJ,MAAAA,IAAI,EAAE/B;AAAR,KAAD;AAAvC,GADoD,CAAN;AAAA,CAAlD;;AAGA,CAAC,YAAY;AAAE,GAAC,OAAOoC,SAAP,KAAqB,WAArB,IAAoCA,SAArC,KAAmDjB,MAAM,CAACkB,iBAAP,CAAyBf,gCAAzB,EAA2D,CAAC;AACtHS,IAAAA,IAAI,EAAEhC,SADgH;AAEtHuC,IAAAA,IAAI,EAAE,CAAC;AACCC,MAAAA,QAAQ,EAAE,qBADX;AAECN,MAAAA,QAAQ,EAAE;AAFX,KAAD;AAFgH,GAAD,CAA3D,EAM1D,YAAY;AAAE,WAAO,CAAC;AAAEF,MAAAA,IAAI,EAAEX,MAAM,CAACL,iBAAf;AAAkCoB,MAAAA,UAAU,EAAE,CAAC;AAC7DJ,QAAAA,IAAI,EAAE/B;AADuD,OAAD;AAA9C,KAAD,CAAP;AAEF,GAR8C,EAQ5C,IAR4C,CAAnD;AAQe,CAR9B;AAUA;AACA;AACA;AACA;;;IACMwC,0B;AACF;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,sCAAYC,QAAZ,EAAsBC,OAAtB,EAA+BC,QAA/B,EAAyCC,qBAAzC,EAAgEC,uBAAhE,EAAyF;AAAA;;AACrF,SAAKJ,QAAL,GAAgBA,QAAhB;AACA,SAAKC,OAAL,GAAeA,OAAf;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKC,qBAAL,GAA6BA,qBAA7B;AACA,SAAKC,uBAAL,GAA+BA,uBAA/B;AACA,SAAKC,YAAL,GAAoB,KAAKJ,OAAL,CAAaK,IAAb,CAAkB,EAAlB,EAAsBC,MAAtB,EAApB;AACA,SAAKC,kBAAL,GAA0B,KAAKN,QAAL,CAAcO,GAAd,CAAkB,KAAKN,qBAAvB,EAA8C,IAA9C,CAA1B;AACH;AACD;AACJ;AACA;;;;;SACI,eAAkB;AACd,aAAQ,KAAKO,oBAAL,IAA6B,KAAKC,qCAA1C;AACH;AACD;AACJ;AACA;;;;SACI,eAAoB;AAChB,aAAO,KAAKP,uBAAL,IAAgC,KAAKI,kBAA5C;AACH;AACD;AACJ;AACA;;;;SACI,eAAqB;AACjB,aAAO,KAAKI,aAAL,CAAmBC,YAAnB,CAAgCC,QAAhC,CAAyCC,aAAhD;AACH;AACD;AACJ;AACA;;;;SACI,eAAgB;AACZ,aAAO,KAAKH,aAAL,CAAmBC,YAAnB,CAAgCG,aAAvC;AACH;AACD;AACJ;AACA;;;;SACI,eAAqB;AACjB,UAAI,KAAKC,aAAL,KAAuB,KAAKC,SAAhC,EAA2C;AACvC,aAAKD,aAAL,GAAqB,KAAKC,SAA1B;AACA,eAAO,IAAP;AACH;;AACD,aAAO,KAAP;AACH;AACD;AACJ;AACA;;;;WACI,qBAAY;AACR;AAAM;AAAiBC,MAAAA,aAAa,GAAG,KAAKC,cAA5C;;AACA;AAAM;AAAiBC,MAAAA,OAAO,GAAG,KAAKhB,YAAL,CAAkBiB,IAAlB,CAAuB,KAAKC,WAA5B,CAAjC;;AACA,UAAIF,OAAJ,EAAa;AACT,aAAKG,gBAAL,GAAwB,KAAKC,qBAAL,CAA2BJ,OAA3B,CAAxB;AACH;;AACD,UAAIA,OAAO,IAAKF,aAAa,IAAI,KAAKK,gBAAtC,EAAyD;AACrD,aAAKE,iBAAL,CAAuB,KAAKF,gBAA5B;AACH;AACJ;AACD;AACJ;AACA;AACA;AACA;AACA;;;;WACI,sBAAaG,IAAb,EAAmBC,KAAnB,EAA0BC,SAA1B,EAAqC;AACjC,WAAK7B,QAAL,CAAc8B,YAAd,CAA2B,KAAKC,cAAhC,EAAgDJ,IAAhD,EAAsDC,KAAtD,EAA6DC,SAA7D;AACH;AACD;AACJ;AACA;AACA;AACA;;;;WACI,yBAAgBF,IAAhB,EAAsBE,SAAtB,EAAiC;AAC7B,WAAK7B,QAAL,CAAcgC,eAAd,CAA8B,KAAKD,cAAnC,EAAmDJ,IAAnD,EAAyDE,SAAzD;AACH;AACD;AACJ;AACA;AACA;;;;WACI,2BAAkBI,OAAlB,EAA2B;AAAA;;AACvBC,MAAAA,MAAM,CAACC,IAAP,CAAYF,OAAO,CAACG,GAApB,EAAyBC,OAAzB,CAAiC,UAAAC,GAAG;AAAA,eAAI,KAAI,CAACR,YAAL,CAAkBQ,GAAlB,EAAuBL,OAAO,CAACG,GAAR,CAAYE,GAAZ,CAAvB,CAAJ;AAAA,OAApC;AACAL,MAAAA,OAAO,CAACM,MAAR,CAAeF,OAAf,CAAuB,UAAAC,GAAG;AAAA,eAAI,KAAI,CAACN,eAAL,CAAqBM,GAArB,CAAJ;AAAA,OAA1B;AACH;AACD;AACJ;AACA;AACA;;;;WACI,+BAAsBjB,OAAtB,EAA+B;AAC3B;AAAM;AAAiBmB,MAAAA,WAAW,GAAG;AACjCJ,QAAAA,GAAG,EAAE,EAD4B;AAEjCG,QAAAA,MAAM,EAAE;AAFyB,OAArC;AAIAlB,MAAAA,OAAO,CAACoB,gBAAR,CAAyB,UAAAC,CAAC;AAAA,eAAKF,WAAW,CAACJ,GAAZ,CAAgBM,CAAC,CAACJ,GAAlB,IAAyBI,CAAC,CAACC,YAAhC;AAAA,OAA1B;AACAtB,MAAAA,OAAO,CAACuB,kBAAR,CAA2B,UAAAF,CAAC;AAAA,eAAKF,WAAW,CAACJ,GAAZ,CAAgBM,CAAC,CAACJ,GAAlB,IAAyBI,CAAC,CAACC,YAAhC;AAAA,OAA5B;AACAtB,MAAAA,OAAO,CAACwB,kBAAR,CAA2B,UAAAH,CAAC;AAAA,eAAIF,WAAW,CAACD,MAAZ,CAAmBO,IAAnB,CAAwBJ,CAAC,CAACJ,GAA1B,CAAJ;AAAA,OAA5B;AACA,aAAOE,WAAP;AACH;;;;;;AAELzC,0BAA0B,CAACf,IAA3B,GAAkC,SAAS+D,kCAAT,CAA4C7D,CAA5C,EAA+C;AAAE,SAAO,KAAKA,CAAC,IAAIa,0BAAV,EAAsCrB,MAAM,CAACS,iBAAP,CAAyBT,MAAM,CAACb,SAAhC,CAAtC,EAAkFa,MAAM,CAACS,iBAAP,CAAyBT,MAAM,CAACf,eAAhC,CAAlF,EAAoIe,MAAM,CAACS,iBAAP,CAAyBT,MAAM,CAACjB,QAAhC,CAApI,EAA+KiB,MAAM,CAACS,iBAAP,CAAyBP,kBAAzB,CAA/K,EAA6NF,MAAM,CAACS,iBAAP,CAAyBN,gCAAzB,EAA2D,CAA3D,CAA7N,CAAP;AAAqS,CAAxX;;AACAkB,0BAA0B,CAACX,IAA3B,GAAkCV,MAAM,CAACW,iBAAP,CAAyB;AAAEC,EAAAA,IAAI,EAAES,0BAAR;AAAoCR,EAAAA,SAAS,EAAE,CAAC,CAAC,EAAD,EAAK,sBAAL,EAA6B,EAA7B,CAAD,EAAmC,CAAC,EAAD,EAAK,uCAAL,EAA8C,EAA9C,CAAnC,CAA/C;AAAsIyD,EAAAA,MAAM,EAAE;AAAEtC,IAAAA,oBAAoB,EAAE,sBAAxB;AAAgDC,IAAAA,qCAAqC,EAAE;AAAvF,GAA9I;AAAgRnB,EAAAA,QAAQ,EAAE,CAAC,sBAAD;AAA1R,CAAzB,CAAlC;AACA;;AACAO,0BAA0B,CAACN,cAA3B,GAA4C;AAAA,SAAM,CAC9C;AAAEH,IAAAA,IAAI,EAAEzB;AAAR,GAD8C,EAE9C;AAAEyB,IAAAA,IAAI,EAAE3B;AAAR,GAF8C,EAG9C;AAAE2B,IAAAA,IAAI,EAAE7B;AAAR,GAH8C,EAI9C;AAAE6B,IAAAA,IAAI,EAAE2D,SAAR;AAAmBvD,IAAAA,UAAU,EAAE,CAAC;AAAEJ,MAAAA,IAAI,EAAE9B,MAAR;AAAgBqC,MAAAA,IAAI,EAAE,CAACjB,kBAAD;AAAtB,KAAD;AAA/B,GAJ8C,EAK9C;AAAEU,IAAAA,IAAI,EAAET,gCAAR;AAA0Ca,IAAAA,UAAU,EAAE,CAAC;AAAEJ,MAAAA,IAAI,EAAE1B;AAAR,KAAD,EAAqB;AAAE0B,MAAAA,IAAI,EAAE/B;AAAR,KAArB;AAAtD,GAL8C,CAAN;AAAA,CAA5C;;AAOAwC,0BAA0B,CAACmD,cAA3B,GAA4C;AACxC,0BAAwB,CAAC;AAAE5D,IAAAA,IAAI,EAAE5B;AAAR,GAAD,CADgB;AAExC,2CAAyC,CAAC;AAAE4B,IAAAA,IAAI,EAAE5B;AAAR,GAAD;AAFD,CAA5C;;AAIA,CAAC,YAAY;AAAE,GAAC,OAAOiC,SAAP,KAAqB,WAArB,IAAoCA,SAArC,KAAmDjB,MAAM,CAACkB,iBAAP,CAAyBG,0BAAzB,EAAqD,CAAC;AAChHT,IAAAA,IAAI,EAAEhC,SAD0G;AAEhHuC,IAAAA,IAAI,EAAE,CAAC;AACCC,MAAAA,QAAQ,EAAE,gEADX;AAECN,MAAAA,QAAQ,EAAE;AAFX,KAAD;AAF0G,GAAD,CAArD,EAM1D,YAAY;AAAE,WAAO,CAAC;AAAEF,MAAAA,IAAI,EAAEZ,MAAM,CAACb;AAAf,KAAD,EAA6B;AAAEyB,MAAAA,IAAI,EAAEZ,MAAM,CAACf;AAAf,KAA7B,EAA+D;AAAE2B,MAAAA,IAAI,EAAEZ,MAAM,CAACjB;AAAf,KAA/D,EAA0F;AAAE6B,MAAAA,IAAI,EAAE2D,SAAR;AAAmBvD,MAAAA,UAAU,EAAE,CAAC;AACvIJ,QAAAA,IAAI,EAAE9B,MADiI;AAEvIqC,QAAAA,IAAI,EAAE,CAACjB,kBAAD;AAFiI,OAAD;AAA/B,KAA1F,EAGX;AAAEU,MAAAA,IAAI,EAAET,gCAAR;AAA0Ca,MAAAA,UAAU,EAAE,CAAC;AACzDJ,QAAAA,IAAI,EAAE1B;AADmD,OAAD,EAEzD;AACC0B,QAAAA,IAAI,EAAE/B;AADP,OAFyD;AAAtD,KAHW,CAAP;AAOF,GAb8C,EAa5C;AAAEmD,IAAAA,oBAAoB,EAAE,CAAC;AACnCpB,MAAAA,IAAI,EAAE5B;AAD6B,KAAD,CAAxB;AAEViD,IAAAA,qCAAqC,EAAE,CAAC;AACxCrB,MAAAA,IAAI,EAAE5B;AADkC,KAAD;AAF7B,GAb4C,CAAnD;AAiBC,CAjBhB;AAmBA;AACA;AACA;AACA;;;IACMyF,gB;AACF;AACJ;AACA;AACA;AACI,4BAAYC,IAAZ,EAAkBC,IAAlB,EAAwB;AAAA;;AACpB,SAAKD,IAAL,GAAYA,IAAZ;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,iBAAL,GAAyB,IAAItF,YAAJ,EAAzB;AACH;AACD;AACJ;AACA;AACA;;;;;WACI,qBAAYqD,OAAZ,EAAqB;AACjB,UAAIA,OAAO,CAAC,qBAAD,CAAX,EAAoC;AAChC,aAAKkC,sBAAL;AACH;AACJ;AACD;AACJ;AACA;;;;WACI,kCAAyB;AACrB,WAAKH,IAAL,CAAUI,KAAV;;AACA,WAAK3C,YAAL,GAAoB,IAApB;;AACA,UAAI,KAAK4C,mBAAT,EAA8B;AAC1B,aAAK5C,YAAL,GAAoB,KAAKuC,IAAL,CAAUM,eAAV,CAA0B,KAAKL,IAAL,CAAUM,uBAAV,CAAkC,KAAKF,mBAAvC,CAA1B,EAAuF,CAAvF,EAA0F,KAAKG,gBAAL,EAA1F,EAAmH,KAAKC,iBAAxH,CAApB;AACA,aAAKP,iBAAL,CAAuBQ,IAAvB,CAA4B,KAAKjD,YAAjC;AACH;AACJ;AACD;AACJ;AACA;;;;WACI,4BAAmB;AACf;AAAI;AAAiBX,MAAAA,QAAQ,GAAG,KAAK6D,kBAAL,IAA2B,KAAKX,IAAL,CAAUY,cAArE;;AACA,UAAI,KAAKC,mBAAT,EAA8B;AAC1B/D,QAAAA,QAAQ,GAAGzC,QAAQ,CAAC8C,MAAT,CAAgB;AACvB2D,UAAAA,SAAS,EAAE,KAAKD,mBADO;AAEvBE,UAAAA,MAAM,EAAEjE;AAFe,SAAhB,CAAX;AAIH;;AACD,aAAOA,QAAP;AACH;;;;;;AAELiD,gBAAgB,CAACnE,IAAjB,GAAwB,SAASoF,wBAAT,CAAkClF,CAAlC,EAAqC;AAAE,SAAO,KAAKA,CAAC,IAAIiE,gBAAV,EAA4BzE,MAAM,CAACS,iBAAP,CAAyBT,MAAM,CAACR,gBAAhC,CAA5B,EAA+EQ,MAAM,CAACS,iBAAP,CAAyBT,MAAM,CAACX,wBAAhC,CAA/E,CAAP;AAAmJ,CAAlN;;AACAoF,gBAAgB,CAACkB,IAAjB,GAAwB3F,MAAM,CAAC4F,iBAAP,CAAyB;AAAEhF,EAAAA,IAAI,EAAE6D,gBAAR;AAA0B5D,EAAAA,SAAS,EAAE,CAAC,CAAC,aAAD,CAAD,CAArC;AAAwDyD,EAAAA,MAAM,EAAE;AAAES,IAAAA,mBAAmB,EAAE,qBAAvB;AAA8CM,IAAAA,kBAAkB,EAAE,oBAAlE;AAAwFE,IAAAA,mBAAmB,EAAE,qBAA7G;AAAoIJ,IAAAA,iBAAiB,EAAE;AAAvJ,GAAhE;AAA8OU,EAAAA,OAAO,EAAE;AAAEjB,IAAAA,iBAAiB,EAAE;AAArB,GAAvP;AAAmSkB,EAAAA,QAAQ,EAAE,CAAC9F,MAAM,CAAC+F,oBAAR,CAA7S;AAA4UC,EAAAA,KAAK,EAAE,CAAnV;AAAsVC,EAAAA,IAAI,EAAE,CAA5V;AAA+VC,EAAAA,QAAQ,EAAE,SAASC,yBAAT,CAAmCC,EAAnC,EAAuCC,GAAvC,EAA4C,CAAG,CAAxZ;AAA0ZC,EAAAA,aAAa,EAAE;AAAza,CAAzB,CAAxB;AACA;;AACA7B,gBAAgB,CAAC1D,cAAjB,GAAkC;AAAA,SAAM,CACpC;AAAEH,IAAAA,IAAI,EAAEpB;AAAR,GADoC,EAEpC;AAAEoB,IAAAA,IAAI,EAAEvB;AAAR,GAFoC,CAAN;AAAA,CAAlC;;AAIAoF,gBAAgB,CAACD,cAAjB,GAAkC;AAC9B,yBAAuB,CAAC;AAAE5D,IAAAA,IAAI,EAAE5B;AAAR,GAAD,CADO;AAE9B,wBAAsB,CAAC;AAAE4B,IAAAA,IAAI,EAAE5B;AAAR,GAAD,CAFQ;AAG9B,yBAAuB,CAAC;AAAE4B,IAAAA,IAAI,EAAE5B;AAAR,GAAD,CAHO;AAI9B,uBAAqB,CAAC;AAAE4B,IAAAA,IAAI,EAAE5B;AAAR,GAAD,CAJS;AAK9B,uBAAqB,CAAC;AAAE4B,IAAAA,IAAI,EAAErB;AAAR,GAAD;AALS,CAAlC;;AAOA,CAAC,YAAY;AAAE,GAAC,OAAO0B,SAAP,KAAqB,WAArB,IAAoCA,SAArC,KAAmDjB,MAAM,CAACkB,iBAAP,CAAyBuD,gBAAzB,EAA2C,CAAC;AACtG7D,IAAAA,IAAI,EAAExB,SADgG;AAEtG+B,IAAAA,IAAI,EAAE,CAAC;AACCC,MAAAA,QAAQ,EAAE,aADX;AAEC8E,MAAAA,QAAQ,EAAE;AAFX,KAAD;AAFgG,GAAD,CAA3C,EAM1D,YAAY;AAAE,WAAO,CAAC;AAAEtF,MAAAA,IAAI,EAAEZ,MAAM,CAACR;AAAf,KAAD,EAAoC;AAAEoB,MAAAA,IAAI,EAAEZ,MAAM,CAACX;AAAf,KAApC,CAAP;AAAwF,GAN5C,EAM8C;AAAEuF,IAAAA,iBAAiB,EAAE,CAAC;AAC1HhE,MAAAA,IAAI,EAAErB;AADoH,KAAD,CAArB;AAEpGwF,IAAAA,mBAAmB,EAAE,CAAC;AACtBnE,MAAAA,IAAI,EAAE5B;AADgB,KAAD,CAF+E;AAIpGqG,IAAAA,kBAAkB,EAAE,CAAC;AACrBzE,MAAAA,IAAI,EAAE5B;AADe,KAAD,CAJgF;AAMpGuG,IAAAA,mBAAmB,EAAE,CAAC;AACtB3E,MAAAA,IAAI,EAAE5B;AADgB,KAAD,CAN+E;AAQpGmG,IAAAA,iBAAiB,EAAE,CAAC;AACpBvE,MAAAA,IAAI,EAAE5B;AADc,KAAD;AARiF,GAN9C,CAAnD;AAgBC,CAhBhB;AAkBA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;;AACA,SAASuH,eAAT,CAAyBC,GAAzB,EAA8B;AAC1B,SAAO,IAAI/G,YAAJ,CAAiB8E,SAAjB,EAA4BiC,GAA5B,EAAiC,IAAjC,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;;;AACA,SAASC,cAAT,CAAwBC,MAAxB,EAAuD;AAAA,MAAvBC,aAAuB,uEAAP,KAAO;AACnD,SAAOA,aAAa,GACdJ,eAAe,CAACG,MAAM,CAACzC,YAAR,CADD,GAEd,IAAIxE,YAAJ,CAAiBiH,MAAM,CAACE,aAAxB,EAAuCF,MAAM,CAACzC,YAA9C,EAA4D,KAA5D,CAFN;AAGH;AACD;AACA;AACA;AACA;AACA;;;AACA,SAAS4C,mBAAT,CAA6BC,cAA7B,EAA6CC,MAA7C,EAAqD;AACjD,SAAO,UAACL,MAAD;AAAA,WAAYK,MAAM,CAACL,MAAD,EAASD,cAAc,CAACC,MAAD,EAASI,cAAT,CAAvB,CAAlB;AAAA,GAAP;AACH;AACD;AACA;AACA;AACA;;;AACA,SAASE,iBAAT,CAA2BF,cAA3B,EAA2C;AACvC,SAAO,UAACnE,OAAD;AAAA,WAAakE,mBAAmB,CAACC,cAAD,EAAiB,UAACJ,MAAD,EAASO,MAAT;AAAA,aAAoBtE,OAAO,CAAC+D,MAAM,CAAC9C,GAAR,CAAP,GAAsBqD,MAA1C;AAAA,KAAjB,CAAhC;AAAA,GAAP;AACH;AACD;AACA;AACA;AACA;;;AACA,SAASC,oBAAT,CAA8BJ,cAA9B,EAA8C;AAC1C,SAAO,UAACnE,OAAD;AAAA,WAAakE,mBAAmB,CAACC,cAAD,EAAiB,UAACJ,MAAD,EAASO,MAAT,EAAoB;AACxE,UAAI,CAACtE,OAAO,CAAC+D,MAAM,CAAC9C,GAAR,CAAZ,EAA0B;AACtBjB,QAAAA,OAAO,CAAC+D,MAAM,CAAC9C,GAAR,CAAP,GAAsBqD,MAAtB;AACH;AACJ,KAJsC,CAAhC;AAAA,GAAP;AAKH;;AACD;AAAM;AAAiBE,WAAW,GAAG;AACjCL,EAAAA,cAAc,EAAE,KADiB;AAEjCM,EAAAA,cAAc,EAAE;AAFiB,CAArC;AAIA;AACA;AACA;AACA;;AACA,SAASC,iBAAT,GAA+C;AAAA,MAApBC,IAAoB,uEAAbH,WAAa;AAC3C,SAAOG,IAAI,CAACF,cAAL,GACDF,oBAAoB,CAACI,IAAI,CAACR,cAAN,CADnB,GAEDE,iBAAiB,CAACM,IAAI,CAACR,cAAN,CAFvB;AAGH;AAED;AACA;AACA;AACA;;;AACA;AAAM;AAAiBS,eAAe,GAAGF,iBAAiB,CAAC;AAAEP,EAAAA,cAAc,EAAE;AAAlB,CAAD,CAA1D;AACA;AAAM;AAAiBU,kBAAkB,GAAGH,iBAAiB,CAAC;AAAED,EAAAA,cAAc,EAAE;AAAlB,CAAD,CAA7D;;IACMK,gB;AACF;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,4BAAYC,QAAZ,EAAsBC,SAAtB,EAAiChD,IAAjC,EAAuCiD,sBAAvC,EAA+DC,wBAA/D,EAAyF;AAAA;;AACrF,SAAKH,QAAL,GAAgBA,QAAhB;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACA,SAAKhD,IAAL,GAAYA,IAAZ;AACA,SAAKiD,sBAAL,GAA8BA,sBAA9B;AACA,SAAKC,wBAAL,GAAgCA,wBAAhC;AACA,SAAK/F,kBAAL,GAA0B,KAAK6F,SAAL,CAAe5F,GAAf,CAAmB,KAAK6F,sBAAxB,EAAgD,IAAhD,CAA1B;AACA,SAAKE,kBAAL,GAA0B,KAAKhG,kBAA/B;AACA,SAAKiG,aAAL,GAAqB,KAAKL,QAAL,CAAc9F,IAAd,CAAmB,EAAnB,EAAuBC,MAAvB,EAArB;AACA,SAAKmG,YAAL,GAAoB,IAApB;AACA,SAAKC,yBAAL,GAAiC,IAAIlI,OAAJ,EAAjC;AACH;AACD;AACJ;AACA;;;;;SACI,eAAc;AACV,aAAO,KAAKmI,gBAAL,IAAyB,KAAKC,iCAArC;AACH;AACD;AACJ;AACA;;;;SACI,eAAe;AACX,aAAO,KAAKC,iBAAL,IAA0B,KAAKC,kCAAtC;AACH;AACD;AACJ;AACA;;;;SACI,eAAoB;AAChB,aAAO,KAAKR,wBAAL,IAAiC,KAAK/F,kBAA7C;AACH;AACD;AACJ;AACA;;;;SACI,eAAe;AACX,aAAO,KAAKI,aAAL,CAAmBC,YAA1B;AACH;AACD;AACJ;AACA;;;;SACI,eAAqB;AACjB,aAAO,KAAKmG,QAAL,CAAcC,QAArB;AACH;AACD;AACJ;AACA;;;;SACI,eAA4B;AACxB,UAAI,KAAKT,kBAAL,KAA4B,KAAKU,cAArC,EAAqD;AACjD,aAAKV,kBAAL,GAA0B,KAAKU,cAA/B;AACA,eAAO,IAAP;AACH,OAHD,MAIK;AACD,eAAO,KAAP;AACH;AACJ;AACD;AACJ;AACA;AACA;;;;WACI,qBAAY7F,OAAZ,EAAqB;AACjB;AAAM;AAAiB8F,MAAAA,WAAW,GAAG,KAAKC,qBAA1C;;AACA,UAAID,WAAW,IAAI,KAAKE,cAAL,CAAoBhG,OAApB,CAAnB,EAAiD;AAC7C;AAAM;AAAiBiG,QAAAA,aAAa,GAAG,KAAKC,iBAAL,CAAuB,KAAKC,OAA5B,CAAvC;;AACA,YAAIF,aAAJ,EAAmB;AACf,eAAKG,mBAAL,CAAyBH,aAAzB;AACH;;AACD,aAAKI,YAAL,CAAkBP,WAAW,IAAI,CAAC,KAAKQ,iBAAvC;AACH;;AACD,UAAIR,WAAW,IAAI,KAAKS,eAAL,CAAqBvG,OAArB,CAAnB,EAAkD;AAC9C,aAAKwG,WAAL;AACH;AACJ;AACD;AACJ;AACA;;;;WACI,qBAAY;AACR,UAAI,KAAKT,qBAAT,EAAgC;AAC5B,aAAKM,YAAL,CAAkB,IAAlB;AACA,aAAKG,WAAL;AACA;AACH;;AACD;AAAM;AAAiB7E,MAAAA,MAAM,GAAG,KAAKwE,OAArC;;AACA,UAAI,CAACxE,MAAL,EAAa;AACT;AACH;;AACD;AAAM;AAAiBsE,MAAAA,aAAa,GAAG,KAAKC,iBAAL,CAAuB,KAAKC,OAA5B,CAAvC;;AACA,UAAIF,aAAJ,EAAmB;AACf;AAAM;AAAiBQ,QAAAA,gBAAgB,GAAG,CAAC,CAAC,KAAKH,iBAAjD;;AACA,aAAKF,mBAAL,CAAyBH,aAAzB;;AACA,YAAIQ,gBAAJ,EAAsB;AAClB,eAAKJ,YAAL;AACH;AACJ;AACJ;AACD;AACJ;AACA;;;;WACI,uBAAc;AACV,WAAKK,kBAAL;AACH;AACD;AACJ;AACA;AACA;;;;WACI,wBAAoC;AAAA,UAAvB1C,aAAuB,uEAAP,KAAO;;AAChC,UAAIA,aAAJ,EAAmB;AACf,aAAK2C,kBAAL;AACH;;AACD;AAAM;AAAiBC,MAAAA,QAAQ,GAAG,KAAKf,cAAvC;AACA;AAAI;AAAiBlE,MAAAA,MAAM,GAAG,KAAKwE,OAAnC;;AACA,UAAI,CAACxE,MAAD,IAAW,CAACiF,QAAhB,EAA0B;AACtB;AACH;;AACDjF,MAAAA,MAAM,GAAG,KAAKkF,cAAL,CAAoBlF,MAApB,CAAT;AACAd,MAAAA,MAAM,CAACC,IAAP,CAAYa,MAAZ,EAAoBX,OAApB,CAA4B,UAAA8F,CAAC;AAAA,eAAKF,QAAQ,CAACE,CAAD,CAAR,GAAcnF,MAAM,CAACmF,CAAD,CAAzB;AAAA,OAA7B;AACA,WAAKC,oBAAL,CAA0B,KAAKT,iBAA/B,EAAkDtC,aAAlD;AACH;AACD;AACJ;AACA;;;;WACI,uBAAc;AAAA;;AACV,WAAK0C,kBAAL;;AACA;AAAM;AAAiBE,MAAAA,QAAQ,GAAG,KAAKf,cAAvC;AACA;AAAI;AAAiB3C,MAAAA,OAAO,GAAG,KAAK8D,QAApC;;AACA,UAAI,CAAC9D,OAAD,IAAY,CAAC0D,QAAjB,EAA2B;AACvB;AACH;;AACD1D,MAAAA,OAAO,GAAG,KAAK+D,eAAL,CAAqB/D,OAArB,CAAV;AACArC,MAAAA,MAAM,CAACC,IAAP,CAAYoC,OAAZ,EACKgE,MADL,CACY,UAAAJ,CAAC;AAAA,eAAIF,QAAQ,CAACE,CAAD,CAAZ;AAAA,OADb,EAEK9F,OAFL,CAEa,UAAA8F,CAAC;AAAA,eAAIF,QAAQ,CAACE,CAAD,CAAR,CACbK,IADa,CACRhK,SAAS,CAAC,MAAI,CAACmI,yBAAN,CADD,EAEb8B,SAFa,CAEHlE,OAAO,CAAC4D,CAAD,CAFJ,CAAJ;AAAA,OAFd;AAKH;AACD;AACJ;AACA;AACA;AACA;;;;WACI,gCAAsD;AAAA,UAAjC9G,OAAiC,uEAAvB,EAAuB;AAAA,UAAnBqH,iBAAmB;;AAClD;AACA,UAAI,CAAC,KAAKxB,cAAL,CAAoByB,WAAzB,EAAsC;AAClC;AACH;;AACD,UAAID,iBAAJ,EAAuB;AACnBrH,QAAAA,OAAO,GAAG,KAAKuH,oBAAL,EAAV;AACH;;AACD,WAAK1B,cAAL,CAAoByB,WAApB,CAAgCtH,OAAhC;AACH;AACD;AACJ;AACA;;;;WACI,8BAAqB;AACjB,WAAKsF,yBAAL,CAA+BkC,IAA/B;AACH;AACD;AACJ;AACA;AACA;;;;WACI,2BAAkB7F,MAAlB,EAA0B;AACtB,aAAO,KAAKyD,aAAL,CAAmBnF,IAAnB,CAAwB,KAAKkG,OAA7B,CAAP;AACH;AACD;AACJ;AACA;AACA;;;;WACI,6BAAoBsB,MAApB,EAA4B;AACxB,WAAKnB,iBAAL,GAAyB,KAAKoB,yBAAL,CAA+BD,MAA/B,CAAzB;AACH;AACD;AACJ;AACA;;;;WACI,gCAAuB;AACnB;AAAM;AAAiBzH,MAAAA,OAAO;AAAG;AAAkB,QAAnD;AACA;AAAM;AAAiB2B,MAAAA,MAAM,GAAG,KAAKwE,OAArC;AACAtF,MAAAA,MAAM,CAACC,IAAP,CAAYa,MAAZ,EAAoBX,OAApB,CAA4B,UAAA2G,IAAI;AAAA,eAAK3H,OAAO,CAAC2H,IAAD,CAAP,GAAgB/D,eAAe,CAACjC,MAAM,CAACgG,IAAD,CAAP,CAApC;AAAA,OAAhC;AACA,aAAO,KAAKC,eAAL,CAAqB5H,OAArB,CAAP;AACH;AACD;AACJ;AACA;AACA;;;;WACI,mCAA0ByH,MAA1B,EAAkC;AAC9B;AAAM;AAAiBzH,MAAAA,OAAO;AAAG;AAAkB,QAAnD;AACAyH,MAAAA,MAAM,CAACrG,gBAAP,CAAwBwD,eAAe,CAAC5E,OAAD,CAAvC;AACAyH,MAAAA,MAAM,CAACI,WAAP,CAAmBhD,kBAAkB,CAAC7E,OAAD,CAArC;AACA,aAAO,KAAK4H,eAAL,CAAqB5H,OAArB,CAAP;AACH;AACD;AACJ;AACA;AACA;;;;WACI,wBAAeA,OAAf,EAAwB;AACpB,aAAQ,uCAAuCA,OAAvC,IACJ,sBAAsBA,OAD1B;AAEH;AACD;AACJ;AACA;AACA;;;;WACI,yBAAgBA,OAAhB,EAAyB;AACrB,aAAQ,wCAAwCA,OAAxC,IACJ,uBAAuBA,OAD3B;AAEH;AACD;AACJ;AACA;;;;WACI,+BAAsB;AAClB,UAAI;AACA,YAAI;AACA,iBAAO,KAAKgC,IAAL,CAAUM,uBAAV,CAAkC,KAAKqD,QAAL,CAAchG,aAAhD,CAAP;AACH,SAFD,CAGA;AAAO;AAAiBmI,QAAAA,CAAxB,EAA2B;AACvB;AACA,iBAAO,KAAK9F,IAAL,CAAUM,uBAAV,CAAkC,KAAKqD,QAAL,CAAcC,QAAd,CAAuBmC,WAAzD,CAAP;AACH;AACJ,OARD,CASA;AAAO;AAAiBD,MAAAA,CAAxB,EAA2B;AACvB;AACA,eAAO,IAAP;AACH;AACJ;AACD;AACJ;AACA;;;;WACI,8BAAqB;AACjB,WAAKzC,YAAL,GAAoB,KAAK2C,mBAAL,EAApB;AACH;AACD;AACJ;AACA;AACA;;;;WACI,wBAAerG,MAAf,EAAuB;AACnB,UAAI,CAAC,KAAK0D,YAAV,EAAwB;AACpB,eAAO1D,MAAP;AACH;;AACD,aAAO,KAAKsG,QAAL,CAActG,MAAd,EAAsB,KAAK0D,YAAL,CAAkB1D,MAAxC,CAAP;AACH;AACD;AACJ;AACA;AACA;;;;WACI,yBAAgBuB,OAAhB,EAAyB;AACrB,UAAI,CAAC,KAAKmC,YAAV,EAAwB;AACpB,eAAOnC,OAAP;AACH;;AACD,aAAO,KAAK+E,QAAL,CAAc/E,OAAd,EAAuB,KAAKmC,YAAL,CAAkBnC,OAAzC,CAAP;AACH;AACD;AACJ;AACA;AACA;;;;WACI,yBAAgBlD,OAAhB,EAAyB;AACrB,UAAI,CAAC,KAAKqF,YAAV,EAAwB;AACpB,eAAOrF,OAAP;AACH;;AACD,aAAO,KAAKiI,QAAL,CAAcjI,OAAd,EAAuB,KAAKqF,YAAL,CAAkB1D,MAAzC,CAAP;AACH;AACD;AACJ;AACA;AACA;AACA;;;;WACI,kBAASuG,EAAT,EAAaC,OAAb,EAAsB;AAAA;;AAClB;AAAM;AAAiBC,MAAAA,KAAK,GAAG,EAA/B;AACAvH,MAAAA,MAAM,CAACC,IAAP,CAAYoH,EAAZ,EAAgBlH,OAAhB,CAAwB,UAAAC,GAAG,EAAI;AAC3B;AAAM;AAAiBoH,QAAAA,MAAM,GAAG,MAAI,CAACC,uBAAL,CAA6BrH,GAA7B,EAAkCkH,OAAlC,KAA8ClH,GAA9E;AACAmH,QAAAA,KAAK,CAACC,MAAD,CAAL,GAAgBH,EAAE,CAACjH,GAAD,CAAlB;AACH,OAHD;AAIA,aAAOmH,KAAP;AACH;AACD;AACJ;AACA;AACA;AACA;;;;WACI,iCAAwBG,OAAxB,EAAiCJ,OAAjC,EAA0C;AAAA,iDACHA,OADG;AAAA;;AAAA;AACtC,4DAA4C;AAAA,cAAhBK,GAAgB;;AACxC,cAAIA,GAAG,CAACC,YAAJ,KAAqBF,OAAzB,EAAkC;AAC9B,mBAAOC,GAAG,CAACE,QAAX;AACH;AACJ;AALqC;AAAA;AAAA;AAAA;AAAA;;AAMtC,aAAO,IAAP;AACH;;;;;;AAEL5D,gBAAgB,CAACnH,IAAjB,GAAwB,SAASgL,wBAAT,CAAkC9K,CAAlC,EAAqC;AAAE,SAAO,KAAKA,CAAC,IAAIiH,gBAAV,EAA4BzH,MAAM,CAACS,iBAAP,CAAyBT,MAAM,CAACf,eAAhC,CAA5B,EAA8Ee,MAAM,CAACS,iBAAP,CAAyBT,MAAM,CAACjB,QAAhC,CAA9E,EAAyHiB,MAAM,CAACS,iBAAP,CAAyBT,MAAM,CAACX,wBAAhC,CAAzH,EAAoLW,MAAM,CAACS,iBAAP,CAAyBP,kBAAzB,CAApL,EAAkOF,MAAM,CAACS,iBAAP,CAAyBN,gCAAzB,EAA2D,CAA3D,CAAlO,CAAP;AAA0S,CAAzW;;AACAsH,gBAAgB,CAAC/G,IAAjB,GAAwBV,MAAM,CAACW,iBAAP,CAAyB;AAAEC,EAAAA,IAAI,EAAE6G,gBAAR;AAA0B5G,EAAAA,SAAS,EAAE,CAAC,CAAC,EAAD,EAAK,kBAAL,EAAyB,EAAzB,CAAD,EAA+B,CAAC,EAAD,EAAK,mBAAL,EAA0B,EAA1B,CAA/B,EAA8D,CAAC,EAAD,EAAK,mCAAL,EAA0C,EAA1C,CAA9D,EAA6G,CAAC,EAAD,EAAK,oCAAL,EAA2C,EAA3C,CAA7G,CAArC;AAAmMyD,EAAAA,MAAM,EAAE;AAAE4D,IAAAA,gBAAgB,EAAE,kBAApB;AAAwCC,IAAAA,iCAAiC,EAAE,mCAA3E;AAAgHC,IAAAA,iBAAiB,EAAE,mBAAnI;AAAwJC,IAAAA,kCAAkC,EAAE;AAA5L,GAA3M;AAA+avC,EAAAA,QAAQ,EAAE,CAAC9F,MAAM,CAAC+F,oBAAR;AAAzb,CAAzB,CAAxB;AACA;;AACA0B,gBAAgB,CAAC1G,cAAjB,GAAkC;AAAA,SAAM,CACpC;AAAEH,IAAAA,IAAI,EAAE3B;AAAR,GADoC,EAEpC;AAAE2B,IAAAA,IAAI,EAAE7B;AAAR,GAFoC,EAGpC;AAAE6B,IAAAA,IAAI,EAAEvB;AAAR,GAHoC,EAIpC;AAAEuB,IAAAA,IAAI,EAAE2D,SAAR;AAAmBvD,IAAAA,UAAU,EAAE,CAAC;AAAEJ,MAAAA,IAAI,EAAE9B,MAAR;AAAgBqC,MAAAA,IAAI,EAAE,CAACjB,kBAAD;AAAtB,KAAD;AAA/B,GAJoC,EAKpC;AAAEU,IAAAA,IAAI,EAAET,gCAAR;AAA0Ca,IAAAA,UAAU,EAAE,CAAC;AAAEJ,MAAAA,IAAI,EAAE/B;AAAR,KAAD,EAAiB;AAAE+B,MAAAA,IAAI,EAAE1B;AAAR,KAAjB;AAAtD,GALoC,CAAN;AAAA,CAAlC;;AAOAuI,gBAAgB,CAACjD,cAAjB,GAAkC;AAC9B,sBAAoB,CAAC;AAAE5D,IAAAA,IAAI,EAAE5B;AAAR,GAAD,CADU;AAE9B,uCAAqC,CAAC;AAAE4B,IAAAA,IAAI,EAAE5B;AAAR,GAAD,CAFP;AAG9B,uBAAqB,CAAC;AAAE4B,IAAAA,IAAI,EAAE5B;AAAR,GAAD,CAHS;AAI9B,wCAAsC,CAAC;AAAE4B,IAAAA,IAAI,EAAE5B;AAAR,GAAD;AAJR,CAAlC;;AAMA,CAAC,YAAY;AAAE,GAAC,OAAOiC,SAAP,KAAqB,WAArB,IAAoCA,SAArC,KAAmDjB,MAAM,CAACkB,iBAAP,CAAyBuG,gBAAzB,EAA2C,CAAC;AACtG7G,IAAAA,IAAI,EAAEhC,SADgG;AAEtGuC,IAAAA,IAAI,EAAE,CAAC;AACCC,MAAAA,QAAQ,EAAE;AADX,KAAD;AAFgG,GAAD,CAA3C,EAK1D,YAAY;AAAE,WAAO,CAAC;AAAER,MAAAA,IAAI,EAAEZ,MAAM,CAACf;AAAf,KAAD,EAAmC;AAAE2B,MAAAA,IAAI,EAAEZ,MAAM,CAACjB;AAAf,KAAnC,EAA8D;AAAE6B,MAAAA,IAAI,EAAEZ,MAAM,CAACX;AAAf,KAA9D,EAAyG;AAAEuB,MAAAA,IAAI,EAAE2D,SAAR;AAAmBvD,MAAAA,UAAU,EAAE,CAAC;AACtJJ,QAAAA,IAAI,EAAE9B,MADgJ;AAEtJqC,QAAAA,IAAI,EAAE,CAACjB,kBAAD;AAFgJ,OAAD;AAA/B,KAAzG,EAGX;AAAEU,MAAAA,IAAI,EAAET,gCAAR;AAA0Ca,MAAAA,UAAU,EAAE,CAAC;AACzDJ,QAAAA,IAAI,EAAE/B;AADmD,OAAD,EAEzD;AACC+B,QAAAA,IAAI,EAAE1B;AADP,OAFyD;AAAtD,KAHW,CAAP;AAOF,GAZ8C,EAY5C;AAAEgJ,IAAAA,gBAAgB,EAAE,CAAC;AAC/BtH,MAAAA,IAAI,EAAE5B;AADyB,KAAD,CAApB;AAEVmJ,IAAAA,iCAAiC,EAAE,CAAC;AACpCvH,MAAAA,IAAI,EAAE5B;AAD8B,KAAD,CAFzB;AAIVoJ,IAAAA,iBAAiB,EAAE,CAAC;AACpBxH,MAAAA,IAAI,EAAE5B;AADc,KAAD,CAJT;AAMVqJ,IAAAA,kCAAkC,EAAE,CAAC;AACrCzH,MAAAA,IAAI,EAAE5B;AAD+B,KAAD;AAN1B,GAZ4C,CAAnD;AAoBC,CApBhB;AAsBA;AACA;AACA;AACA;;;IACMuM,a;;;;;;;;AACF;AACJ;AACA;AACA;AACA;AACI,4BAAsBC,UAAtB,EAAwE;AAAA,UAAtCC,iBAAsC,uEAAlBhH,gBAAkB;AACpE,aAAO;AACHiH,QAAAA,QAAQ,EAAEH,aADP;AAEH/F,QAAAA,SAAS,EAAE,CACP;AACImG,UAAAA,OAAO,EAAEjM,4BADb;AAEIkM,UAAAA,QAAQ,EAAEJ,UAFd;AAGIK,UAAAA,KAAK,EAAE;AAHX,SADO,EAMP;AAAEF,UAAAA,OAAO,EAAEzL,kBAAX;AAA+B0L,UAAAA,QAAQ,EAAEH;AAAzC,SANO;AAFR,OAAP;AAWH;;;;;;AAELF,aAAa,CAACjL,IAAd,GAAqB,SAASwL,qBAAT,CAA+BtL,CAA/B,EAAkC;AAAE,SAAO,KAAKA,CAAC,IAAI+K,aAAV,GAAP;AAAoC,CAA7F;;AACAA,aAAa,CAACQ,IAAd,GAAqB/L,MAAM,CAACgM,gBAAP,CAAwB;AAAEpL,EAAAA,IAAI,EAAE2K;AAAR,CAAxB,CAArB;AACAA,aAAa,CAACU,IAAd,GAAqBjM,MAAM,CAACkM,gBAAP,CAAwB;AAAEC,EAAAA,OAAO,EAAE,CAAC,CAACtM,YAAD,CAAD;AAAX,CAAxB,CAArB;;AACA,CAAC,YAAY;AAAE,GAAC,OAAOuM,SAAP,KAAqB,WAArB,IAAoCA,SAArC,KAAmDpM,MAAM,CAACqM,kBAAP,CAA0Bd,aAA1B,EAAyC;AAAEe,IAAAA,YAAY,EAAE,wBAAY;AAAE,aAAO,CAAC7H,gBAAD,EAAmBgD,gBAAnB,EAAqCtH,gCAArC,EAAuEkB,0BAAvE,CAAP;AAA4G,KAA1I;AAA4I8K,IAAAA,OAAO,EAAE,mBAAY;AAAE,aAAO,CAACtM,YAAD,CAAP;AAAwB,KAA3L;AAA6L0M,IAAAA,OAAO,EAAE,mBAAY;AAAE,aAAO,CAAC9H,gBAAD,EAAmBgD,gBAAnB,EAAqCtH,gCAArC,EAAuEkB,0BAAvE,CAAP;AAA4G;AAAhU,GAAzC,CAAnD;AAAka,CAAjb;;AACA,CAAC,YAAY;AAAE,GAAC,OAAOJ,SAAP,KAAqB,WAArB,IAAoCA,SAArC,KAAmDjB,MAAM,CAACkB,iBAAP,CAAyBqK,aAAzB,EAAwC,CAAC;AACnG3K,IAAAA,IAAI,EAAEjB,QAD6F;AAEnGwB,IAAAA,IAAI,EAAE,CAAC;AACCgL,MAAAA,OAAO,EAAE,CAACtM,YAAD,CADV;AAECyM,MAAAA,YAAY,EAAE,CACV7H,gBADU,EAEVgD,gBAFU,EAGVtH,gCAHU,EAIVkB,0BAJU,CAFf;AAQCkL,MAAAA,OAAO,EAAE,CACL9H,gBADK,EAELgD,gBAFK,EAGLtH,gCAHK,EAILkB,0BAJK;AARV,KAAD;AAF6F,GAAD,CAAxC,EAiB1D,IAjB0D,EAiBpD,IAjBoD,CAAnD;AAiBO,CAjBtB;AAmBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAEA,SAASkK,aAAT,EAAwB9D,gBAAxB,EAA0ChD,gBAA1C,EAA4DpD,0BAA5D,EAAwFnB,kBAAkB,IAAIsM,EAA9G,EAAkHrM,gCAAgC,IAAIsM,EAAtJ,G,CAEA","sourcesContent":["import { InjectionToken, Directive, Host, Inject, Injector, Input, KeyValueDiffers, Optional, Renderer2, Component, ComponentFactoryResolver, EventEmitter, Output, ViewContainerRef, SimpleChange, ANALYZE_FOR_ENTRY_COMPONENTS, NgModule } from '@angular/core';\r\nimport { NgComponentOutlet, CommonModule } from '@angular/common';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { Subject } from 'rxjs';\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\nimport * as ɵngcc0 from '@angular/core';\r\nimport * as ɵngcc1 from '@angular/common';\r\nconst /** @type {?} */ COMPONENT_INJECTOR = new InjectionToken('ComponentInjector');\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\nclass ComponentOutletInjectorDirective {\r\n    /**\r\n     * @param {?} componentOutlet\r\n     */\r\n    constructor(componentOutlet) {\r\n        this.componentOutlet = componentOutlet;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get componentRef() {\r\n        return (/** @type {?} */ (this.componentOutlet))._componentRef;\r\n    }\r\n}\r\nComponentOutletInjectorDirective.ɵfac = function ComponentOutletInjectorDirective_Factory(t) { return new (t || ComponentOutletInjectorDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NgComponentOutlet, 1)); };\r\nComponentOutletInjectorDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: ComponentOutletInjectorDirective, selectors: [[\"\", \"ngComponentOutlet\", \"\"]], exportAs: [\"ndcComponentOutletInjector\"] });\r\n/** @nocollapse */\r\nComponentOutletInjectorDirective.ctorParameters = () => [\r\n    { type: NgComponentOutlet, decorators: [{ type: Host },] },\r\n];\r\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ComponentOutletInjectorDirective, [{\r\n        type: Directive,\r\n        args: [{\r\n                selector: '[ngComponentOutlet]',\r\n                exportAs: 'ndcComponentOutletInjector'\r\n            }]\r\n    }], function () { return [{ type: ɵngcc1.NgComponentOutlet, decorators: [{\r\n                type: Host\r\n            }] }]; }, null); })();\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\nclass DynamicAttributesDirective {\r\n    /**\r\n     * @param {?} renderer\r\n     * @param {?} differs\r\n     * @param {?} injector\r\n     * @param {?} componentInjectorType\r\n     * @param {?} componentOutletInjector\r\n     */\r\n    constructor(renderer, differs, injector, componentInjectorType, componentOutletInjector) {\r\n        this.renderer = renderer;\r\n        this.differs = differs;\r\n        this.injector = injector;\r\n        this.componentInjectorType = componentInjectorType;\r\n        this.componentOutletInjector = componentOutletInjector;\r\n        this._attrsDiffer = this.differs.find({}).create();\r\n        this._componentInjector = this.injector.get(this.componentInjectorType, null);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get _attributes() {\r\n        return (this.ndcDynamicAttributes || this.ngComponentOutletNdcDynamicAttributes);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get _compInjector() {\r\n        return this.componentOutletInjector || this._componentInjector;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get _nativeElement() {\r\n        return this._compInjector.componentRef.location.nativeElement;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get _compType() {\r\n        return this._compInjector.componentRef.componentType;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get _isCompChanged() {\r\n        if (this._lastCompType !== this._compType) {\r\n            this._lastCompType = this._compType;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ngDoCheck() {\r\n        const /** @type {?} */ isCompChanged = this._isCompChanged;\r\n        const /** @type {?} */ changes = this._attrsDiffer.diff(this._attributes);\r\n        if (changes) {\r\n            this._lastAttrActions = this._changesToAttrActions(changes);\r\n        }\r\n        if (changes || (isCompChanged && this._lastAttrActions)) {\r\n            this._updateAttributes(this._lastAttrActions);\r\n        }\r\n    }\r\n    /**\r\n     * @param {?} name\r\n     * @param {?} value\r\n     * @param {?=} namespace\r\n     * @return {?}\r\n     */\r\n    setAttribute(name, value, namespace) {\r\n        this.renderer.setAttribute(this._nativeElement, name, value, namespace);\r\n    }\r\n    /**\r\n     * @param {?} name\r\n     * @param {?=} namespace\r\n     * @return {?}\r\n     */\r\n    removeAttribute(name, namespace) {\r\n        this.renderer.removeAttribute(this._nativeElement, name, namespace);\r\n    }\r\n    /**\r\n     * @param {?} actions\r\n     * @return {?}\r\n     */\r\n    _updateAttributes(actions) {\r\n        Object.keys(actions.set).forEach(key => this.setAttribute(key, actions.set[key]));\r\n        actions.remove.forEach(key => this.removeAttribute(key));\r\n    }\r\n    /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    _changesToAttrActions(changes) {\r\n        const /** @type {?} */ attrActions = {\r\n            set: {},\r\n            remove: [],\r\n        };\r\n        changes.forEachAddedItem(r => (attrActions.set[r.key] = r.currentValue));\r\n        changes.forEachChangedItem(r => (attrActions.set[r.key] = r.currentValue));\r\n        changes.forEachRemovedItem(r => attrActions.remove.push(r.key));\r\n        return attrActions;\r\n    }\r\n}\r\nDynamicAttributesDirective.ɵfac = function DynamicAttributesDirective_Factory(t) { return new (t || DynamicAttributesDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.KeyValueDiffers), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Injector), ɵngcc0.ɵɵdirectiveInject(COMPONENT_INJECTOR), ɵngcc0.ɵɵdirectiveInject(ComponentOutletInjectorDirective, 9)); };\r\nDynamicAttributesDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DynamicAttributesDirective, selectors: [[\"\", \"ndcDynamicAttributes\", \"\"], [\"\", \"ngComponentOutletNdcDynamicAttributes\", \"\"]], inputs: { ndcDynamicAttributes: \"ndcDynamicAttributes\", ngComponentOutletNdcDynamicAttributes: \"ngComponentOutletNdcDynamicAttributes\" }, exportAs: [\"ndcDynamicAttributes\"] });\r\n/** @nocollapse */\r\nDynamicAttributesDirective.ctorParameters = () => [\r\n    { type: Renderer2, },\r\n    { type: KeyValueDiffers, },\r\n    { type: Injector, },\r\n    { type: undefined, decorators: [{ type: Inject, args: [COMPONENT_INJECTOR,] },] },\r\n    { type: ComponentOutletInjectorDirective, decorators: [{ type: Optional }, { type: Host },] },\r\n];\r\nDynamicAttributesDirective.propDecorators = {\r\n    \"ndcDynamicAttributes\": [{ type: Input },],\r\n    \"ngComponentOutletNdcDynamicAttributes\": [{ type: Input },],\r\n};\r\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DynamicAttributesDirective, [{\r\n        type: Directive,\r\n        args: [{\r\n                selector: '[ndcDynamicAttributes],[ngComponentOutletNdcDynamicAttributes]',\r\n                exportAs: 'ndcDynamicAttributes'\r\n            }]\r\n    }], function () { return [{ type: ɵngcc0.Renderer2 }, { type: ɵngcc0.KeyValueDiffers }, { type: ɵngcc0.Injector }, { type: undefined, decorators: [{\r\n                type: Inject,\r\n                args: [COMPONENT_INJECTOR]\r\n            }] }, { type: ComponentOutletInjectorDirective, decorators: [{\r\n                type: Optional\r\n            }, {\r\n                type: Host\r\n            }] }]; }, { ndcDynamicAttributes: [{\r\n            type: Input\r\n        }], ngComponentOutletNdcDynamicAttributes: [{\r\n            type: Input\r\n        }] }); })();\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\nclass DynamicComponent {\r\n    /**\r\n     * @param {?} _vcr\r\n     * @param {?} _cfr\r\n     */\r\n    constructor(_vcr, _cfr) {\r\n        this._vcr = _vcr;\r\n        this._cfr = _cfr;\r\n        this.ndcDynamicCreated = new EventEmitter();\r\n    }\r\n    /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    ngOnChanges(changes) {\r\n        if (changes['ndcDynamicComponent']) {\r\n            this.createDynamicComponent();\r\n        }\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    createDynamicComponent() {\r\n        this._vcr.clear();\r\n        this.componentRef = null;\r\n        if (this.ndcDynamicComponent) {\r\n            this.componentRef = this._vcr.createComponent(this._cfr.resolveComponentFactory(this.ndcDynamicComponent), 0, this._resolveInjector(), this.ndcDynamicContent);\r\n            this.ndcDynamicCreated.emit(this.componentRef);\r\n        }\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    _resolveInjector() {\r\n        let /** @type {?} */ injector = this.ndcDynamicInjector || this._vcr.parentInjector;\r\n        if (this.ndcDynamicProviders) {\r\n            injector = Injector.create({\r\n                providers: this.ndcDynamicProviders,\r\n                parent: injector,\r\n            });\r\n        }\r\n        return injector;\r\n    }\r\n}\r\nDynamicComponent.ɵfac = function DynamicComponent_Factory(t) { return new (t || DynamicComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ComponentFactoryResolver)); };\r\nDynamicComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: DynamicComponent, selectors: [[\"ndc-dynamic\"]], inputs: { ndcDynamicComponent: \"ndcDynamicComponent\", ndcDynamicInjector: \"ndcDynamicInjector\", ndcDynamicProviders: \"ndcDynamicProviders\", ndcDynamicContent: \"ndcDynamicContent\" }, outputs: { ndcDynamicCreated: \"ndcDynamicCreated\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function DynamicComponent_Template(rf, ctx) { }, encapsulation: 2 });\r\n/** @nocollapse */\r\nDynamicComponent.ctorParameters = () => [\r\n    { type: ViewContainerRef, },\r\n    { type: ComponentFactoryResolver, },\r\n];\r\nDynamicComponent.propDecorators = {\r\n    \"ndcDynamicComponent\": [{ type: Input },],\r\n    \"ndcDynamicInjector\": [{ type: Input },],\r\n    \"ndcDynamicProviders\": [{ type: Input },],\r\n    \"ndcDynamicContent\": [{ type: Input },],\r\n    \"ndcDynamicCreated\": [{ type: Output },],\r\n};\r\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DynamicComponent, [{\r\n        type: Component,\r\n        args: [{\r\n                selector: 'ndc-dynamic',\r\n                template: ''\r\n            }]\r\n    }], function () { return [{ type: ɵngcc0.ViewContainerRef }, { type: ɵngcc0.ComponentFactoryResolver }]; }, { ndcDynamicCreated: [{\r\n            type: Output\r\n        }], ndcDynamicComponent: [{\r\n            type: Input\r\n        }], ndcDynamicInjector: [{\r\n            type: Input\r\n        }], ndcDynamicProviders: [{\r\n            type: Input\r\n        }], ndcDynamicContent: [{\r\n            type: Input\r\n        }] }); })();\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\n/**\r\n * @param {?} val\r\n * @return {?}\r\n */\r\nfunction createNewChange(val) {\r\n    return new SimpleChange(undefined, val, true);\r\n}\r\n/**\r\n * @param {?} record\r\n * @param {?=} isFirstChange\r\n * @return {?}\r\n */\r\nfunction recordToChange(record, isFirstChange = false) {\r\n    return isFirstChange\r\n        ? createNewChange(record.currentValue)\r\n        : new SimpleChange(record.previousValue, record.currentValue, false);\r\n}\r\n/**\r\n * @param {?} isFirstChanges\r\n * @param {?} setter\r\n * @return {?}\r\n */\r\nfunction setChangeFromRecord(isFirstChanges, setter) {\r\n    return (record) => setter(record, recordToChange(record, isFirstChanges));\r\n}\r\n/**\r\n * @param {?} isFirstChanges\r\n * @return {?}\r\n */\r\nfunction getChangesRecords(isFirstChanges) {\r\n    return (changes) => setChangeFromRecord(isFirstChanges, (record, change) => changes[record.key] = change);\r\n}\r\n/**\r\n * @param {?} isFirstChanges\r\n * @return {?}\r\n */\r\nfunction getNewChangesRecords(isFirstChanges) {\r\n    return (changes) => setChangeFromRecord(isFirstChanges, (record, change) => {\r\n        if (!changes[record.key]) {\r\n            changes[record.key] = change;\r\n        }\r\n    });\r\n}\r\nconst /** @type {?} */ defaultOpts = {\r\n    isFirstChanges: false,\r\n    onlyNewChanges: false,\r\n};\r\n/**\r\n * @param {?=} opts\r\n * @return {?}\r\n */\r\nfunction changesFromRecord(opts = defaultOpts) {\r\n    return opts.onlyNewChanges\r\n        ? getNewChangesRecords(opts.isFirstChanges)\r\n        : getChangesRecords(opts.isFirstChanges);\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\nconst /** @type {?} */ recordToChanges = changesFromRecord({ isFirstChanges: true });\r\nconst /** @type {?} */ recordToNewChanges = changesFromRecord({ onlyNewChanges: true });\r\nclass DynamicDirective {\r\n    /**\r\n     * @param {?} _differs\r\n     * @param {?} _injector\r\n     * @param {?} _cfr\r\n     * @param {?} _componentInjectorType\r\n     * @param {?} _componentOutletInjector\r\n     */\r\n    constructor(_differs, _injector, _cfr, _componentInjectorType, _componentOutletInjector) {\r\n        this._differs = _differs;\r\n        this._injector = _injector;\r\n        this._cfr = _cfr;\r\n        this._componentInjectorType = _componentInjectorType;\r\n        this._componentOutletInjector = _componentOutletInjector;\r\n        this._componentInjector = this._injector.get(this._componentInjectorType, null);\r\n        this._lastComponentInst = this._componentInjector;\r\n        this._inputsDiffer = this._differs.find({}).create();\r\n        this._compFactory = null;\r\n        this._outputsShouldDisconnect$ = new Subject();\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get _inputs() {\r\n        return this.ndcDynamicInputs || this.ngComponentOutletNdcDynamicInputs;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get _outputs() {\r\n        return this.ndcDynamicOutputs || this.ngComponentOutletNdcDynamicOutputs;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get _compInjector() {\r\n        return this._componentOutletInjector || this._componentInjector;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get _compRef() {\r\n        return this._compInjector.componentRef;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get _componentInst() {\r\n        return this._compRef.instance;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get _componentInstChanged() {\r\n        if (this._lastComponentInst !== this._componentInst) {\r\n            this._lastComponentInst = this._componentInst;\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    ngOnChanges(changes) {\r\n        const /** @type {?} */ compChanged = this._componentInstChanged;\r\n        if (compChanged || this._inputsChanged(changes)) {\r\n            const /** @type {?} */ inputsChanges = this._getInputsChanges(this._inputs);\r\n            if (inputsChanges) {\r\n                this._updateInputChanges(inputsChanges);\r\n            }\r\n            this.updateInputs(compChanged || !this._lastInputChanges);\r\n        }\r\n        if (compChanged || this._outputsChanged(changes)) {\r\n            this.bindOutputs();\r\n        }\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ngDoCheck() {\r\n        if (this._componentInstChanged) {\r\n            this.updateInputs(true);\r\n            this.bindOutputs();\r\n            return;\r\n        }\r\n        const /** @type {?} */ inputs = this._inputs;\r\n        if (!inputs) {\r\n            return;\r\n        }\r\n        const /** @type {?} */ inputsChanges = this._getInputsChanges(this._inputs);\r\n        if (inputsChanges) {\r\n            const /** @type {?} */ isNotFirstChange = !!this._lastInputChanges;\r\n            this._updateInputChanges(inputsChanges);\r\n            if (isNotFirstChange) {\r\n                this.updateInputs();\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ngOnDestroy() {\r\n        this._disconnectOutputs();\r\n    }\r\n    /**\r\n     * @param {?=} isFirstChange\r\n     * @return {?}\r\n     */\r\n    updateInputs(isFirstChange = false) {\r\n        if (isFirstChange) {\r\n            this._updateCompFactory();\r\n        }\r\n        const /** @type {?} */ compInst = this._componentInst;\r\n        let /** @type {?} */ inputs = this._inputs;\r\n        if (!inputs || !compInst) {\r\n            return;\r\n        }\r\n        inputs = this._resolveInputs(inputs);\r\n        Object.keys(inputs).forEach(p => (compInst[p] = inputs[p]));\r\n        this.notifyOnInputChanges(this._lastInputChanges, isFirstChange);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    bindOutputs() {\r\n        this._disconnectOutputs();\r\n        const /** @type {?} */ compInst = this._componentInst;\r\n        let /** @type {?} */ outputs = this._outputs;\r\n        if (!outputs || !compInst) {\r\n            return;\r\n        }\r\n        outputs = this._resolveOutputs(outputs);\r\n        Object.keys(outputs)\r\n            .filter(p => compInst[p])\r\n            .forEach(p => compInst[p]\r\n            .pipe(takeUntil(this._outputsShouldDisconnect$))\r\n            .subscribe(outputs[p]));\r\n    }\r\n    /**\r\n     * @param {?=} changes\r\n     * @param {?=} forceFirstChanges\r\n     * @return {?}\r\n     */\r\n    notifyOnInputChanges(changes = {}, forceFirstChanges) {\r\n        // Exit early if component not interested to receive changes\r\n        if (!this._componentInst.ngOnChanges) {\r\n            return;\r\n        }\r\n        if (forceFirstChanges) {\r\n            changes = this._collectFirstChanges();\r\n        }\r\n        this._componentInst.ngOnChanges(changes);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    _disconnectOutputs() {\r\n        this._outputsShouldDisconnect$.next();\r\n    }\r\n    /**\r\n     * @param {?} inputs\r\n     * @return {?}\r\n     */\r\n    _getInputsChanges(inputs) {\r\n        return this._inputsDiffer.diff(this._inputs);\r\n    }\r\n    /**\r\n     * @param {?} differ\r\n     * @return {?}\r\n     */\r\n    _updateInputChanges(differ) {\r\n        this._lastInputChanges = this._collectChangesFromDiffer(differ);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    _collectFirstChanges() {\r\n        const /** @type {?} */ changes = /** @type {?} */ ({});\r\n        const /** @type {?} */ inputs = this._inputs;\r\n        Object.keys(inputs).forEach(prop => (changes[prop] = createNewChange(inputs[prop])));\r\n        return this._resolveChanges(changes);\r\n    }\r\n    /**\r\n     * @param {?} differ\r\n     * @return {?}\r\n     */\r\n    _collectChangesFromDiffer(differ) {\r\n        const /** @type {?} */ changes = /** @type {?} */ ({});\r\n        differ.forEachAddedItem(recordToChanges(changes));\r\n        differ.forEachItem(recordToNewChanges(changes));\r\n        return this._resolveChanges(changes);\r\n    }\r\n    /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    _inputsChanged(changes) {\r\n        return ('ngComponentOutletNdcDynamicInputs' in changes ||\r\n            'ndcDynamicInputs' in changes);\r\n    }\r\n    /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    _outputsChanged(changes) {\r\n        return ('ngComponentOutletNdcDynamicOutputs' in changes ||\r\n            'ndcDynamicOutputs' in changes);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    _resolveCompFactory() {\r\n        try {\r\n            try {\r\n                return this._cfr.resolveComponentFactory(this._compRef.componentType);\r\n            }\r\n            catch (/** @type {?} */ e) {\r\n                // Fallback if componentType does not exist (happens on NgComponentOutlet)\r\n                return this._cfr.resolveComponentFactory(this._compRef.instance.constructor);\r\n            }\r\n        }\r\n        catch (/** @type {?} */ e) {\r\n            // Factory not available - bailout\r\n            return null;\r\n        }\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    _updateCompFactory() {\r\n        this._compFactory = this._resolveCompFactory();\r\n    }\r\n    /**\r\n     * @param {?} inputs\r\n     * @return {?}\r\n     */\r\n    _resolveInputs(inputs) {\r\n        if (!this._compFactory) {\r\n            return inputs;\r\n        }\r\n        return this._remapIO(inputs, this._compFactory.inputs);\r\n    }\r\n    /**\r\n     * @param {?} outputs\r\n     * @return {?}\r\n     */\r\n    _resolveOutputs(outputs) {\r\n        if (!this._compFactory) {\r\n            return outputs;\r\n        }\r\n        return this._remapIO(outputs, this._compFactory.outputs);\r\n    }\r\n    /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    _resolveChanges(changes) {\r\n        if (!this._compFactory) {\r\n            return changes;\r\n        }\r\n        return this._remapIO(changes, this._compFactory.inputs);\r\n    }\r\n    /**\r\n     * @param {?} io\r\n     * @param {?} mapping\r\n     * @return {?}\r\n     */\r\n    _remapIO(io, mapping) {\r\n        const /** @type {?} */ newIO = {};\r\n        Object.keys(io).forEach(key => {\r\n            const /** @type {?} */ newKey = this._findPropByTplInMapping(key, mapping) || key;\r\n            newIO[newKey] = io[key];\r\n        });\r\n        return newIO;\r\n    }\r\n    /**\r\n     * @param {?} tplName\r\n     * @param {?} mapping\r\n     * @return {?}\r\n     */\r\n    _findPropByTplInMapping(tplName, mapping) {\r\n        for (const /** @type {?} */ map of mapping) {\r\n            if (map.templateName === tplName) {\r\n                return map.propName;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\nDynamicDirective.ɵfac = function DynamicDirective_Factory(t) { return new (t || DynamicDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.KeyValueDiffers), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Injector), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ComponentFactoryResolver), ɵngcc0.ɵɵdirectiveInject(COMPONENT_INJECTOR), ɵngcc0.ɵɵdirectiveInject(ComponentOutletInjectorDirective, 9)); };\r\nDynamicDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DynamicDirective, selectors: [[\"\", \"ndcDynamicInputs\", \"\"], [\"\", \"ndcDynamicOutputs\", \"\"], [\"\", \"ngComponentOutletNdcDynamicInputs\", \"\"], [\"\", \"ngComponentOutletNdcDynamicOutputs\", \"\"]], inputs: { ndcDynamicInputs: \"ndcDynamicInputs\", ngComponentOutletNdcDynamicInputs: \"ngComponentOutletNdcDynamicInputs\", ndcDynamicOutputs: \"ndcDynamicOutputs\", ngComponentOutletNdcDynamicOutputs: \"ngComponentOutletNdcDynamicOutputs\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature] });\r\n/** @nocollapse */\r\nDynamicDirective.ctorParameters = () => [\r\n    { type: KeyValueDiffers, },\r\n    { type: Injector, },\r\n    { type: ComponentFactoryResolver, },\r\n    { type: undefined, decorators: [{ type: Inject, args: [COMPONENT_INJECTOR,] },] },\r\n    { type: ComponentOutletInjectorDirective, decorators: [{ type: Host }, { type: Optional },] },\r\n];\r\nDynamicDirective.propDecorators = {\r\n    \"ndcDynamicInputs\": [{ type: Input },],\r\n    \"ngComponentOutletNdcDynamicInputs\": [{ type: Input },],\r\n    \"ndcDynamicOutputs\": [{ type: Input },],\r\n    \"ngComponentOutletNdcDynamicOutputs\": [{ type: Input },],\r\n};\r\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DynamicDirective, [{\r\n        type: Directive,\r\n        args: [{\r\n                selector: '[ndcDynamicInputs],[ndcDynamicOutputs],[ngComponentOutletNdcDynamicInputs],[ngComponentOutletNdcDynamicOutputs]'\r\n            }]\r\n    }], function () { return [{ type: ɵngcc0.KeyValueDiffers }, { type: ɵngcc0.Injector }, { type: ɵngcc0.ComponentFactoryResolver }, { type: undefined, decorators: [{\r\n                type: Inject,\r\n                args: [COMPONENT_INJECTOR]\r\n            }] }, { type: ComponentOutletInjectorDirective, decorators: [{\r\n                type: Host\r\n            }, {\r\n                type: Optional\r\n            }] }]; }, { ndcDynamicInputs: [{\r\n            type: Input\r\n        }], ngComponentOutletNdcDynamicInputs: [{\r\n            type: Input\r\n        }], ndcDynamicOutputs: [{\r\n            type: Input\r\n        }], ngComponentOutletNdcDynamicOutputs: [{\r\n            type: Input\r\n        }] }); })();\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\nclass DynamicModule {\r\n    /**\r\n     * @param {?} components\r\n     * @param {?=} componentInjector\r\n     * @return {?}\r\n     */\r\n    static withComponents(components, componentInjector = DynamicComponent) {\r\n        return {\r\n            ngModule: DynamicModule,\r\n            providers: [\r\n                {\r\n                    provide: ANALYZE_FOR_ENTRY_COMPONENTS,\r\n                    useValue: components,\r\n                    multi: true,\r\n                },\r\n                { provide: COMPONENT_INJECTOR, useValue: componentInjector },\r\n            ],\r\n        };\r\n    }\r\n}\r\nDynamicModule.ɵfac = function DynamicModule_Factory(t) { return new (t || DynamicModule)(); };\r\nDynamicModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: DynamicModule });\r\nDynamicModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ imports: [[CommonModule]] });\r\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(DynamicModule, { declarations: function () { return [DynamicComponent, DynamicDirective, ComponentOutletInjectorDirective, DynamicAttributesDirective]; }, imports: function () { return [CommonModule]; }, exports: function () { return [DynamicComponent, DynamicDirective, ComponentOutletInjectorDirective, DynamicAttributesDirective]; } }); })();\r\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DynamicModule, [{\r\n        type: NgModule,\r\n        args: [{\r\n                imports: [CommonModule],\r\n                declarations: [\r\n                    DynamicComponent,\r\n                    DynamicDirective,\r\n                    ComponentOutletInjectorDirective,\r\n                    DynamicAttributesDirective,\r\n                ],\r\n                exports: [\r\n                    DynamicComponent,\r\n                    DynamicDirective,\r\n                    ComponentOutletInjectorDirective,\r\n                    DynamicAttributesDirective,\r\n                ]\r\n            }]\r\n    }], null, null); })();\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\n\r\nexport { DynamicModule, DynamicDirective, DynamicComponent, DynamicAttributesDirective, COMPONENT_INJECTOR as ɵa, ComponentOutletInjectorDirective as ɵb };\r\n\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctZHluYW1pYy1jb21wb25lbnQuZXMyMDE1LmpzIiwic291cmNlcyI6WyJuZy1keW5hbWljLWNvbXBvbmVudC5lczIwMTUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzttTUFNRTtBQUNGO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7a0NBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7aVhBTUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzsrZEFNRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OzJnQkFLRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQWlCRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3Rpb25Ub2tlbiwgRGlyZWN0aXZlLCBIb3N0LCBJbmplY3QsIEluamVjdG9yLCBJbnB1dCwgS2V5VmFsdWVEaWZmZXJzLCBPcHRpb25hbCwgUmVuZGVyZXIyLCBDb21wb25lbnQsIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgRXZlbnRFbWl0dGVyLCBPdXRwdXQsIFZpZXdDb250YWluZXJSZWYsIFNpbXBsZUNoYW5nZSwgQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUywgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5nQ29tcG9uZW50T3V0bGV0LCBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgdGFrZVVudGlsIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfSBjaGVja2VkIGJ5IHRzY1xuICovXG5jb25zdCAvKiogQHR5cGUgez99ICovIENPTVBPTkVOVF9JTkpFQ1RPUiA9IG5ldyBJbmplY3Rpb25Ub2tlbignQ29tcG9uZW50SW5qZWN0b3InKTtcblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IGFkZGVkIGJ5IHRzaWNrbGVcbiAqIEBzdXBwcmVzcyB7Y2hlY2tUeXBlc30gY2hlY2tlZCBieSB0c2NcbiAqL1xuY2xhc3MgQ29tcG9uZW50T3V0bGV0SW5qZWN0b3JEaXJlY3RpdmUge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gY29tcG9uZW50T3V0bGV0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50T3V0bGV0KSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50T3V0bGV0ID0gY29tcG9uZW50T3V0bGV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBjb21wb25lbnRSZWYoKSB7XG4gICAgICAgIHJldHVybiAoLyoqIEB0eXBlIHs/fSAqLyAodGhpcy5jb21wb25lbnRPdXRsZXQpKS5fY29tcG9uZW50UmVmO1xuICAgIH1cbn1cbkNvbXBvbmVudE91dGxldEluamVjdG9yRGlyZWN0aXZlLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBEaXJlY3RpdmUsIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdbbmdDb21wb25lbnRPdXRsZXRdJyxcbiAgICAgICAgICAgICAgICBleHBvcnRBczogJ25kY0NvbXBvbmVudE91dGxldEluamVjdG9yJyxcbiAgICAgICAgICAgIH0sXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuQ29tcG9uZW50T3V0bGV0SW5qZWN0b3JEaXJlY3RpdmUuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXG4gICAgeyB0eXBlOiBOZ0NvbXBvbmVudE91dGxldCwgZGVjb3JhdG9yczogW3sgdHlwZTogSG9zdCB9LF0gfSxcbl07XG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBhZGRlZCBieSB0c2lja2xlXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9IGNoZWNrZWQgYnkgdHNjXG4gKi9cbmNsYXNzIER5bmFtaWNBdHRyaWJ1dGVzRGlyZWN0aXZlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHs/fSBkaWZmZXJzXG4gICAgICogQHBhcmFtIHs/fSBpbmplY3RvclxuICAgICAqIEBwYXJhbSB7P30gY29tcG9uZW50SW5qZWN0b3JUeXBlXG4gICAgICogQHBhcmFtIHs/fSBjb21wb25lbnRPdXRsZXRJbmplY3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBkaWZmZXJzLCBpbmplY3RvciwgY29tcG9uZW50SW5qZWN0b3JUeXBlLCBjb21wb25lbnRPdXRsZXRJbmplY3Rvcikge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuZGlmZmVycyA9IGRpZmZlcnM7XG4gICAgICAgIHRoaXMuaW5qZWN0b3IgPSBpbmplY3RvcjtcbiAgICAgICAgdGhpcy5jb21wb25lbnRJbmplY3RvclR5cGUgPSBjb21wb25lbnRJbmplY3RvclR5cGU7XG4gICAgICAgIHRoaXMuY29tcG9uZW50T3V0bGV0SW5qZWN0b3IgPSBjb21wb25lbnRPdXRsZXRJbmplY3RvcjtcbiAgICAgICAgdGhpcy5fYXR0cnNEaWZmZXIgPSB0aGlzLmRpZmZlcnMuZmluZCh7fSkuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudEluamVjdG9yID0gdGhpcy5pbmplY3Rvci5nZXQodGhpcy5jb21wb25lbnRJbmplY3RvclR5cGUsIG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBfYXR0cmlidXRlcygpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm5kY0R5bmFtaWNBdHRyaWJ1dGVzIHx8IHRoaXMubmdDb21wb25lbnRPdXRsZXROZGNEeW5hbWljQXR0cmlidXRlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgZ2V0IF9jb21wSW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudE91dGxldEluamVjdG9yIHx8IHRoaXMuX2NvbXBvbmVudEluamVjdG9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBfbmF0aXZlRWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBJbmplY3Rvci5jb21wb25lbnRSZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBnZXQgX2NvbXBUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tcEluamVjdG9yLmNvbXBvbmVudFJlZi5jb21wb25lbnRUeXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBfaXNDb21wQ2hhbmdlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xhc3RDb21wVHlwZSAhPT0gdGhpcy5fY29tcFR5cGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RDb21wVHlwZSA9IHRoaXMuX2NvbXBUeXBlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIG5nRG9DaGVjaygpIHtcbiAgICAgICAgY29uc3QgLyoqIEB0eXBlIHs/fSAqLyBpc0NvbXBDaGFuZ2VkID0gdGhpcy5faXNDb21wQ2hhbmdlZDtcbiAgICAgICAgY29uc3QgLyoqIEB0eXBlIHs/fSAqLyBjaGFuZ2VzID0gdGhpcy5fYXR0cnNEaWZmZXIuZGlmZih0aGlzLl9hdHRyaWJ1dGVzKTtcbiAgICAgICAgaWYgKGNoYW5nZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RBdHRyQWN0aW9ucyA9IHRoaXMuX2NoYW5nZXNUb0F0dHJBY3Rpb25zKGNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzIHx8IChpc0NvbXBDaGFuZ2VkICYmIHRoaXMuX2xhc3RBdHRyQWN0aW9ucykpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUF0dHJpYnV0ZXModGhpcy5fbGFzdEF0dHJBY3Rpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IG5hbWVcbiAgICAgKiBAcGFyYW0gez99IHZhbHVlXG4gICAgICogQHBhcmFtIHs/PX0gbmFtZXNwYWNlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBzZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUsIG5hbWVzcGFjZSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZSh0aGlzLl9uYXRpdmVFbGVtZW50LCBuYW1lLCB2YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBuYW1lXG4gICAgICogQHBhcmFtIHs/PX0gbmFtZXNwYWNlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICByZW1vdmVBdHRyaWJ1dGUobmFtZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlKHRoaXMuX25hdGl2ZUVsZW1lbnQsIG5hbWUsIG5hbWVzcGFjZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gYWN0aW9uc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgX3VwZGF0ZUF0dHJpYnV0ZXMoYWN0aW9ucykge1xuICAgICAgICBPYmplY3Qua2V5cyhhY3Rpb25zLnNldCkuZm9yRWFjaChrZXkgPT4gdGhpcy5zZXRBdHRyaWJ1dGUoa2V5LCBhY3Rpb25zLnNldFtrZXldKSk7XG4gICAgICAgIGFjdGlvbnMucmVtb3ZlLmZvckVhY2goa2V5ID0+IHRoaXMucmVtb3ZlQXR0cmlidXRlKGtleSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGNoYW5nZXNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF9jaGFuZ2VzVG9BdHRyQWN0aW9ucyhjaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gYXR0ckFjdGlvbnMgPSB7XG4gICAgICAgICAgICBzZXQ6IHt9LFxuICAgICAgICAgICAgcmVtb3ZlOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgY2hhbmdlcy5mb3JFYWNoQWRkZWRJdGVtKHIgPT4gKGF0dHJBY3Rpb25zLnNldFtyLmtleV0gPSByLmN1cnJlbnRWYWx1ZSkpO1xuICAgICAgICBjaGFuZ2VzLmZvckVhY2hDaGFuZ2VkSXRlbShyID0+IChhdHRyQWN0aW9ucy5zZXRbci5rZXldID0gci5jdXJyZW50VmFsdWUpKTtcbiAgICAgICAgY2hhbmdlcy5mb3JFYWNoUmVtb3ZlZEl0ZW0ociA9PiBhdHRyQWN0aW9ucy5yZW1vdmUucHVzaChyLmtleSkpO1xuICAgICAgICByZXR1cm4gYXR0ckFjdGlvbnM7XG4gICAgfVxufVxuRHluYW1pY0F0dHJpYnV0ZXNEaXJlY3RpdmUuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IERpcmVjdGl2ZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tuZGNEeW5hbWljQXR0cmlidXRlc10sW25nQ29tcG9uZW50T3V0bGV0TmRjRHluYW1pY0F0dHJpYnV0ZXNdJyxcbiAgICAgICAgICAgICAgICBleHBvcnRBczogJ25kY0R5bmFtaWNBdHRyaWJ1dGVzJyxcbiAgICAgICAgICAgIH0sXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuRHluYW1pY0F0dHJpYnV0ZXNEaXJlY3RpdmUuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXG4gICAgeyB0eXBlOiBSZW5kZXJlcjIsIH0sXG4gICAgeyB0eXBlOiBLZXlWYWx1ZURpZmZlcnMsIH0sXG4gICAgeyB0eXBlOiBJbmplY3RvciwgfSxcbiAgICB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3sgdHlwZTogSW5qZWN0LCBhcmdzOiBbQ09NUE9ORU5UX0lOSkVDVE9SLF0gfSxdIH0sXG4gICAgeyB0eXBlOiBDb21wb25lbnRPdXRsZXRJbmplY3RvckRpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3sgdHlwZTogT3B0aW9uYWwgfSwgeyB0eXBlOiBIb3N0IH0sXSB9LFxuXTtcbkR5bmFtaWNBdHRyaWJ1dGVzRGlyZWN0aXZlLnByb3BEZWNvcmF0b3JzID0ge1xuICAgIFwibmRjRHluYW1pY0F0dHJpYnV0ZXNcIjogW3sgdHlwZTogSW5wdXQgfSxdLFxuICAgIFwibmdDb21wb25lbnRPdXRsZXROZGNEeW5hbWljQXR0cmlidXRlc1wiOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG59O1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfSBjaGVja2VkIGJ5IHRzY1xuICovXG5jbGFzcyBEeW5hbWljQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IF92Y3JcbiAgICAgKiBAcGFyYW0gez99IF9jZnJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihfdmNyLCBfY2ZyKSB7XG4gICAgICAgIHRoaXMuX3ZjciA9IF92Y3I7XG4gICAgICAgIHRoaXMuX2NmciA9IF9jZnI7XG4gICAgICAgIHRoaXMubmRjRHluYW1pY0NyZWF0ZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gY2hhbmdlc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlcykge1xuICAgICAgICBpZiAoY2hhbmdlc1snbmRjRHluYW1pY0NvbXBvbmVudCddKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUR5bmFtaWNDb21wb25lbnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGNyZWF0ZUR5bmFtaWNDb21wb25lbnQoKSB7XG4gICAgICAgIHRoaXMuX3Zjci5jbGVhcigpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudFJlZiA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLm5kY0R5bmFtaWNDb21wb25lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50UmVmID0gdGhpcy5fdmNyLmNyZWF0ZUNvbXBvbmVudCh0aGlzLl9jZnIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodGhpcy5uZGNEeW5hbWljQ29tcG9uZW50KSwgMCwgdGhpcy5fcmVzb2x2ZUluamVjdG9yKCksIHRoaXMubmRjRHluYW1pY0NvbnRlbnQpO1xuICAgICAgICAgICAgdGhpcy5uZGNEeW5hbWljQ3JlYXRlZC5lbWl0KHRoaXMuY29tcG9uZW50UmVmKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF9yZXNvbHZlSW5qZWN0b3IoKSB7XG4gICAgICAgIGxldCAvKiogQHR5cGUgez99ICovIGluamVjdG9yID0gdGhpcy5uZGNEeW5hbWljSW5qZWN0b3IgfHwgdGhpcy5fdmNyLnBhcmVudEluamVjdG9yO1xuICAgICAgICBpZiAodGhpcy5uZGNEeW5hbWljUHJvdmlkZXJzKSB7XG4gICAgICAgICAgICBpbmplY3RvciA9IEluamVjdG9yLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJzOiB0aGlzLm5kY0R5bmFtaWNQcm92aWRlcnMsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBpbmplY3RvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmplY3RvcjtcbiAgICB9XG59XG5EeW5hbWljQ29tcG9uZW50LmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBDb21wb25lbnQsIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3I6ICduZGMtZHluYW1pYycsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICcnXG4gICAgICAgICAgICB9LF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cbkR5bmFtaWNDb21wb25lbnQuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXG4gICAgeyB0eXBlOiBWaWV3Q29udGFpbmVyUmVmLCB9LFxuICAgIHsgdHlwZTogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCB9LFxuXTtcbkR5bmFtaWNDb21wb25lbnQucHJvcERlY29yYXRvcnMgPSB7XG4gICAgXCJuZGNEeW5hbWljQ29tcG9uZW50XCI6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICBcIm5kY0R5bmFtaWNJbmplY3RvclwiOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgXCJuZGNEeW5hbWljUHJvdmlkZXJzXCI6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICBcIm5kY0R5bmFtaWNDb250ZW50XCI6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICBcIm5kY0R5bmFtaWNDcmVhdGVkXCI6IFt7IHR5cGU6IE91dHB1dCB9LF0sXG59O1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfSBjaGVja2VkIGJ5IHRzY1xuICovXG4vKipcbiAqIEBwYXJhbSB7P30gdmFsXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjcmVhdGVOZXdDaGFuZ2UodmFsKSB7XG4gICAgcmV0dXJuIG5ldyBTaW1wbGVDaGFuZ2UodW5kZWZpbmVkLCB2YWwsIHRydWUpO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHJlY29yZFxuICogQHBhcmFtIHs/PX0gaXNGaXJzdENoYW5nZVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gcmVjb3JkVG9DaGFuZ2UocmVjb3JkLCBpc0ZpcnN0Q2hhbmdlID0gZmFsc2UpIHtcbiAgICByZXR1cm4gaXNGaXJzdENoYW5nZVxuICAgICAgICA/IGNyZWF0ZU5ld0NoYW5nZShyZWNvcmQuY3VycmVudFZhbHVlKVxuICAgICAgICA6IG5ldyBTaW1wbGVDaGFuZ2UocmVjb3JkLnByZXZpb3VzVmFsdWUsIHJlY29yZC5jdXJyZW50VmFsdWUsIGZhbHNlKTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBpc0ZpcnN0Q2hhbmdlc1xuICogQHBhcmFtIHs/fSBzZXR0ZXJcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHNldENoYW5nZUZyb21SZWNvcmQoaXNGaXJzdENoYW5nZXMsIHNldHRlcikge1xuICAgIHJldHVybiAocmVjb3JkKSA9PiBzZXR0ZXIocmVjb3JkLCByZWNvcmRUb0NoYW5nZShyZWNvcmQsIGlzRmlyc3RDaGFuZ2VzKSk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gaXNGaXJzdENoYW5nZXNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGdldENoYW5nZXNSZWNvcmRzKGlzRmlyc3RDaGFuZ2VzKSB7XG4gICAgcmV0dXJuIChjaGFuZ2VzKSA9PiBzZXRDaGFuZ2VGcm9tUmVjb3JkKGlzRmlyc3RDaGFuZ2VzLCAocmVjb3JkLCBjaGFuZ2UpID0+IGNoYW5nZXNbcmVjb3JkLmtleV0gPSBjaGFuZ2UpO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IGlzRmlyc3RDaGFuZ2VzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBnZXROZXdDaGFuZ2VzUmVjb3Jkcyhpc0ZpcnN0Q2hhbmdlcykge1xuICAgIHJldHVybiAoY2hhbmdlcykgPT4gc2V0Q2hhbmdlRnJvbVJlY29yZChpc0ZpcnN0Q2hhbmdlcywgKHJlY29yZCwgY2hhbmdlKSA9PiB7XG4gICAgICAgIGlmICghY2hhbmdlc1tyZWNvcmQua2V5XSkge1xuICAgICAgICAgICAgY2hhbmdlc1tyZWNvcmQua2V5XSA9IGNoYW5nZTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuY29uc3QgLyoqIEB0eXBlIHs/fSAqLyBkZWZhdWx0T3B0cyA9IHtcbiAgICBpc0ZpcnN0Q2hhbmdlczogZmFsc2UsXG4gICAgb25seU5ld0NoYW5nZXM6IGZhbHNlLFxufTtcbi8qKlxuICogQHBhcmFtIHs/PX0gb3B0c1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY2hhbmdlc0Zyb21SZWNvcmQob3B0cyA9IGRlZmF1bHRPcHRzKSB7XG4gICAgcmV0dXJuIG9wdHMub25seU5ld0NoYW5nZXNcbiAgICAgICAgPyBnZXROZXdDaGFuZ2VzUmVjb3JkcyhvcHRzLmlzRmlyc3RDaGFuZ2VzKVxuICAgICAgICA6IGdldENoYW5nZXNSZWNvcmRzKG9wdHMuaXNGaXJzdENoYW5nZXMpO1xufVxuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfSBjaGVja2VkIGJ5IHRzY1xuICovXG5jb25zdCAvKiogQHR5cGUgez99ICovIHJlY29yZFRvQ2hhbmdlcyA9IGNoYW5nZXNGcm9tUmVjb3JkKHsgaXNGaXJzdENoYW5nZXM6IHRydWUgfSk7XG5jb25zdCAvKiogQHR5cGUgez99ICovIHJlY29yZFRvTmV3Q2hhbmdlcyA9IGNoYW5nZXNGcm9tUmVjb3JkKHsgb25seU5ld0NoYW5nZXM6IHRydWUgfSk7XG5jbGFzcyBEeW5hbWljRGlyZWN0aXZlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IF9kaWZmZXJzXG4gICAgICogQHBhcmFtIHs/fSBfaW5qZWN0b3JcbiAgICAgKiBAcGFyYW0gez99IF9jZnJcbiAgICAgKiBAcGFyYW0gez99IF9jb21wb25lbnRJbmplY3RvclR5cGVcbiAgICAgKiBAcGFyYW0gez99IF9jb21wb25lbnRPdXRsZXRJbmplY3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKF9kaWZmZXJzLCBfaW5qZWN0b3IsIF9jZnIsIF9jb21wb25lbnRJbmplY3RvclR5cGUsIF9jb21wb25lbnRPdXRsZXRJbmplY3Rvcikge1xuICAgICAgICB0aGlzLl9kaWZmZXJzID0gX2RpZmZlcnM7XG4gICAgICAgIHRoaXMuX2luamVjdG9yID0gX2luamVjdG9yO1xuICAgICAgICB0aGlzLl9jZnIgPSBfY2ZyO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRJbmplY3RvclR5cGUgPSBfY29tcG9uZW50SW5qZWN0b3JUeXBlO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRPdXRsZXRJbmplY3RvciA9IF9jb21wb25lbnRPdXRsZXRJbmplY3RvcjtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50SW5qZWN0b3IgPSB0aGlzLl9pbmplY3Rvci5nZXQodGhpcy5fY29tcG9uZW50SW5qZWN0b3JUeXBlLCBudWxsKTtcbiAgICAgICAgdGhpcy5fbGFzdENvbXBvbmVudEluc3QgPSB0aGlzLl9jb21wb25lbnRJbmplY3RvcjtcbiAgICAgICAgdGhpcy5faW5wdXRzRGlmZmVyID0gdGhpcy5fZGlmZmVycy5maW5kKHt9KS5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5fY29tcEZhY3RvcnkgPSBudWxsO1xuICAgICAgICB0aGlzLl9vdXRwdXRzU2hvdWxkRGlzY29ubmVjdCQgPSBuZXcgU3ViamVjdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBfaW5wdXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZGNEeW5hbWljSW5wdXRzIHx8IHRoaXMubmdDb21wb25lbnRPdXRsZXROZGNEeW5hbWljSW5wdXRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBfb3V0cHV0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmRjRHluYW1pY091dHB1dHMgfHwgdGhpcy5uZ0NvbXBvbmVudE91dGxldE5kY0R5bmFtaWNPdXRwdXRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBfY29tcEluamVjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50T3V0bGV0SW5qZWN0b3IgfHwgdGhpcy5fY29tcG9uZW50SW5qZWN0b3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgZ2V0IF9jb21wUmVmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tcEluamVjdG9yLmNvbXBvbmVudFJlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBnZXQgX2NvbXBvbmVudEluc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wUmVmLmluc3RhbmNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGdldCBfY29tcG9uZW50SW5zdENoYW5nZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9sYXN0Q29tcG9uZW50SW5zdCAhPT0gdGhpcy5fY29tcG9uZW50SW5zdCkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdENvbXBvbmVudEluc3QgPSB0aGlzLl9jb21wb25lbnRJbnN0O1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBjaGFuZ2VzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gY29tcENoYW5nZWQgPSB0aGlzLl9jb21wb25lbnRJbnN0Q2hhbmdlZDtcbiAgICAgICAgaWYgKGNvbXBDaGFuZ2VkIHx8IHRoaXMuX2lucHV0c0NoYW5nZWQoY2hhbmdlcykpIHtcbiAgICAgICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gaW5wdXRzQ2hhbmdlcyA9IHRoaXMuX2dldElucHV0c0NoYW5nZXModGhpcy5faW5wdXRzKTtcbiAgICAgICAgICAgIGlmIChpbnB1dHNDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlSW5wdXRDaGFuZ2VzKGlucHV0c0NoYW5nZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dHMoY29tcENoYW5nZWQgfHwgIXRoaXMuX2xhc3RJbnB1dENoYW5nZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wQ2hhbmdlZCB8fCB0aGlzLl9vdXRwdXRzQ2hhbmdlZChjaGFuZ2VzKSkge1xuICAgICAgICAgICAgdGhpcy5iaW5kT3V0cHV0cygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgbmdEb0NoZWNrKCkge1xuICAgICAgICBpZiAodGhpcy5fY29tcG9uZW50SW5zdENoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW5wdXRzKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5iaW5kT3V0cHV0cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gaW5wdXRzID0gdGhpcy5faW5wdXRzO1xuICAgICAgICBpZiAoIWlucHV0cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gaW5wdXRzQ2hhbmdlcyA9IHRoaXMuX2dldElucHV0c0NoYW5nZXModGhpcy5faW5wdXRzKTtcbiAgICAgICAgaWYgKGlucHV0c0NoYW5nZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gaXNOb3RGaXJzdENoYW5nZSA9ICEhdGhpcy5fbGFzdElucHV0Q2hhbmdlcztcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUlucHV0Q2hhbmdlcyhpbnB1dHNDaGFuZ2VzKTtcbiAgICAgICAgICAgIGlmIChpc05vdEZpcnN0Q2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9kaXNjb25uZWN0T3V0cHV0cygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez89fSBpc0ZpcnN0Q2hhbmdlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICB1cGRhdGVJbnB1dHMoaXNGaXJzdENoYW5nZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChpc0ZpcnN0Q2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb21wRmFjdG9yeSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gY29tcEluc3QgPSB0aGlzLl9jb21wb25lbnRJbnN0O1xuICAgICAgICBsZXQgLyoqIEB0eXBlIHs/fSAqLyBpbnB1dHMgPSB0aGlzLl9pbnB1dHM7XG4gICAgICAgIGlmICghaW5wdXRzIHx8ICFjb21wSW5zdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0cyA9IHRoaXMuX3Jlc29sdmVJbnB1dHMoaW5wdXRzKTtcbiAgICAgICAgT2JqZWN0LmtleXMoaW5wdXRzKS5mb3JFYWNoKHAgPT4gKGNvbXBJbnN0W3BdID0gaW5wdXRzW3BdKSk7XG4gICAgICAgIHRoaXMubm90aWZ5T25JbnB1dENoYW5nZXModGhpcy5fbGFzdElucHV0Q2hhbmdlcywgaXNGaXJzdENoYW5nZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgYmluZE91dHB1dHMoKSB7XG4gICAgICAgIHRoaXMuX2Rpc2Nvbm5lY3RPdXRwdXRzKCk7XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gY29tcEluc3QgPSB0aGlzLl9jb21wb25lbnRJbnN0O1xuICAgICAgICBsZXQgLyoqIEB0eXBlIHs/fSAqLyBvdXRwdXRzID0gdGhpcy5fb3V0cHV0cztcbiAgICAgICAgaWYgKCFvdXRwdXRzIHx8ICFjb21wSW5zdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dHMgPSB0aGlzLl9yZXNvbHZlT3V0cHV0cyhvdXRwdXRzKTtcbiAgICAgICAgT2JqZWN0LmtleXMob3V0cHV0cylcbiAgICAgICAgICAgIC5maWx0ZXIocCA9PiBjb21wSW5zdFtwXSlcbiAgICAgICAgICAgIC5mb3JFYWNoKHAgPT4gY29tcEluc3RbcF1cbiAgICAgICAgICAgIC5waXBlKHRha2VVbnRpbCh0aGlzLl9vdXRwdXRzU2hvdWxkRGlzY29ubmVjdCQpKVxuICAgICAgICAgICAgLnN1YnNjcmliZShvdXRwdXRzW3BdKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Pz19IGNoYW5nZXNcbiAgICAgKiBAcGFyYW0gez89fSBmb3JjZUZpcnN0Q2hhbmdlc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgbm90aWZ5T25JbnB1dENoYW5nZXMoY2hhbmdlcyA9IHt9LCBmb3JjZUZpcnN0Q2hhbmdlcykge1xuICAgICAgICAvLyBFeGl0IGVhcmx5IGlmIGNvbXBvbmVudCBub3QgaW50ZXJlc3RlZCB0byByZWNlaXZlIGNoYW5nZXNcbiAgICAgICAgaWYgKCF0aGlzLl9jb21wb25lbnRJbnN0Lm5nT25DaGFuZ2VzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcmNlRmlyc3RDaGFuZ2VzKSB7XG4gICAgICAgICAgICBjaGFuZ2VzID0gdGhpcy5fY29sbGVjdEZpcnN0Q2hhbmdlcygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudEluc3QubmdPbkNoYW5nZXMoY2hhbmdlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgX2Rpc2Nvbm5lY3RPdXRwdXRzKCkge1xuICAgICAgICB0aGlzLl9vdXRwdXRzU2hvdWxkRGlzY29ubmVjdCQubmV4dCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGlucHV0c1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgX2dldElucHV0c0NoYW5nZXMoaW5wdXRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dHNEaWZmZXIuZGlmZih0aGlzLl9pbnB1dHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGRpZmZlclxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgX3VwZGF0ZUlucHV0Q2hhbmdlcyhkaWZmZXIpIHtcbiAgICAgICAgdGhpcy5fbGFzdElucHV0Q2hhbmdlcyA9IHRoaXMuX2NvbGxlY3RDaGFuZ2VzRnJvbURpZmZlcihkaWZmZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF9jb2xsZWN0Rmlyc3RDaGFuZ2VzKCkge1xuICAgICAgICBjb25zdCAvKiogQHR5cGUgez99ICovIGNoYW5nZXMgPSAvKiogQHR5cGUgez99ICovICh7fSk7XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gaW5wdXRzID0gdGhpcy5faW5wdXRzO1xuICAgICAgICBPYmplY3Qua2V5cyhpbnB1dHMpLmZvckVhY2gocHJvcCA9PiAoY2hhbmdlc1twcm9wXSA9IGNyZWF0ZU5ld0NoYW5nZShpbnB1dHNbcHJvcF0pKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHZlQ2hhbmdlcyhjaGFuZ2VzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBkaWZmZXJcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF9jb2xsZWN0Q2hhbmdlc0Zyb21EaWZmZXIoZGlmZmVyKSB7XG4gICAgICAgIGNvbnN0IC8qKiBAdHlwZSB7P30gKi8gY2hhbmdlcyA9IC8qKiBAdHlwZSB7P30gKi8gKHt9KTtcbiAgICAgICAgZGlmZmVyLmZvckVhY2hBZGRlZEl0ZW0ocmVjb3JkVG9DaGFuZ2VzKGNoYW5nZXMpKTtcbiAgICAgICAgZGlmZmVyLmZvckVhY2hJdGVtKHJlY29yZFRvTmV3Q2hhbmdlcyhjaGFuZ2VzKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHZlQ2hhbmdlcyhjaGFuZ2VzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBjaGFuZ2VzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBfaW5wdXRzQ2hhbmdlZChjaGFuZ2VzKSB7XG4gICAgICAgIHJldHVybiAoJ25nQ29tcG9uZW50T3V0bGV0TmRjRHluYW1pY0lucHV0cycgaW4gY2hhbmdlcyB8fFxuICAgICAgICAgICAgJ25kY0R5bmFtaWNJbnB1dHMnIGluIGNoYW5nZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGNoYW5nZXNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF9vdXRwdXRzQ2hhbmdlZChjaGFuZ2VzKSB7XG4gICAgICAgIHJldHVybiAoJ25nQ29tcG9uZW50T3V0bGV0TmRjRHluYW1pY091dHB1dHMnIGluIGNoYW5nZXMgfHxcbiAgICAgICAgICAgICduZGNEeW5hbWljT3V0cHV0cycgaW4gY2hhbmdlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgX3Jlc29sdmVDb21wRmFjdG9yeSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Nmci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh0aGlzLl9jb21wUmVmLmNvbXBvbmVudFR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKC8qKiBAdHlwZSB7P30gKi8gZSkge1xuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIGlmIGNvbXBvbmVudFR5cGUgZG9lcyBub3QgZXhpc3QgKGhhcHBlbnMgb24gTmdDb21wb25lbnRPdXRsZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Nmci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh0aGlzLl9jb21wUmVmLmluc3RhbmNlLmNvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoLyoqIEB0eXBlIHs/fSAqLyBlKSB7XG4gICAgICAgICAgICAvLyBGYWN0b3J5IG5vdCBhdmFpbGFibGUgLSBiYWlsb3V0XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF91cGRhdGVDb21wRmFjdG9yeSgpIHtcbiAgICAgICAgdGhpcy5fY29tcEZhY3RvcnkgPSB0aGlzLl9yZXNvbHZlQ29tcEZhY3RvcnkoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBpbnB1dHNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF9yZXNvbHZlSW5wdXRzKGlucHV0cykge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbXBGYWN0b3J5KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW1hcElPKGlucHV0cywgdGhpcy5fY29tcEZhY3RvcnkuaW5wdXRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBvdXRwdXRzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBfcmVzb2x2ZU91dHB1dHMob3V0cHV0cykge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbXBGYWN0b3J5KSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVtYXBJTyhvdXRwdXRzLCB0aGlzLl9jb21wRmFjdG9yeS5vdXRwdXRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBjaGFuZ2VzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBfcmVzb2x2ZUNoYW5nZXMoY2hhbmdlcykge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbXBGYWN0b3J5KSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVtYXBJTyhjaGFuZ2VzLCB0aGlzLl9jb21wRmFjdG9yeS5pbnB1dHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGlvXG4gICAgICogQHBhcmFtIHs/fSBtYXBwaW5nXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBfcmVtYXBJTyhpbywgbWFwcGluZykge1xuICAgICAgICBjb25zdCAvKiogQHR5cGUgez99ICovIG5ld0lPID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKGlvKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBjb25zdCAvKiogQHR5cGUgez99ICovIG5ld0tleSA9IHRoaXMuX2ZpbmRQcm9wQnlUcGxJbk1hcHBpbmcoa2V5LCBtYXBwaW5nKSB8fCBrZXk7XG4gICAgICAgICAgICBuZXdJT1tuZXdLZXldID0gaW9ba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXdJTztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB0cGxOYW1lXG4gICAgICogQHBhcmFtIHs/fSBtYXBwaW5nXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBfZmluZFByb3BCeVRwbEluTWFwcGluZyh0cGxOYW1lLCBtYXBwaW5nKSB7XG4gICAgICAgIGZvciAoY29uc3QgLyoqIEB0eXBlIHs/fSAqLyBtYXAgb2YgbWFwcGluZykge1xuICAgICAgICAgICAgaWYgKG1hcC50ZW1wbGF0ZU5hbWUgPT09IHRwbE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwLnByb3BOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbkR5bmFtaWNEaXJlY3RpdmUuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IERpcmVjdGl2ZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tuZGNEeW5hbWljSW5wdXRzXSxbbmRjRHluYW1pY091dHB1dHNdLFtuZ0NvbXBvbmVudE91dGxldE5kY0R5bmFtaWNJbnB1dHNdLFtuZ0NvbXBvbmVudE91dGxldE5kY0R5bmFtaWNPdXRwdXRzXScsXG4gICAgICAgICAgICB9LF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cbkR5bmFtaWNEaXJlY3RpdmUuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXG4gICAgeyB0eXBlOiBLZXlWYWx1ZURpZmZlcnMsIH0sXG4gICAgeyB0eXBlOiBJbmplY3RvciwgfSxcbiAgICB7IHR5cGU6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgfSxcbiAgICB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3sgdHlwZTogSW5qZWN0LCBhcmdzOiBbQ09NUE9ORU5UX0lOSkVDVE9SLF0gfSxdIH0sXG4gICAgeyB0eXBlOiBDb21wb25lbnRPdXRsZXRJbmplY3RvckRpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3sgdHlwZTogSG9zdCB9LCB7IHR5cGU6IE9wdGlvbmFsIH0sXSB9LFxuXTtcbkR5bmFtaWNEaXJlY3RpdmUucHJvcERlY29yYXRvcnMgPSB7XG4gICAgXCJuZGNEeW5hbWljSW5wdXRzXCI6IFt7IHR5cGU6IElucHV0IH0sXSxcbiAgICBcIm5nQ29tcG9uZW50T3V0bGV0TmRjRHluYW1pY0lucHV0c1wiOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgXCJuZGNEeW5hbWljT3V0cHV0c1wiOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgXCJuZ0NvbXBvbmVudE91dGxldE5kY0R5bmFtaWNPdXRwdXRzXCI6IFt7IHR5cGU6IElucHV0IH0sXSxcbn07XG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBhZGRlZCBieSB0c2lja2xlXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9IGNoZWNrZWQgYnkgdHNjXG4gKi9cbmNsYXNzIER5bmFtaWNNb2R1bGUge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gY29tcG9uZW50c1xuICAgICAqIEBwYXJhbSB7Pz19IGNvbXBvbmVudEluamVjdG9yXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBzdGF0aWMgd2l0aENvbXBvbmVudHMoY29tcG9uZW50cywgY29tcG9uZW50SW5qZWN0b3IgPSBEeW5hbWljQ29tcG9uZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZ01vZHVsZTogRHluYW1pY01vZHVsZSxcbiAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUyxcbiAgICAgICAgICAgICAgICAgICAgdXNlVmFsdWU6IGNvbXBvbmVudHMsXG4gICAgICAgICAgICAgICAgICAgIG11bHRpOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBDT01QT05FTlRfSU5KRUNUT1IsIHVzZVZhbHVlOiBjb21wb25lbnRJbmplY3RvciB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5EeW5hbWljTW9kdWxlLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBOZ01vZHVsZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlXSxcbiAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgRHluYW1pY0NvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgRHluYW1pY0RpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgQ29tcG9uZW50T3V0bGV0SW5qZWN0b3JEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgIER5bmFtaWNBdHRyaWJ1dGVzRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgZXhwb3J0czogW1xuICAgICAgICAgICAgICAgICAgICBEeW5hbWljQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICBEeW5hbWljRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICBDb21wb25lbnRPdXRsZXRJbmplY3RvckRpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgRHluYW1pY0F0dHJpYnV0ZXNEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXSB9LFxuXTtcblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IGFkZGVkIGJ5IHRzaWNrbGVcbiAqIEBzdXBwcmVzcyB7Y2hlY2tUeXBlc30gY2hlY2tlZCBieSB0c2NcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfSBjaGVja2VkIGJ5IHRzY1xuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBhZGRlZCBieSB0c2lja2xlXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9IGNoZWNrZWQgYnkgdHNjXG4gKi9cblxuZXhwb3J0IHsgRHluYW1pY01vZHVsZSwgRHluYW1pY0RpcmVjdGl2ZSwgRHluYW1pY0NvbXBvbmVudCwgRHluYW1pY0F0dHJpYnV0ZXNEaXJlY3RpdmUsIENPTVBPTkVOVF9JTkpFQ1RPUiBhcyDJtWEsIENvbXBvbmVudE91dGxldEluamVjdG9yRGlyZWN0aXZlIGFzIMm1YiB9O1xuIl19"]},"metadata":{},"sourceType":"module"}