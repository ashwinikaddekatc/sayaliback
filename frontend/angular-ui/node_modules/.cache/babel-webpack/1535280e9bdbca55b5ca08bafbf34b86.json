{"ast":null,"code":"import _classCallCheck from \"C:/Users/HP/Desktop/CNS-Portal-ashwini15523/frontend/angular-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/HP/Desktop/CNS-Portal-ashwini15523/frontend/angular-ui/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { LitElement } from 'lit-element';\nimport { CDS_FOCUS_TRAP_ID_ATTR, FocusTrapTracker } from '../services/focus-trap-tracker.service.js';\nimport { isHTMLElement, isFocusable } from './dom.js';\nimport { createId } from './identity.js';\nexport function refocusIfOutsideFocusTrapElement(focusedElement, focusTrapElement, elementToRefocus) {\n  var focusTrapIsCurrent = FocusTrapTracker.getCurrent() === focusTrapElement;\n  var elementToFocusIsOutsideFocusTrap = elementIsOutsideFocusTrapElement(focusedElement, focusTrapElement);\n\n  if (focusTrapIsCurrent && elementToFocusIsOutsideFocusTrap) {\n    elementToRefocus = elementToRefocus || focusTrapElement;\n    elementToRefocus.focus();\n  } else {\n    focusedElement.focus();\n  }\n}\nexport function elementIsOutsideFocusTrapElement(focusedElement, focusTrapElement) {\n  if (focusedElement === focusTrapElement.topReboundElement || focusedElement === focusTrapElement.bottomReboundElement) {\n    return true;\n  }\n\n  var elementIsInFocusTrapLightDom = focusTrapElement.contains(focusedElement);\n\n  if (elementIsInFocusTrapLightDom) {\n    return false;\n  }\n\n  if (focusTrapElement.shadowRoot !== null && focusTrapElement.shadowRoot.contains(focusedElement)) {\n    return false;\n  }\n\n  return true;\n}\nexport function createFocusTrapReboundElement() {\n  var offScreenSpan = document.createElement('span');\n  offScreenSpan.setAttribute('tabindex', '0');\n  offScreenSpan.classList.add('offscreen-focus-rebounder');\n  return offScreenSpan;\n}\nexport function addReboundElementsToFocusTrapElement(focusTrapElement) {\n  if (focusTrapElement && !focusTrapElement.topReboundElement && !focusTrapElement.bottomReboundElement) {\n    focusTrapElement.topReboundElement = createFocusTrapReboundElement();\n    focusTrapElement.bottomReboundElement = createFocusTrapReboundElement();\n    var parent = focusTrapElement.parentElement;\n    var sibling = focusTrapElement.nextSibling;\n\n    if (parent) {\n      parent.insertBefore(focusTrapElement.topReboundElement, focusTrapElement);\n\n      if (sibling) {\n        parent.insertBefore(focusTrapElement.bottomReboundElement, sibling);\n      } else {\n        parent.appendChild(focusTrapElement.bottomReboundElement);\n      }\n    }\n  }\n}\nexport function removeReboundElementsFromFocusTrapElement(focusTrapElement) {\n  if (focusTrapElement) {\n    var parent = focusTrapElement.parentElement;\n\n    if (parent) {\n      var topRebound = focusTrapElement.topReboundElement;\n      var bottomRebound = focusTrapElement.bottomReboundElement;\n\n      if (topRebound) {\n        parent.removeChild(topRebound);\n      }\n\n      if (bottomRebound) {\n        parent.removeChild(bottomRebound);\n      }\n    } // These are here to to make sure that we completely delete all traces of the removed DOM objects.\n\n\n    delete focusTrapElement.topReboundElement;\n    delete focusTrapElement.bottomReboundElement;\n  }\n} // this helper exists to enable the focus trap class to handle vanilla html elements\n// it's primary concern is to keep TS happy.\n// end users should prefer using the CdsBaseFocusTrap component to this method.\n// but it exists...\n\nexport function castHtmlElementToFocusTrapElement(el) {\n  return el;\n}\nexport var FocusTrap = /*#__PURE__*/function () {\n  function FocusTrap(hostElement) {\n    _classCallCheck(this, FocusTrap);\n\n    this.active = false;\n    hostElement = castHtmlElementToFocusTrapElement(hostElement);\n\n    if (!hostElement.focusTrapId) {\n      hostElement.focusTrapId = createId();\n    } // @deprecation\n    // reflect attr for non-Lit Element traps\n    // IMPORTANT! Using something other than a LitElement will break in React.\n    // The preference should be to use the CdsBaseFocusTrap component\n    // If that is not possible, avoid passing HTMLElement through here\n\n\n    if (!(hostElement instanceof LitElement) && !hostElement.hasAttribute(CDS_FOCUS_TRAP_ID_ATTR)) {\n      hostElement.setAttribute(CDS_FOCUS_TRAP_ID_ATTR, hostElement.focusTrapId);\n    }\n\n    this.focusTrapElement = hostElement;\n  }\n\n  _createClass(FocusTrap, [{\n    key: \"enableFocusTrap\",\n    value: function enableFocusTrap() {\n      var _this = this;\n\n      var fte = this.focusTrapElement;\n      var firstFocusElement = fte.querySelector('[cds-first-focus]');\n      var contentWrapper = fte.shadowRoot ? fte.shadowRoot.querySelector('.private-host[tabindex]') : null;\n      var activeEl = document.activeElement;\n\n      if (FocusTrapTracker.getCurrent() === fte) {\n        throw new Error('Focus trap is already enabled for this instance.');\n      }\n\n      this.firstFocusElement = firstFocusElement || contentWrapper || this.focusTrapElement;\n      addReboundElementsToFocusTrapElement(fte);\n\n      if (!isFocusable(fte)) {\n        fte.setAttribute('tabindex', '-1');\n      }\n\n      if (activeEl && isHTMLElement(activeEl)) {\n        this.previousFocus = activeEl;\n      }\n\n      FocusTrapTracker.setCurrent(fte.focusTrapId); // setTimeout here is required for Safari which may try to set focus on\n      // element before it is visible...\n\n      var focusTimer = setTimeout(function () {\n        _this.firstFocusElement.focus();\n\n        clearTimeout(focusTimer);\n      }, 10);\n      this.onFocusInEvent = this.onFocusIn.bind(this);\n      document.addEventListener('focusin', this.onFocusInEvent);\n      this.active = true;\n    }\n  }, {\n    key: \"removeFocusTrap\",\n    value: function removeFocusTrap() {\n      document.removeEventListener('focusin', this.onFocusInEvent);\n      removeReboundElementsFromFocusTrapElement(this.focusTrapElement);\n      FocusTrapTracker.activatePreviousCurrent();\n      this.active = false;\n\n      if (this.previousFocus) {\n        this.previousFocus.focus();\n      }\n    }\n  }, {\n    key: \"onFocusIn\",\n    value: function onFocusIn(event) {\n      refocusIfOutsideFocusTrapElement(event.composedPath()[0], this.focusTrapElement, this.firstFocusElement);\n    }\n  }]);\n\n  return FocusTrap;\n}(); //# sourceMappingURL=focus-trap.js.map","map":{"version":3,"sources":["C:/Users/HP/Desktop/CNS-Portal-ashwini15523/frontend/angular-ui/node_modules/@cds/core/internal/utils/focus-trap.js"],"names":["LitElement","CDS_FOCUS_TRAP_ID_ATTR","FocusTrapTracker","isHTMLElement","isFocusable","createId","refocusIfOutsideFocusTrapElement","focusedElement","focusTrapElement","elementToRefocus","focusTrapIsCurrent","getCurrent","elementToFocusIsOutsideFocusTrap","elementIsOutsideFocusTrapElement","focus","topReboundElement","bottomReboundElement","elementIsInFocusTrapLightDom","contains","shadowRoot","createFocusTrapReboundElement","offScreenSpan","document","createElement","setAttribute","classList","add","addReboundElementsToFocusTrapElement","parent","parentElement","sibling","nextSibling","insertBefore","appendChild","removeReboundElementsFromFocusTrapElement","topRebound","bottomRebound","removeChild","castHtmlElementToFocusTrapElement","el","FocusTrap","hostElement","active","focusTrapId","hasAttribute","fte","firstFocusElement","querySelector","contentWrapper","activeEl","activeElement","Error","previousFocus","setCurrent","focusTimer","setTimeout","clearTimeout","onFocusInEvent","onFocusIn","bind","addEventListener","removeEventListener","activatePreviousCurrent","event","composedPath"],"mappings":"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","sourcesContent":["/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { LitElement } from 'lit-element';\nimport { CDS_FOCUS_TRAP_ID_ATTR, FocusTrapTracker } from '../services/focus-trap-tracker.service.js';\nimport { isHTMLElement, isFocusable } from './dom.js';\nimport { createId } from './identity.js';\nexport function refocusIfOutsideFocusTrapElement(focusedElement, focusTrapElement, elementToRefocus) {\n    const focusTrapIsCurrent = FocusTrapTracker.getCurrent() === focusTrapElement;\n    const elementToFocusIsOutsideFocusTrap = elementIsOutsideFocusTrapElement(focusedElement, focusTrapElement);\n    if (focusTrapIsCurrent && elementToFocusIsOutsideFocusTrap) {\n        elementToRefocus = elementToRefocus || focusTrapElement;\n        elementToRefocus.focus();\n    }\n    else {\n        focusedElement.focus();\n    }\n}\nexport function elementIsOutsideFocusTrapElement(focusedElement, focusTrapElement) {\n    if (focusedElement === focusTrapElement.topReboundElement ||\n        focusedElement === focusTrapElement.bottomReboundElement) {\n        return true;\n    }\n    const elementIsInFocusTrapLightDom = focusTrapElement.contains(focusedElement);\n    if (elementIsInFocusTrapLightDom) {\n        return false;\n    }\n    if (focusTrapElement.shadowRoot !== null && focusTrapElement.shadowRoot.contains(focusedElement)) {\n        return false;\n    }\n    return true;\n}\nexport function createFocusTrapReboundElement() {\n    const offScreenSpan = document.createElement('span');\n    offScreenSpan.setAttribute('tabindex', '0');\n    offScreenSpan.classList.add('offscreen-focus-rebounder');\n    return offScreenSpan;\n}\nexport function addReboundElementsToFocusTrapElement(focusTrapElement) {\n    if (focusTrapElement && !focusTrapElement.topReboundElement && !focusTrapElement.bottomReboundElement) {\n        focusTrapElement.topReboundElement = createFocusTrapReboundElement();\n        focusTrapElement.bottomReboundElement = createFocusTrapReboundElement();\n        const parent = focusTrapElement.parentElement;\n        const sibling = focusTrapElement.nextSibling;\n        if (parent) {\n            parent.insertBefore(focusTrapElement.topReboundElement, focusTrapElement);\n            if (sibling) {\n                parent.insertBefore(focusTrapElement.bottomReboundElement, sibling);\n            }\n            else {\n                parent.appendChild(focusTrapElement.bottomReboundElement);\n            }\n        }\n    }\n}\nexport function removeReboundElementsFromFocusTrapElement(focusTrapElement) {\n    if (focusTrapElement) {\n        const parent = focusTrapElement.parentElement;\n        if (parent) {\n            const topRebound = focusTrapElement.topReboundElement;\n            const bottomRebound = focusTrapElement.bottomReboundElement;\n            if (topRebound) {\n                parent.removeChild(topRebound);\n            }\n            if (bottomRebound) {\n                parent.removeChild(bottomRebound);\n            }\n        }\n        // These are here to to make sure that we completely delete all traces of the removed DOM objects.\n        delete focusTrapElement.topReboundElement;\n        delete focusTrapElement.bottomReboundElement;\n    }\n}\n// this helper exists to enable the focus trap class to handle vanilla html elements\n// it's primary concern is to keep TS happy.\n// end users should prefer using the CdsBaseFocusTrap component to this method.\n// but it exists...\nexport function castHtmlElementToFocusTrapElement(el) {\n    return el;\n}\nexport class FocusTrap {\n    constructor(hostElement) {\n        this.active = false;\n        hostElement = castHtmlElementToFocusTrapElement(hostElement);\n        if (!hostElement.focusTrapId) {\n            hostElement.focusTrapId = createId();\n        }\n        // @deprecation\n        // reflect attr for non-Lit Element traps\n        // IMPORTANT! Using something other than a LitElement will break in React.\n        // The preference should be to use the CdsBaseFocusTrap component\n        // If that is not possible, avoid passing HTMLElement through here\n        if (!(hostElement instanceof LitElement) && !hostElement.hasAttribute(CDS_FOCUS_TRAP_ID_ATTR)) {\n            hostElement.setAttribute(CDS_FOCUS_TRAP_ID_ATTR, hostElement.focusTrapId);\n        }\n        this.focusTrapElement = hostElement;\n    }\n    enableFocusTrap() {\n        const fte = this.focusTrapElement;\n        const firstFocusElement = fte.querySelector('[cds-first-focus]');\n        const contentWrapper = fte.shadowRoot ? fte.shadowRoot.querySelector('.private-host[tabindex]') : null;\n        const activeEl = document.activeElement;\n        if (FocusTrapTracker.getCurrent() === fte) {\n            throw new Error('Focus trap is already enabled for this instance.');\n        }\n        this.firstFocusElement =\n            firstFocusElement || contentWrapper || this.focusTrapElement;\n        addReboundElementsToFocusTrapElement(fte);\n        if (!isFocusable(fte)) {\n            fte.setAttribute('tabindex', '-1');\n        }\n        if (activeEl && isHTMLElement(activeEl)) {\n            this.previousFocus = activeEl;\n        }\n        FocusTrapTracker.setCurrent(fte.focusTrapId);\n        // setTimeout here is required for Safari which may try to set focus on\n        // element before it is visible...\n        const focusTimer = setTimeout(() => {\n            this.firstFocusElement.focus();\n            clearTimeout(focusTimer);\n        }, 10);\n        this.onFocusInEvent = this.onFocusIn.bind(this);\n        document.addEventListener('focusin', this.onFocusInEvent);\n        this.active = true;\n    }\n    removeFocusTrap() {\n        document.removeEventListener('focusin', this.onFocusInEvent);\n        removeReboundElementsFromFocusTrapElement(this.focusTrapElement);\n        FocusTrapTracker.activatePreviousCurrent();\n        this.active = false;\n        if (this.previousFocus) {\n            this.previousFocus.focus();\n        }\n    }\n    onFocusIn(event) {\n        refocusIfOutsideFocusTrapElement(event.composedPath()[0], this.focusTrapElement, this.firstFocusElement);\n    }\n}\n//# sourceMappingURL=focus-trap.js.map"]},"metadata":{},"sourceType":"module"}