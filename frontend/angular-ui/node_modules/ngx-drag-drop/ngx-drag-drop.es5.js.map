{"version":3,"file":"ngx-drag-drop.es5.js","sources":["ts/src/dnd-utils.ts","ts/src/dnd-state.ts","ts/src/dnd-draggable.directive.ts","ts/src/dnd-dropzone.directive.ts","ts/src/dnd-handle.directive.ts","ts/src/dnd.module.ts","ts/src/ngx-drag-drop.ts"],"names":[],"mappings":"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","sourcesContent":["import { DropEffect, EffectAllowed } from './dnd-types';\n\nexport interface DragDropData {\n  data?:any;\n  type?:string;\n}\n\nexport interface DndEvent extends DragEvent {\n  _dndUsingHandle?:boolean;\n  _dndDropzoneActive?:true;\n}\n\nexport type DndDragImageOffsetFunction = ( event:DragEvent, dragImage:Element ) => { x:number, y:number };\n\nexport const /** @type {?} */ DROP_EFFECTS = /** @type {?} */(( [ \"move\", \"copy\", \"link\" ] as DropEffect[]));\n\nexport const /** @type {?} */ CUSTOM_MIME_TYPE = \"application/x-dnd\";\nexport const /** @type {?} */ JSON_MIME_TYPE = \"application/json\";\nexport const /** @type {?} */ MSIE_MIME_TYPE = \"Text\";\n/**\n * @param {?} mimeType\n * @return {?}\n */\nfunction mimeTypeIsCustom( mimeType:string ) {\n\n  return mimeType.substr( 0, CUSTOM_MIME_TYPE.length ) === CUSTOM_MIME_TYPE;\n}\n/**\n * @param {?} event\n * @return {?}\n */\nexport function getWellKnownMimeType( event:DragEvent ):string | null {\n\n  const /** @type {?} */ types = event.dataTransfer.types;\n\n  // IE 9 workaround.\n  if( !types ) {\n\n    return MSIE_MIME_TYPE;\n  }\n\n  for( let /** @type {?} */ i = 0; i < types.length; i++ ) {\n\n    if( types[ i ] === MSIE_MIME_TYPE\n      || types[ i ] === JSON_MIME_TYPE\n      || mimeTypeIsCustom( types[ i ] ) ) {\n\n      return types[ i ];\n    }\n  }\n\n  return null;\n}\n/**\n * @param {?} event\n * @param {?} data\n * @param {?} effectAllowed\n * @return {?}\n */\nexport function setDragData( event:DragEvent, data:DragDropData, effectAllowed:EffectAllowed ):void {\n\n  // Internet Explorer and Microsoft Edge don't support custom mime types, see design doc:\n  // https://github.com/marceljuenemann/angular-drag-and-drop-lists/wiki/Data-Transfer-Design\n  const /** @type {?} */ mimeType = CUSTOM_MIME_TYPE + (data.type ? (\"-\" + data.type) : \"\");\n\n  const /** @type {?} */ dataString = JSON.stringify( data );\n\n  try {\n\n    event.dataTransfer.setData( mimeType, dataString );\n\n  }\n  catch( /** @type {?} */ e ) {\n\n    //   Setting a custom MIME type did not work, we are probably in IE or Edge.\n    try {\n\n      event.dataTransfer.setData( JSON_MIME_TYPE, dataString );\n\n    }\n    catch( /** @type {?} */ e ) {\n\n      //   We are in Internet Explorer and can only use the Text MIME type. Also note that IE\n      //   does not allow changing the cursor in the dragover event, therefore we have to choose\n      //   the one we want to display now by setting effectAllowed.\n      const /** @type {?} */ effectsAllowed = filterEffects( DROP_EFFECTS, effectAllowed );\n      event.dataTransfer.effectAllowed = effectsAllowed[ 0 ];\n\n      event.dataTransfer.setData( MSIE_MIME_TYPE, dataString );\n    }\n  }\n}\n/**\n * @param {?} event\n * @param {?} dragIsExternal\n * @return {?}\n */\nexport function getDropData( event:DragEvent, dragIsExternal:boolean ):DragDropData {\n\n  // check if the mime type is well known\n  const /** @type {?} */ mimeType = getWellKnownMimeType( event );\n\n  // drag did not originate from [dndDraggable]\n  if( dragIsExternal === true ) {\n\n    if( mimeType !== null\n      && mimeTypeIsCustom( mimeType ) ) {\n\n      // the type of content is well known and safe to handle\n      return JSON.parse( event.dataTransfer.getData( mimeType ) );\n    }\n\n    // the contained data is unknown, let user handle it\n    return {};\n  }\n\n  // the type of content is well known and safe to handle\n  return JSON.parse( event.dataTransfer.getData( mimeType ) );\n}\n/**\n * @param {?} effects\n * @param {?} allowed\n * @return {?}\n */\nexport function filterEffects( effects:DropEffect[], allowed:EffectAllowed | DropEffect ):DropEffect[] {\n\n  if( allowed === \"all\" ) {\n\n    return effects;\n  }\n\n  return effects.filter( function( effect ) {\n\n    return allowed.toLowerCase().indexOf( effect ) !== -1;\n  } );\n}\n/**\n * @param {?} parentElement\n * @param {?} childElement\n * @return {?}\n */\nexport function getDirectChildElement( parentElement:Element, childElement:Element ):Element | null {\n\n  let /** @type {?} */ directChild:Node = childElement;\n\n  while( directChild.parentNode !== parentElement ) {\n\n    // reached root node without finding given parent\n    if( !directChild.parentNode ) {\n\n      return null;\n    }\n\n    directChild = directChild.parentNode;\n  }\n\n  return /** @type {?} */(( directChild as Element));\n}\n/**\n * @param {?} event\n * @param {?} element\n * @param {?} horizontal\n * @return {?}\n */\nexport function shouldPositionPlaceholderBeforeElement( event:DragEvent, element:Element, horizontal:boolean ) {\n\n  const /** @type {?} */ bounds = element.getBoundingClientRect();\n\n  // If the pointer is in the upper half of the list item element,\n  // we position the placeholder before the list item, otherwise after it.\n  if( horizontal ) {\n\n    return (event.clientX < bounds.left + bounds.width / 2);\n  }\n\n  return (event.clientY < bounds.top + bounds.height / 2);\n}\n/**\n * @param {?} event\n * @param {?} dragImage\n * @return {?}\n */\nexport function calculateDragImageOffset( event:DragEvent, dragImage:Element ):{ x:number, y:number } {\n\n  const /** @type {?} */ dragImageComputedStyle = window.getComputedStyle( dragImage );\n  const /** @type {?} */ paddingTop = parseFloat( dragImageComputedStyle.paddingTop ) || 0;\n  const /** @type {?} */ paddingLeft = parseFloat( dragImageComputedStyle.paddingLeft ) || 0;\n  const /** @type {?} */ borderTop = parseFloat( dragImageComputedStyle.borderTopWidth ) || 0;\n  const /** @type {?} */ borderLeft = parseFloat( dragImageComputedStyle.borderLeftWidth ) || 0;\n\n  return {\n    x: event.offsetX + paddingLeft + borderLeft,\n    y: event.offsetY + paddingTop + borderTop\n  };\n}\n/**\n * @param {?} event\n * @param {?} dragImage\n * @param {?} offsetFunction\n * @return {?}\n */\nexport function setDragImage( event:DragEvent, dragImage:Element, offsetFunction:DndDragImageOffsetFunction ):void {\n\n  const /** @type {?} */ offset = offsetFunction( event, dragImage ) || {x: 0, y: 0};\n\n  ( /** @type {?} */((event.dataTransfer as any))).setDragImage( dragImage, offset.x, offset.y );\n}\n","import {\n  CUSTOM_MIME_TYPE,\n  DROP_EFFECTS,\n  filterEffects,\n  getWellKnownMimeType,\n  JSON_MIME_TYPE,\n  MSIE_MIME_TYPE\n} from './dnd-utils';\nimport { DropEffect, EffectAllowed } from './dnd-types';\n\nexport interface DndState {\n  isDragging:boolean;\n  dropEffect?:DropEffect;\n  effectAllowed?:EffectAllowed;\n  type?:string;\n}\n\nconst /** @type {?} */ _dndState:DndState = {\n  isDragging: false,\n  dropEffect: \"none\",\n  effectAllowed: \"all\",\n  type: undefined\n};\n/**\n * @param {?} event\n * @param {?} effectAllowed\n * @param {?} type\n * @return {?}\n */\nexport function startDrag( event:DragEvent, effectAllowed:EffectAllowed, type:string | undefined ) {\n\n  _dndState.isDragging = true;\n  _dndState.dropEffect = \"none\";\n  _dndState.effectAllowed = effectAllowed;\n  _dndState.type = type;\n\n  event.dataTransfer.effectAllowed = effectAllowed;\n}\n/**\n * @return {?}\n */\nexport function endDrag() {\n\n  _dndState.isDragging = false;\n  _dndState.dropEffect = undefined;\n  _dndState.effectAllowed = undefined;\n  _dndState.type = undefined;\n}\n/**\n * @param {?} event\n * @param {?} dropEffect\n * @return {?}\n */\nexport function setDropEffect( event:DragEvent, dropEffect:DropEffect ) {\n\n  if( _dndState.isDragging === true ) {\n\n    _dndState.dropEffect = dropEffect;\n  }\n\n  event.dataTransfer.dropEffect = dropEffect;\n}\n/**\n * @param {?} event\n * @param {?=} effectAllowed\n * @return {?}\n */\nexport function getDropEffect( event:DragEvent, effectAllowed?:EffectAllowed | DropEffect ):DropEffect {\n\n  let /** @type {?} */ effects = DROP_EFFECTS;\n\n  effects = filterEffects( effects, /** @type {?} */(( event.dataTransfer.effectAllowed as EffectAllowed)) );\n\n  if( _dndState.isDragging === true ) {\n\n    effects = filterEffects( effects, _dndState.effectAllowed );\n  }\n\n  if( effectAllowed ) {\n\n    effects = filterEffects( effects, effectAllowed );\n  }\n\n  // MacOS automatically filters dataTransfer.effectAllowed depending on the modifier keys,\n  // therefore the following modifier keys will only affect other operating systems.\n  if( effects.length === 0 ) {\n\n    return \"none\";\n  }\n\n  if( event.ctrlKey && effects.indexOf( \"copy\" ) !== -1 ) {\n\n    return \"copy\";\n  }\n\n  if( event.altKey && effects.indexOf( \"link\" ) !== -1 ) {\n\n    return \"link\";\n  }\n\n  return /** @type {?} */(( effects[ 0 ] as DropEffect));\n}\n/**\n * @param {?} event\n * @return {?}\n */\nexport function getDndType( event:DragEvent ):string | undefined {\n\n  if( _dndState.isDragging === true ) {\n\n    return _dndState.type;\n  }\n\n  const /** @type {?} */ mimeType = getWellKnownMimeType( event );\n\n  if( mimeType === null ) {\n\n    return undefined;\n  }\n\n  if( mimeType === MSIE_MIME_TYPE\n    || mimeType === JSON_MIME_TYPE ) {\n\n    return undefined;\n  }\n\n  return mimeType.substr( CUSTOM_MIME_TYPE.length + 1 ) || undefined;\n}\n/**\n * @return {?}\n */\nexport function isExternalDrag():boolean {\n\n  return _dndState.isDragging === false;\n}\n\nexport const /** @type {?} */ dndState:Readonly<DndState> = /** @type {?} */(( _dndState as Readonly<DndState>));\n","import {\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n  Input,\n  Output,\n  Renderer2\n} from '@angular/core';\nimport { calculateDragImageOffset, DndDragImageOffsetFunction, DndEvent, setDragData, setDragImage } from './dnd-utils';\nimport { DndHandleDirective } from './dnd-handle.directive';\nimport { dndState, endDrag, startDrag } from './dnd-state';\nimport { EffectAllowed } from './dnd-types';\nexport class DndDragImageRefDirective {\n/**\n * @param {?} parent\n * @param {?} elementRef\n */\nconstructor( parent:DndDraggableDirective,\n               elementRef:ElementRef ) {\n\n    parent.registerDragImage( elementRef );\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: \"[dndDragImageRef]\"\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DndDraggableDirective, },\n{type: ElementRef, },\n];\n}\n\nfunction DndDragImageRefDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nDndDragImageRefDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDndDragImageRefDirective.ctorParameters;\n}\n\nexport class DndDraggableDirective {\n\n  \n  dndDraggable:any;\n\n  \n  dndEffectAllowed:EffectAllowed = \"copy\";\n\n  \n  dndType?:string;\n\n  \n  dndDraggingClass = \"dndDragging\";\n\n  \n  dndDraggingSourceClass = \"dndDraggingSource\";\n\n  \n  dndDraggableDisabledClass = \"dndDraggableDisabled\";\n\n  \n  dndDragImageOffsetFunction:DndDragImageOffsetFunction = calculateDragImageOffset;\n\n  \n  readonly dndStart:EventEmitter<DragEvent> = new EventEmitter<DragEvent>();\n\n  \n  readonly dndEnd:EventEmitter<DragEvent> = new EventEmitter<DragEvent>();\n\n  \n  readonly dndMoved:EventEmitter<DragEvent> = new EventEmitter<DragEvent>();\n\n  \n  readonly dndCopied:EventEmitter<DragEvent> = new EventEmitter<DragEvent>();\n\n  \n  readonly dndLinked:EventEmitter<DragEvent> = new EventEmitter<DragEvent>();\n\n  \n  readonly dndCanceled:EventEmitter<DragEvent> = new EventEmitter<DragEvent>();\n\n  \n  draggable = true;\nprivate dndHandle?:DndHandleDirective;\nprivate dndDragImageElementRef?:ElementRef;\nprivate dragImage:Element;\n/**\n * @param {?} value\n * @return {?}\n */\nset dndDisableIf( value:boolean ) {\n\n    this.draggable = !value;\n\n    if( this.draggable ) {\n\n      this.renderer.removeClass( this.elementRef.nativeElement, this.dndDraggableDisabledClass );\n    }\n    else {\n\n      this.renderer.addClass( this.elementRef.nativeElement, this.dndDraggableDisabledClass );\n    }\n  }\n/**\n * @param {?} elementRef\n * @param {?} renderer\n */\nconstructor(\nprivate elementRef:ElementRef,\nprivate renderer:Renderer2 ) {\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonDragStart( event:DndEvent ) {\n\n    if( this.draggable === false ) {\n\n      return false;\n    }\n\n    // check if there is dnd handle and if the dnd handle was used to start the drag\n    if( typeof this.dndHandle !== \"undefined\"\n      && typeof event._dndUsingHandle === \"undefined\" ) {\n\n      return false;\n    }\n\n    // initialize global state\n    startDrag( event, this.dndEffectAllowed, this.dndType );\n\n    setDragData( event, {data: this.dndDraggable, type: this.dndType}, dndState.effectAllowed );\n\n    this.determineDragImage();\n\n    // set dragging css class prior to setDragImage so styles are applied before\n    // TODO breaking change: add class to elementRef rather than drag image which could be another element\n    this.renderer.addClass( this.dragImage, this.dndDraggingClass );\n\n    // set custom dragimage if present\n    // set dragimage if drag is started from dndHandle\n    if( typeof this.dndDragImageElementRef !== \"undefined\"\n      || typeof event._dndUsingHandle !== \"undefined\" ) {\n\n      setDragImage( event, this.dragImage, this.dndDragImageOffsetFunction );\n    }\n\n    // add dragging source css class on first drag event\n    const /** @type {?} */ unregister = this.renderer.listen( this.elementRef.nativeElement, \"drag\", () => {\n\n      this.renderer.addClass( this.elementRef.nativeElement, this.dndDraggingSourceClass );\n      unregister();\n    } );\n\n    this.dndStart.emit( event );\n\n    event.stopPropagation();\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonDragEnd( event:DragEvent ) {\n\n    // get drop effect from custom stored state as its not reliable across browsers\n    const /** @type {?} */ dropEffect = dndState.dropEffect;\n\n    let /** @type {?} */ dropEffectEmitter:EventEmitter<DragEvent>;\n\n    switch( dropEffect ) {\n\n      case \"copy\":\n        dropEffectEmitter = this.dndCopied;\n        break;\n\n      case \"link\":\n        dropEffectEmitter = this.dndLinked;\n        break;\n\n      case \"move\":\n        dropEffectEmitter = this.dndMoved;\n        break;\n\n      default:\n        dropEffectEmitter = this.dndCanceled;\n        break;\n    }\n\n    dropEffectEmitter.emit( event );\n    this.dndEnd.emit( event );\n\n    // reset global state\n    endDrag();\n\n    this.renderer.removeClass( this.dragImage, this.dndDraggingClass );\n\n    // IE9 special hammering\n    window.setTimeout( () => {\n      this.renderer.removeClass( this.elementRef.nativeElement, this.dndDraggingSourceClass );\n    }, 0 );\n\n    event.stopPropagation();\n  }\n/**\n * @param {?} handle\n * @return {?}\n */\nregisterDragHandle( handle:DndHandleDirective | undefined ) {\n\n    this.dndHandle = handle;\n  }\n/**\n * @param {?} elementRef\n * @return {?}\n */\nregisterDragImage( elementRef:ElementRef | undefined ) {\n\n    this.dndDragImageElementRef = elementRef;\n  }\n/**\n * @return {?}\n */\nprivate determineDragImage() {\n\n    // evaluate custom drag image existence\n    if( typeof this.dndDragImageElementRef !== \"undefined\" ) {\n\n      this.dragImage = /** @type {?} */(( this.dndDragImageElementRef.nativeElement as Element));\n    }\n    else {\n\n      this.dragImage = this.elementRef.nativeElement;\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: \"[dndDraggable]\"\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'dndDraggable': [{ type: Input },],\n'dndEffectAllowed': [{ type: Input },],\n'dndType': [{ type: Input },],\n'dndDraggingClass': [{ type: Input },],\n'dndDraggingSourceClass': [{ type: Input },],\n'dndDraggableDisabledClass': [{ type: Input },],\n'dndDragImageOffsetFunction': [{ type: Input },],\n'dndStart': [{ type: Output },],\n'dndEnd': [{ type: Output },],\n'dndMoved': [{ type: Output },],\n'dndCopied': [{ type: Output },],\n'dndLinked': [{ type: Output },],\n'dndCanceled': [{ type: Output },],\n'draggable': [{ type: HostBinding, args: [\"attr.draggable\", ] },],\n'dndDisableIf': [{ type: Input },],\n'onDragStart': [{ type: HostListener, args: [\"dragstart\", [ \"$event\" ], ] },],\n'onDragEnd': [{ type: HostListener, args: [\"dragend\", [ \"$event\" ], ] },],\n};\n}\n\nfunction DndDraggableDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nDndDraggableDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDndDraggableDirective.ctorParameters;\n/** @type {?} */\nDndDraggableDirective.propDecorators;\n/** @type {?} */\nDndDraggableDirective.prototype.dndDraggable;\n/** @type {?} */\nDndDraggableDirective.prototype.dndEffectAllowed;\n/** @type {?} */\nDndDraggableDirective.prototype.dndType;\n/** @type {?} */\nDndDraggableDirective.prototype.dndDraggingClass;\n/** @type {?} */\nDndDraggableDirective.prototype.dndDraggingSourceClass;\n/** @type {?} */\nDndDraggableDirective.prototype.dndDraggableDisabledClass;\n/** @type {?} */\nDndDraggableDirective.prototype.dndDragImageOffsetFunction;\n/** @type {?} */\nDndDraggableDirective.prototype.dndStart;\n/** @type {?} */\nDndDraggableDirective.prototype.dndEnd;\n/** @type {?} */\nDndDraggableDirective.prototype.dndMoved;\n/** @type {?} */\nDndDraggableDirective.prototype.dndCopied;\n/** @type {?} */\nDndDraggableDirective.prototype.dndLinked;\n/** @type {?} */\nDndDraggableDirective.prototype.dndCanceled;\n/** @type {?} */\nDndDraggableDirective.prototype.draggable;\n/** @type {?} */\nDndDraggableDirective.prototype.dndHandle;\n/** @type {?} */\nDndDraggableDirective.prototype.dndDragImageElementRef;\n/** @type {?} */\nDndDraggableDirective.prototype.dragImage;\n/** @type {?} */\nDndDraggableDirective.prototype.elementRef;\n/** @type {?} */\nDndDraggableDirective.prototype.renderer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n  AfterViewInit,\n  ContentChild,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  Output,\n  Renderer2\n} from '@angular/core';\nimport {\n  DndEvent,\n  DragDropData,\n  getDirectChildElement,\n  getDropData,\n  shouldPositionPlaceholderBeforeElement\n} from './dnd-utils';\nimport { getDndType, getDropEffect, isExternalDrag, setDropEffect } from './dnd-state';\nimport { DropEffect, EffectAllowed } from './dnd-types';\n\nexport interface DndDropEvent {\n  event:DragEvent;\n  dropEffect:DropEffect;\n  isExternal:boolean;\n  data?:any;\n  index?:number;\n  type?:any;\n}\nexport class DndPlaceholderRefDirective {\n/**\n * @param {?} elementRef\n */\nconstructor(\npublic readonly elementRef:ElementRef ) {\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: \"[dndPlaceholderRef]\"\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n];\n}\n\nfunction DndPlaceholderRefDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nDndPlaceholderRefDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDndPlaceholderRefDirective.ctorParameters;\n/** @type {?} */\nDndPlaceholderRefDirective.prototype.elementRef;\n}\n\nexport class DndDropzoneDirective implements AfterViewInit {\n\n  \n  dndDropzone?:string[];\n\n  \n  dndEffectAllowed:EffectAllowed;\n\n  \n  dndAllowExternal:boolean = false;\n\n  \n  dndHorizontal:boolean = false;\n\n  \n  dndDragoverClass:string = \"dndDragover\";\n\n  \n  dndDropzoneDisabledClass = \"dndDropzoneDisabled\";\n\n  \n  readonly dndDragover:EventEmitter<DragEvent> = new EventEmitter<DragEvent>();\n\n  \n  readonly dndDrop:EventEmitter<DndDropEvent> = new EventEmitter<DndDropEvent>();\nprivate readonly dndPlaceholderRef?:DndPlaceholderRefDirective;\nprivate placeholder:Element | null = null;\nprivate disabled:boolean = false;\n/**\n * @param {?} value\n * @return {?}\n */\nset dndDisableIf( value:boolean ) {\n\n    this.disabled = !!value;\n\n    if( this.disabled ) {\n\n      this.renderer.addClass( this.elementRef.nativeElement, this.dndDropzoneDisabledClass );\n    }\n    else {\n\n      this.renderer.removeClass( this.elementRef.nativeElement, this.dndDropzoneDisabledClass );\n    }\n  }\n/**\n * @param {?} elementRef\n * @param {?} renderer\n */\nconstructor(\nprivate elementRef:ElementRef,\nprivate renderer:Renderer2 ) {\n  }\n/**\n * @return {?}\n */\nngAfterViewInit():void {\n\n    this.placeholder = this.tryGetPlaceholder();\n\n    if( this.placeholder !== null ) {\n\n      this.placeholder.remove();\n    }\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonDragEnter( event:DndEvent ) {\n\n    // check if another dropzone is activated\n    if( event._dndDropzoneActive === true ) {\n\n      this.cleanupDragoverState();\n      return;\n    }\n\n    // set as active if the target element is inside this dropzone\n    if( typeof event._dndDropzoneActive === \"undefined\" ) {\n\n      const /** @type {?} */ newTarget = document.elementFromPoint( event.clientX, event.clientY );\n\n      if( this.elementRef.nativeElement.contains( newTarget ) ) {\n\n        event._dndDropzoneActive = true;\n      }\n    }\n\n    // check if this drag event is allowed to drop on this dropzone\n    const /** @type {?} */ type = getDndType( event );\n    if( this.isDropAllowed( type ) === false ) {\n\n      return;\n    }\n\n    // allow the dragenter\n    event.preventDefault();\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonDragOver( event:DragEvent ) {\n\n    // check if this drag event is allowed to drop on this dropzone\n    const /** @type {?} */ type = getDndType( event );\n    if( this.isDropAllowed( type ) === false ) {\n\n      return;\n    }\n\n    this.checkAndUpdatePlaceholderPosition( event );\n\n    const /** @type {?} */ dropEffect = getDropEffect( event, this.dndEffectAllowed );\n\n    if( dropEffect === \"none\" ) {\n\n      this.cleanupDragoverState();\n      return;\n    }\n\n    // allow the dragover\n    event.preventDefault();\n\n    // set the drop effect\n    setDropEffect( event, dropEffect );\n\n    this.dndDragover.emit( event );\n\n    this.renderer.addClass( this.elementRef.nativeElement, this.dndDragoverClass );\n\n    event.stopPropagation();\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonDrop( event:DragEvent ) {\n\n    try {\n\n      // check if this drag event is allowed to drop on this dropzone\n      const /** @type {?} */ type = getDndType( event );\n      if( this.isDropAllowed( type ) === false ) {\n\n        return;\n      }\n\n      const /** @type {?} */ data:DragDropData = getDropData( event, isExternalDrag() );\n\n      if( this.isDropAllowed( data.type ) === false ) {\n\n        return;\n      }\n\n      // signal custom drop handling\n      event.preventDefault();\n\n      const /** @type {?} */ dropEffect = getDropEffect( event );\n\n      setDropEffect( event, dropEffect );\n\n      if( dropEffect === \"none\" ) {\n\n        return;\n      }\n\n      const /** @type {?} */ dropIndex = this.getPlaceholderIndex();\n      this.dndDrop.emit( {\n        event: event,\n        dropEffect: dropEffect,\n        isExternal: isExternalDrag(),\n        data: data.data,\n        index: dropIndex,\n        type: type,\n      } );\n\n      event.stopPropagation();\n\n    }\n    finally {\n\n      this.cleanupDragoverState();\n    }\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonDragLeave( event:DndEvent ) {\n\n    // check if still inside this dropzone and not yet handled by another dropzone\n    if( typeof event._dndDropzoneActive === \"undefined\" ) {\n\n      const /** @type {?} */ newTarget = document.elementFromPoint( event.clientX, event.clientY );\n\n      if( this.elementRef.nativeElement.contains( newTarget ) ) {\n\n        event._dndDropzoneActive = true;\n        return;\n      }\n    }\n\n    this.cleanupDragoverState();\n\n    // cleanup drop effect when leaving dropzone\n    setDropEffect( event, \"none\" );\n  }\n/**\n * @return {?}\n */\nprivate tryGetPlaceholder():Element | null {\n\n    if( typeof this.dndPlaceholderRef !== \"undefined\" ) {\n\n      return /** @type {?} */(( this.dndPlaceholderRef.elementRef.nativeElement as Element));\n    }\n\n    // TODO nasty workaround needed because if ng-container / template is used @ContentChild() or DI will fail because\n    // of wrong context see angular bug https://github.com/angular/angular/issues/13517\n    return this.elementRef.nativeElement.querySelector( \"[dndPlaceholderRef]\" );\n  }\n/**\n * @param {?=} type\n * @return {?}\n */\nprivate isDropAllowed( type?:string ):boolean {\n\n    // dropzone is disabled -> deny it\n    if( this.disabled === true ) {\n\n      return false;\n    }\n\n    // if drag did not start from our directive\n    // and external drag sources are not allowed -> deny it\n    if( isExternalDrag() === true\n      && this.dndAllowExternal === false ) {\n\n      return false;\n    }\n\n    // no filtering by types -> allow it\n    if( !this.dndDropzone ) {\n\n      return true;\n    }\n\n    // no type set -> allow it\n    if( !type ) {\n\n      return true;\n    }\n\n    if( Array.isArray( this.dndDropzone ) === false ) {\n\n      throw new Error( \"dndDropzone: bound value to [dndDropzone] must be an array!\" );\n    }\n\n    // if dropzone contains type -> allow it\n    return this.dndDropzone.indexOf( type ) !== -1;\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nprivate checkAndUpdatePlaceholderPosition( event:DragEvent ):void {\n\n    if( this.placeholder === null ) {\n\n      return;\n    }\n\n    // make sure the placeholder is in the DOM\n    if( this.placeholder.parentNode !== this.elementRef.nativeElement ) {\n\n      this.renderer.appendChild( this.elementRef.nativeElement, this.placeholder );\n    }\n\n    // update the position if the event originates from a child element of the dropzone\n    const /** @type {?} */ directChild = getDirectChildElement( this.elementRef.nativeElement, /** @type {?} */(( event.target as Element)) );\n\n    // early exit if no direct child or direct child is placeholder\n    if( directChild === null\n      || directChild === this.placeholder ) {\n\n      return;\n    }\n\n    const /** @type {?} */ positionPlaceholderBeforeDirectChild = shouldPositionPlaceholderBeforeElement( event, directChild, this.dndHorizontal );\n\n    if( positionPlaceholderBeforeDirectChild ) {\n\n      // do insert before only if necessary\n      if( directChild.previousSibling !== this.placeholder ) {\n\n        this.renderer.insertBefore( this.elementRef.nativeElement, this.placeholder, directChild );\n      }\n    }\n    else {\n\n      // do insert after only if necessary\n      if( directChild.nextSibling !== this.placeholder ) {\n\n        this.renderer.insertBefore( this.elementRef.nativeElement, this.placeholder, directChild.nextSibling );\n      }\n    }\n  }\n/**\n * @return {?}\n */\nprivate getPlaceholderIndex():number | undefined {\n\n    if( this.placeholder === null ) {\n\n      return undefined;\n    }\n\n    const /** @type {?} */ element = /** @type {?} */(( this.elementRef.nativeElement as HTMLElement));\n\n    return Array.prototype.indexOf.call( element.children, this.placeholder );\n  }\n/**\n * @return {?}\n */\nprivate cleanupDragoverState() {\n\n    this.renderer.removeClass( this.elementRef.nativeElement, this.dndDragoverClass );\n\n    if( this.placeholder !== null ) {\n\n      this.placeholder.remove();\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: \"[dndDropzone]\"\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'dndDropzone': [{ type: Input },],\n'dndEffectAllowed': [{ type: Input },],\n'dndAllowExternal': [{ type: Input },],\n'dndHorizontal': [{ type: Input },],\n'dndDragoverClass': [{ type: Input },],\n'dndDropzoneDisabledClass': [{ type: Input },],\n'dndDragover': [{ type: Output },],\n'dndDrop': [{ type: Output },],\n'dndPlaceholderRef': [{ type: ContentChild, args: [DndPlaceholderRefDirective, ] },],\n'dndDisableIf': [{ type: Input },],\n'onDragEnter': [{ type: HostListener, args: [\"dragenter\", [ \"$event\" ], ] },],\n'onDragOver': [{ type: HostListener, args: [\"dragover\", [ \"$event\" ], ] },],\n'onDrop': [{ type: HostListener, args: [\"drop\", [ \"$event\" ], ] },],\n'onDragLeave': [{ type: HostListener, args: [\"dragleave\", [ \"$event\" ], ] },],\n};\n}\n\nfunction DndDropzoneDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nDndDropzoneDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDndDropzoneDirective.ctorParameters;\n/** @type {?} */\nDndDropzoneDirective.propDecorators;\n/** @type {?} */\nDndDropzoneDirective.prototype.dndDropzone;\n/** @type {?} */\nDndDropzoneDirective.prototype.dndEffectAllowed;\n/** @type {?} */\nDndDropzoneDirective.prototype.dndAllowExternal;\n/** @type {?} */\nDndDropzoneDirective.prototype.dndHorizontal;\n/** @type {?} */\nDndDropzoneDirective.prototype.dndDragoverClass;\n/** @type {?} */\nDndDropzoneDirective.prototype.dndDropzoneDisabledClass;\n/** @type {?} */\nDndDropzoneDirective.prototype.dndDragover;\n/** @type {?} */\nDndDropzoneDirective.prototype.dndDrop;\n/** @type {?} */\nDndDropzoneDirective.prototype.dndPlaceholderRef;\n/** @type {?} */\nDndDropzoneDirective.prototype.placeholder;\n/** @type {?} */\nDndDropzoneDirective.prototype.disabled;\n/** @type {?} */\nDndDropzoneDirective.prototype.elementRef;\n/** @type {?} */\nDndDropzoneDirective.prototype.renderer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Directive, HostBinding, HostListener } from '@angular/core';\nimport { DndEvent } from './dnd-utils';\nimport { DndDraggableDirective } from './dnd-draggable.directive';\nexport class DndHandleDirective {\n\n  \n  draggable = true;\n/**\n * @param {?} parent\n */\nconstructor( parent:DndDraggableDirective ) {\n\n    parent.registerDragHandle( this );\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonDragEvent( event:DndEvent ) {\n\n    event._dndUsingHandle = true;\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: \"[dndHandle]\"\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DndDraggableDirective, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'draggable': [{ type: HostBinding, args: [\"attr.draggable\", ] },],\n'onDragEvent': [{ type: HostListener, args: [\"dragstart\", [ \"$event\" ], ] },{ type: HostListener, args: [\"dragend\", [ \"$event\" ], ] },],\n};\n}\n\nfunction DndHandleDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nDndHandleDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDndHandleDirective.ctorParameters;\n/** @type {?} */\nDndHandleDirective.propDecorators;\n/** @type {?} */\nDndHandleDirective.prototype.draggable;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DndDraggableDirective, DndDragImageRefDirective } from './dnd-draggable.directive';\nimport { DndDropzoneDirective, DndPlaceholderRefDirective } from './dnd-dropzone.directive';\nimport { DndHandleDirective } from './dnd-handle.directive';\nexport class DndModule {\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    DndDraggableDirective,\n    DndDropzoneDirective,\n    DndHandleDirective,\n    DndPlaceholderRefDirective,\n    DndDragImageRefDirective\n  ],\n  exports: [\n    DndDraggableDirective,\n    DndDropzoneDirective,\n    DndHandleDirective,\n    DndPlaceholderRefDirective,\n    DndDragImageRefDirective\n  ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction DndModule_tsickle_Closure_declarations() {\n/** @type {?} */\nDndModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDndModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport {DndDragImageOffsetFunction,DndDragImageRefDirective,DndDraggableDirective,DndDropEvent,DndPlaceholderRefDirective,DndDropzoneDirective,DndHandleDirective,DropEffect,EffectAllowed,DndModule} from './public_api';\n"]}