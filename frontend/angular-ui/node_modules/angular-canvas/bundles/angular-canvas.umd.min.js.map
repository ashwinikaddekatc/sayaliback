{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","../../../projects/angular-canvas-lib/src/lib/components/ng-canvas.ts","../../../projects/angular-canvas-lib/src/lib/renderer-utils.ts","../../../projects/angular-canvas-lib/src/lib/default-dom-renderer.ts","../../../projects/angular-canvas-lib/src/lib/metadata/metadata-storage.ts","../../../projects/angular-canvas-lib/src/lib/tokens/canvas-resize-obserer-enable-token.ts","../../../projects/angular-canvas-lib/src/lib/canvas-dom-renderer.ts","../../../projects/angular-canvas-lib/src/lib/canvas-dom.module.ts","../../../projects/angular-canvas-lib/src/lib/decorators/canvas-component.ts","../../../projects/angular-canvas-lib/src/lib/decorators/canvas-element.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","__","this","constructor","create","__read","o","n","m","Symbol","iterator","r","e","i","ar","next","done","push","value","error","getArrayDrawingComponents","set","from","values","filter","c","draw","NgCanvas","ngZone","config","_this","componentSet","Set","componentsDrawings","element","document","createElement","style","position","context","getContext","_height","height","_width","width","runOutsideAngular","window","requestAnimationFrame","time","defineProperty","_parent","_parentElement","subResizeEvent","resizeObserver","unobserve","ResizeObserver","_a","entry","dpr","devicePixelRatio","contentRect","parseInt","resizeDetected","scale","drawWithoutRequestAnimation","observe","resetCanvasSize","destroy","clear","remove","addClass","name","setAttribute","appendChild","newChild","onInit","add","drawAll","removeChild","oldChild","onDestroy","delete","insertBefore","refChild","recalculateElementsDraw","removeAttribute","namespace","removeClass","classList","removeStyle","flags","setNgAttribute","setNgProperty","setStyle","setValue","requestId","cancelAnimationFrame","clearRect","needDraw","elementsCount","length","nodeName","NAMESPACE_URIS","svg","xhtml","xlink","xml","xmlns","COMPONENT_REGEX","HOST_ATTR","CONTENT_ATTR","shimContentAttribute","componentShortId","replace","shimHostAttribute","flattenStyles","compId","styles","target","isArray","ngDevMode","NG_DEV_MODE","decoratePreventDefault","eventHandler","event","preventDefault","returnValue","DefaultDomRenderer2","eventManager","data","createElementNS","createComment","createText","createTextNode","parent","selectRootElement","selectorOrNode","preserveContent","el","querySelector","Error","textContent","parentNode","node","nextSibling","namespaceUri","setAttributeNS","removeAttributeNS","RendererStyleFlags2","DashCase","Important","setProperty","removeProperty","checkNoSyntheticProp","nodeValue","listen","callback","addGlobalEventListener","addEventListener","AT_CHARCODE","charCodeAt","nameKind","EmulatedEncapsulationDomRenderer2","_super","sharedStylesHost","component","appId","id","addStyles","contentAttr","hostAttr","applyToHost","ShadowDomRenderer","hostEl","encapsulation","ViewEncapsulation","ShadowDom","shadowRoot","attachShadow","mode","createShadowRoot","addHost","styleEl","nodeOrShadowRoot","removeHost","getMetadataArgsStorage","canvasRendererMetadataArgsStorage","MetadataArgsStorage","elements","Map","CanvasRenderConfig","InjectionToken","CanvasDomRendererFactory","canvasConfig","rendererByCompId","defaultRenderer","end","createRenderer","type","isCanvasComponent","renderer","get","CanvasRenderer","Emulated","has","Injectable","EventManager","DomSharedStylesHost","NgZone","Inject","args","canvasElements","Component","canvas","eventName","callbackFunc","removeEventListener","previous","CanvasDomModule","forRoot","ngModule","NgModule","imports","CommonModule","providers","provide","RendererFactory2","useClass","deps","APP_ID","schemas","NO_ERRORS_SCHEMA","selector"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { NgCanvasElement } from './ng-canvas-element';\nimport { NgZone, RendererStyleFlags2 } from '@angular/core';\nimport { CanvasRenderConfigModel } from '../tokens/canvas-resize-obserer-enable-token';\n\nfunction getArrayDrawingComponents(\n  set: Set<NgCanvasElement>\n): NgCanvasElement[] {\n  return Array.from(set.values()).filter(\n    (c: NgCanvasElement) => c && !!c.draw\n  ) as NgCanvasElement[];\n}\n\nexport class NgCanvas {\n  public static nodeName = 'canvas';\n  public readonly context: CanvasRenderingContext2D;\n  public readonly element: HTMLCanvasElement;\n\n  public get width(): number {\n    return this._width;\n  }\n\n  public get height(): number {\n    return this._height;\n  }\n\n  private requestId: number;\n  private _width: number;\n  private _height: number;\n  private _parentElement: HTMLCanvasElement;\n\n  public set parent(element) {\n    this._parentElement = element;\n    this.subResizeEvent();\n  }\n\n  private subResizeEvent() {\n    this._parentElement &&\n      this.resizeObserver &&\n      this.resizeObserver.unobserve(this._parentElement);\n\n    // @ts-ignore\n    this.resizeObserver = new ResizeObserver(([entry]) => {\n      const dpr: number = window.devicePixelRatio || 1;\n\n      let width = entry.contentRect.width;\n      let height = entry.contentRect.height;\n\n      if (width && height) {\n        width = parseInt(width, 10);\n        height = parseInt(height, 10);\n      }\n\n      let resizeDetected = false;\n\n      if (this._width !== width) {\n        this._width = width;\n        this.element.width = width * dpr;\n        this.element.style.width = width + 'px';\n        resizeDetected = true;\n      }\n\n      if (this._height !== height) {\n        this._height = height;\n        this.element.height = height * dpr;\n        this.element.style.height = height + 'px';\n        resizeDetected = true;\n      }\n\n      if (resizeDetected) {\n        if (dpr !== 1) {\n          this.context.scale(dpr, dpr);\n        }\n\n        this.drawWithoutRequestAnimation();\n      }\n    });\n\n    this.resizeObserver.observe(this._parentElement);\n  }\n\n  public resetCanvasSize() {\n    const dpr: number = window.devicePixelRatio || 1;\n    this.element.width = this._width * dpr;\n    this.element.style.width = this._width + 'px';\n\n    this.element.height = this._height * dpr;\n    this.element.style.height = this._height + 'px';\n  }\n\n  // tslint:disable-next-line:typedef\n  public get parent() {\n    return this._parent;\n  }\n\n  // tslint:disable-next-line:variable-name\n  private _parent: any;\n\n  private readonly componentSet = new Set<NgCanvasElement>();\n  private componentsDrawings: NgCanvasElement[] = [];\n\n  // @ts-ignore\n  private resizeObserver: ResizeObserver;\n\n  constructor(\n    private readonly ngZone: NgZone,\n    private readonly config: CanvasRenderConfigModel\n  ) {\n    this.element = document.createElement('canvas');\n    this.element.style.position = 'absolute';\n    this.context = this.element.getContext('2d');\n\n    this._height = this.element.height;\n    this._width = this.element.width;\n\n    this.ngZone.runOutsideAngular(() => {\n      window.requestAnimationFrame((time) => this.draw(time));\n    });\n  }\n\n  // tslint:disable-next-line:typedef\n  destroy() {\n    this.resizeObserver &&\n      this._parentElement &&\n      this.resizeObserver.unobserve(this._parentElement);\n    this.componentSet.clear();\n    this.componentsDrawings = null;\n    this.element && this.element.remove();\n  }\n\n  addClass(name): void {\n    this.element.setAttribute('class', name);\n  }\n\n  appendChild(newChild: NgCanvasElement): void {\n    newChild.onInit && newChild.onInit(this.context);\n    this.componentSet.add(newChild);\n    this.componentsDrawings = getArrayDrawingComponents(this.componentSet);\n    this.drawAll();\n  }\n\n  removeChild(oldChild: NgCanvasElement): void {\n    oldChild.onDestroy && oldChild.onDestroy(this.context);\n    this.componentSet.delete(oldChild);\n    this.componentsDrawings = getArrayDrawingComponents(this.componentSet);\n    this.drawAll();\n  }\n\n  insertBefore(newChild: any, refChild: any): void {\n    this.componentSet.add(newChild);\n    this.componentsDrawings = getArrayDrawingComponents(this.componentSet);\n    this.drawAll();\n  }\n\n  recalculateElementsDraw(): void {\n    this.componentsDrawings = getArrayDrawingComponents(this.componentSet);\n  }\n\n  removeAttribute(name: string, namespace?: string | null): void {\n    this.element.removeAttribute(name);\n  }\n\n  removeClass(name: string): void {\n    this.element.classList.remove(name);\n  }\n\n  removeStyle(style: string, flags?: RendererStyleFlags2): void {\n    // Not supported\n  }\n\n  setAttribute(name: string, value: string): void {\n    this.element.setAttribute(name, value);\n  }\n\n  setNgAttribute(name: string, value: string, namespace?: string | null): void {\n    this.element.setAttribute(name, value);\n  }\n\n  setNgProperty(name: string, value: any): void {\n    // Not supported\n  }\n\n  setStyle(style: string, value: any, flags?: RendererStyleFlags2): void {\n    // Not supported\n  }\n\n  setValue(value: any): void {\n    // Not supported\n  }\n\n  drawAll(clear?: boolean): void {\n    this.ngZone.runOutsideAngular(() => {\n      this.requestId && window.cancelAnimationFrame(this.requestId);\n      this.requestId = window.requestAnimationFrame((time) => {\n        this.draw(time, clear);\n        this.requestId = null;\n      });\n    });\n  }\n\n  private drawWithoutRequestAnimation(): void {\n    this.ngZone.runOutsideAngular(() => {\n      this.draw(0, false);\n      this.requestId = null;\n    });\n  }\n\n  // @ts-ignore\n  draw(time: number, clear = true): void {\n    const context = this.context;\n    if (clear) {\n      context.clearRect(0, 0, this.width, this.height);\n    }\n\n    let needDraw = false;\n\n    const elementsCount =\n      this.componentsDrawings && this.componentsDrawings.length;\n\n    if (elementsCount) {\n      for (let i = 0; i < elementsCount; i++) {\n        this.componentsDrawings[i].draw(context, time);\n        needDraw = needDraw || this.componentsDrawings[i].needDraw;\n      }\n\n      if (needDraw) {\n        this.requestId && window.cancelAnimationFrame(this.requestId);\n        this.requestId = window.requestAnimationFrame((time) =>\n          this.draw(time)\n        );\n      }\n    }\n  }\n}\n","export const NAMESPACE_URIS: { [ns: string]: string } = {\n  svg: 'http://www.w3.org/2000/svg',\n  xhtml: 'http://www.w3.org/1999/xhtml',\n  xlink: 'http://www.w3.org/1999/xlink',\n  xml: 'http://www.w3.org/XML/1998/namespace',\n  xmlns: 'http://www.w3.org/2000/xmlns/',\n};\n\nconst COMPONENT_REGEX = /%COMP%/g;\n\nexport const COMPONENT_VARIABLE = '%COMP%';\nexport const HOST_ATTR = `_nghost-${COMPONENT_VARIABLE}`;\nexport const CONTENT_ATTR = `_ngcontent-${COMPONENT_VARIABLE}`;\n\nexport function shimContentAttribute(componentShortId: string): string {\n  return CONTENT_ATTR.replace(COMPONENT_REGEX, componentShortId);\n}\n\nexport function shimHostAttribute(componentShortId: string): string {\n  return HOST_ATTR.replace(COMPONENT_REGEX, componentShortId);\n}\n\nexport function flattenStyles(\n  compId: string,\n  styles: Array<any | any[]>,\n  target: string[]\n): string[] {\n  // tslint:disable-next-line:prefer-for-of\n  for (let i = 0; i < styles.length; i++) {\n    let style = styles[i];\n\n    if (Array.isArray(style)) {\n      flattenStyles(compId, style, target);\n    } else {\n      style = style.replace(COMPONENT_REGEX, compId);\n      target.push(style);\n    }\n  }\n  return target;\n}\n","import {\n  Renderer2,\n  RendererStyleFlags2,\n  RendererType2,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {\n  EventManager,\n  ɵDomSharedStylesHost as DomSharedStylesHost,\n} from '@angular/platform-browser';\nimport {\n  flattenStyles,\n  NAMESPACE_URIS,\n  shimContentAttribute,\n  shimHostAttribute,\n} from './renderer-utils';\n\nconst ngDevMode = (window as any).ngDevMode;\nconst NG_DEV_MODE: boolean = typeof ngDevMode === 'undefined' || !!ngDevMode;\n\n// tslint:disable-next-line:typedef\nfunction decoratePreventDefault(eventHandler) {\n  // `DebugNode.triggerEventHandler` needs to know if the listener was created with\n  // decoratePreventDefault or is a listener added outside the Angular context so it can handle the\n  // two differently. In the first case, the special '__ngUnwrap__' token is passed to the unwrap\n  // the listener (see below).\n  return (event: any) => {\n    // Ivy uses '__ngUnwrap__' as a special token that allows us to unwrap the function\n    // so that it can be invoked programmatically by `DebugNode.triggerEventHandler`. The debug_node\n    // can inspect the listener toString contents for the existence of this special token. Because\n    // the token is a string literal, it is ensured to not be modified by compiled code.\n    if (event === '__ngUnwrap__') {\n      return eventHandler;\n    }\n\n    const allowDefaultBehavior = eventHandler(event);\n    if (allowDefaultBehavior === false) {\n      // TODO(tbosch): move preventDefault into event plugins...\n      event.preventDefault();\n      event.returnValue = false;\n    }\n\n    return undefined;\n  };\n}\n\nexport class DefaultDomRenderer2 implements Renderer2 {\n  constructor(private eventManager: EventManager) {}\n\n  data: { [key: string]: any } = Object.create(null);\n\n  destroyNode: null;\n\n  destroy(): void {}\n\n  createElement(name: string, namespace?: string): any {\n    if (namespace) {\n      // In cases where Ivy (not ViewEngine) is giving us the actual namespace, the look up by key\n      // will result in undefined, so we just return the namespace here.\n      return document.createElementNS(\n        NAMESPACE_URIS[namespace] || namespace,\n        name\n      );\n    }\n\n    return document.createElement(name);\n  }\n\n  createComment(value: string): any {\n    return document.createComment(value);\n  }\n\n  createText(value: string): any {\n    return document.createTextNode(value);\n  }\n\n  appendChild(parent: any, newChild: any): void {\n    parent.appendChild(newChild);\n  }\n\n  insertBefore(parent: any, newChild: any, refChild: any): void {\n    if (parent) {\n      parent.insertBefore(newChild, refChild);\n    }\n  }\n\n  removeChild(parent: any, oldChild: any): void {\n    if (parent) {\n      parent.removeChild(oldChild);\n    }\n  }\n\n  selectRootElement(\n    selectorOrNode: string | any,\n    preserveContent?: boolean\n  ): any {\n    const el: any =\n      typeof selectorOrNode === 'string'\n        ? document.querySelector(selectorOrNode)\n        : selectorOrNode;\n    if (!el) {\n      throw new Error(\n        `The selector \"${selectorOrNode}\" did not match any elements`\n      );\n    }\n    if (!preserveContent) {\n      el.textContent = '';\n    }\n    return el;\n  }\n\n  parentNode(node: any): any {\n    return node.parentNode;\n  }\n\n  nextSibling(node: any): any {\n    return node.nextSibling;\n  }\n\n  setAttribute(el: any, name: string, value: string, namespace?: string): void {\n    if (namespace) {\n      name = namespace + ':' + name;\n      // TODO(FW-811): Ivy may cause issues here because it's passing around\n      // full URIs for namespaces, therefore this lookup will fail.\n      const namespaceUri = NAMESPACE_URIS[namespace];\n      if (namespaceUri) {\n        el.setAttributeNS(namespaceUri, name, value);\n      } else {\n        el.setAttribute(name, value);\n      }\n    } else {\n      el.setAttribute(name, value);\n    }\n  }\n\n  removeAttribute(el: any, name: string, namespace?: string): void {\n    if (namespace) {\n      // TODO(FW-811): Ivy may cause issues here because it's passing around\n      // full URIs for namespaces, therefore this lookup will fail.\n      const namespaceUri = NAMESPACE_URIS[namespace];\n      if (namespaceUri) {\n        el.removeAttributeNS(namespaceUri, name);\n      } else {\n        // TODO(FW-811): Since ivy is passing around full URIs for namespaces\n        // this could result in properties like `http://www.w3.org/2000/svg:cx=\"123\"`,\n        // which is wrong.\n        el.removeAttribute(`${namespace}:${name}`);\n      }\n    } else {\n      el.removeAttribute(name);\n    }\n  }\n\n  addClass(el: any, name: string): void {\n    el.classList.add(name);\n  }\n\n  removeClass(el: any, name: string): void {\n    el.classList.remove(name);\n  }\n\n  setStyle(\n    el: any,\n    style: string,\n    value: any,\n    flags: RendererStyleFlags2\n  ): void {\n    // tslint:disable-next-line:no-bitwise\n    if (\n      flags &\n      (RendererStyleFlags2.DashCase | RendererStyleFlags2.Important)\n    ) {\n      el.style.setProperty(\n        style,\n        value,\n        flags & RendererStyleFlags2.Important ? 'important' : ''\n      );\n    } else {\n      el.style[style] = value;\n    }\n  }\n\n  removeStyle(el: any, style: string, flags: RendererStyleFlags2): void {\n    // tslint:disable-next-line:no-bitwise\n    if (flags & RendererStyleFlags2.DashCase) {\n      el.style.removeProperty(style);\n    } else {\n      // IE requires '' instead of null\n      // see https://github.com/angular/angular/issues/7916\n      el.style[style] = '';\n    }\n  }\n\n  setProperty(el: any, name: string, value: any): void {\n    // tslint:disable-next-line:no-unused-expression\n    NG_DEV_MODE && checkNoSyntheticProp(name, 'property');\n    el[name] = value;\n  }\n\n  setValue(node: any, value: string): void {\n    node.nodeValue = value;\n  }\n\n  listen(\n    target: 'window' | 'document' | 'body' | any,\n    event: string,\n    callback: (event: any) => boolean\n  ): () => void {\n    // tslint:disable-next-line:no-unused-expression\n    NG_DEV_MODE && checkNoSyntheticProp(event, 'listener');\n    if (typeof target === 'string') {\n      return <() => void>(\n        this.eventManager.addGlobalEventListener(\n          target,\n          event,\n          decoratePreventDefault(callback)\n        )\n      );\n    }\n    return (<() => void>(\n      this.eventManager.addEventListener(\n        target,\n        event,\n        decoratePreventDefault(callback)\n      )\n    )) as () => void;\n  }\n}\n\nconst AT_CHARCODE = (() => '@'.charCodeAt(0))();\n\n// tslint:disable-next-line:typedef\nfunction checkNoSyntheticProp(name: string, nameKind: string) {\n  if (name.charCodeAt(0) === AT_CHARCODE) {\n    throw new Error(\n      `Found the synthetic ${nameKind} ${name}. Please include either \"BrowserAnimationsModule\" or \"NoopAnimationsModule\" in your application.`\n    );\n  }\n}\n\nexport class EmulatedEncapsulationDomRenderer2 extends DefaultDomRenderer2 {\n  private contentAttr: string;\n  private hostAttr: string;\n\n  constructor(\n    eventManager: EventManager,\n    sharedStylesHost: DomSharedStylesHost,\n    private component: RendererType2,\n    appId: string\n  ) {\n    super(eventManager);\n    const styles = flattenStyles(\n      appId + '-' + component.id,\n      component.styles,\n      []\n    );\n    sharedStylesHost.addStyles(styles);\n\n    this.contentAttr = shimContentAttribute(appId + '-' + component.id);\n    this.hostAttr = shimHostAttribute(appId + '-' + component.id);\n  }\n\n  // tslint:disable-next-line:typedef\n  applyToHost(element: any) {\n    super.setAttribute(element, this.hostAttr, '');\n  }\n\n  createElement(parent: any, name: string): Element {\n    const el = super.createElement(parent, name);\n    super.setAttribute(el, this.contentAttr, '');\n    return el;\n  }\n}\n\nexport class ShadowDomRenderer extends DefaultDomRenderer2 {\n  private shadowRoot: any;\n\n  constructor(\n    eventManager: EventManager,\n    private sharedStylesHost: DomSharedStylesHost,\n    private hostEl: any,\n    private component: RendererType2\n  ) {\n    super(eventManager);\n    if (component.encapsulation === ViewEncapsulation.ShadowDom) {\n      this.shadowRoot = (hostEl as any).attachShadow({ mode: 'open' });\n    } else {\n      this.shadowRoot = (hostEl as any).createShadowRoot();\n    }\n    this.sharedStylesHost.addHost(this.shadowRoot);\n    const styles = flattenStyles(component.id, component.styles, []);\n    for (let i = 0; i < styles.length; i++) {\n      const styleEl = document.createElement('style');\n      styleEl.textContent = styles[i];\n      this.shadowRoot.appendChild(styleEl);\n    }\n  }\n\n  private nodeOrShadowRoot(node: any): any {\n    return node === this.hostEl ? this.shadowRoot : node;\n  }\n\n  destroy() {\n    this.sharedStylesHost.removeHost(this.shadowRoot);\n  }\n\n  appendChild(parent: any, newChild: any): void {\n    return super.appendChild(this.nodeOrShadowRoot(parent), newChild);\n  }\n\n  insertBefore(parent: any, newChild: any, refChild: any): void {\n    return super.insertBefore(\n      this.nodeOrShadowRoot(parent),\n      newChild,\n      refChild\n    );\n  }\n\n  removeChild(parent: any, oldChild: any): void {\n    return super.removeChild(this.nodeOrShadowRoot(parent), oldChild);\n  }\n\n  parentNode(node: any): any {\n    return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(node)));\n  }\n}\n","import { NgCanvasElement } from '../components/ng-canvas-element';\n\nexport type Constructable<T> = new () => T;\nexport type NgComponentClass = Constructable<NgCanvasElement>;\n\ndeclare global {\n  interface Window {\n    canvasRendererMetadataArgsStorage: MetadataArgsStorage;\n  }\n}\n\nexport function getMetadataArgsStorage(): MetadataArgsStorage {\n  if (!window.canvasRendererMetadataArgsStorage) {\n    window.canvasRendererMetadataArgsStorage = new MetadataArgsStorage();\n  }\n\n  return window.canvasRendererMetadataArgsStorage;\n}\n\nexport class MetadataArgsStorage {\n  public elements: Map<string, NgComponentClass> = new Map<\n    string,\n    NgComponentClass\n  >();\n}\n","import { InjectionToken } from '@angular/core';\n\nexport interface CanvasRenderConfigModel {\n  property: boolean;\n}\n\nexport const DefaultCanvasRenderConfig: CanvasRenderConfigModel = {\n  property: true,\n};\n\nexport const CanvasRenderConfig = new InjectionToken<boolean>(\n  'CanvasRenderConfig'\n);\n","import {\n  Inject,\n  Injectable,\n  NgZone,\n  Renderer2,\n  RendererFactory2,\n  RendererStyleFlags2,\n  RendererType2,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { NgCanvasElement } from './components/ng-canvas-element';\nimport { NgCanvas } from './components/ng-canvas';\nimport {\n  EventManager,\n  ɵDomSharedStylesHost as DomSharedStylesHost,\n} from '@angular/platform-browser';\nimport {\n  DefaultDomRenderer2,\n  EmulatedEncapsulationDomRenderer2,\n  ShadowDomRenderer,\n} from './default-dom-renderer';\nimport {\n  flattenStyles,\n  NAMESPACE_URIS,\n  shimContentAttribute,\n  shimHostAttribute,\n} from './renderer-utils';\nimport { getMetadataArgsStorage } from './metadata/metadata-storage';\nimport {\n  CanvasRenderConfig,\n  CanvasRenderConfigModel,\n} from './tokens/canvas-resize-obserer-enable-token';\n\n@Injectable()\nexport class CanvasDomRendererFactory implements RendererFactory2 {\n  private rendererByCompId = new Map<string, Renderer2>();\n  private defaultRenderer: Renderer2;\n\n  constructor(\n    private readonly eventManager: EventManager,\n    private readonly sharedStylesHost: DomSharedStylesHost,\n    private readonly appId: string,\n    private readonly ngZone: NgZone,\n    @Inject(CanvasRenderConfig)\n    private readonly canvasConfig: CanvasRenderConfigModel\n  ) {\n    this.defaultRenderer = new DefaultDomRenderer2(eventManager);\n  }\n\n  end() {}\n\n  createRenderer(element: any, type: RendererType2 | null): Renderer2 {\n    if (!element || !type) {\n      return this.defaultRenderer;\n    }\n\n    // @ts-ignore\n    if (type['type'] && type['type'].isCanvasComponent) {\n      let renderer = this.rendererByCompId.get(type.id);\n\n      if (!renderer) {\n        renderer = new CanvasRenderer(\n          this.eventManager,\n          this.sharedStylesHost,\n          type,\n          this.appId,\n          this.ngZone,\n          this.canvasConfig\n        );\n        this.rendererByCompId.set(type.id, renderer);\n      }\n      (renderer as CanvasRenderer).applyToHost(element);\n      return renderer;\n    }\n\n    switch (type.encapsulation) {\n      case ViewEncapsulation.Emulated: {\n        let renderer = this.rendererByCompId.get(type.id);\n        if (!renderer) {\n          renderer = new EmulatedEncapsulationDomRenderer2(\n            this.eventManager,\n            this.sharedStylesHost,\n            type,\n            this.appId\n          );\n          this.rendererByCompId.set(type.id, renderer);\n        }\n        (renderer as EmulatedEncapsulationDomRenderer2).applyToHost(element);\n        return renderer;\n      }\n      case ViewEncapsulation.ShadowDom:\n        return new ShadowDomRenderer(\n          this.eventManager,\n          this.sharedStylesHost,\n          element,\n          type\n        );\n\n      default: {\n        if (!this.rendererByCompId.has(type.id)) {\n          const styles = flattenStyles(type.id, type.styles, []);\n          this.sharedStylesHost.addStyles(styles);\n          this.rendererByCompId.set(type.id, this.defaultRenderer);\n        }\n        return this.defaultRenderer;\n      }\n    }\n  }\n}\n\nexport class CanvasRenderer implements Renderer2 {\n  private contentAttr: string;\n  private hostAttr: string;\n  private readonly canvasElements = getMetadataArgsStorage().elements;\n\n  readonly data: { [p: string]: any };\n  destroyNode: ((node: any) => void) | null;\n\n  constructor(\n    eventManager: EventManager,\n    sharedStylesHost: DomSharedStylesHost,\n    private component: RendererType2,\n    appId: string,\n    private ngZone: NgZone,\n    private config\n  ) {\n    const styles = flattenStyles(\n      appId + '-' + component.id,\n      component.styles,\n      []\n    );\n    sharedStylesHost.addStyles(styles);\n\n    this.contentAttr = shimContentAttribute(appId + '-' + component.id);\n    this.hostAttr = shimHostAttribute(appId + '-' + component.id);\n  }\n\n  // tslint:disable-next-line:typedef\n  applyToHost(element: any) {\n    this.setAttribute(element, this.hostAttr, '');\n  }\n\n  createElement(name: string, namespace?: string | null): any {\n    const Component = this.canvasElements.get(name);\n\n    if (Component) {\n      return new Component();\n    } else if (name === 'canvas') {\n      const canvas = new NgCanvas(this.ngZone, this.config);\n      canvas.element.setAttribute(this.contentAttr, '');\n      return canvas;\n    } else {\n      let element;\n      if (namespace) {\n        // In cases where Ivy (not ViewEngine) is giving us the actual namespace, the look up by key\n        // will result in undefined, so we just return the namespace here.\n        element = document.createElementNS(\n          NAMESPACE_URIS[namespace] || namespace,\n          name\n        );\n      } else {\n        element = document.createElement(name);\n      }\n\n      this.setAttribute(element, this.contentAttr, '');\n      return element;\n    }\n  }\n\n  createText(value: string): any {\n    return document.createTextNode(value);\n  }\n\n  selectRootElement(selectorOrNode: any, preserveContent?: boolean): any {\n    const el: any =\n      typeof selectorOrNode === 'string'\n        ? document.querySelector(selectorOrNode)\n        : selectorOrNode;\n    if (!el) {\n      throw new Error(\n        `The selector \"${selectorOrNode}\" did not match any elements`\n      );\n    }\n    if (!preserveContent) {\n      el.textContent = '';\n    }\n    return el;\n  }\n\n  addClass(el: NgCanvasElement, name: string): void {\n    if (el.classList) {\n      el.classList.add(name);\n    } else {\n      el.addClass(name);\n    }\n  }\n\n  removeClass(el: NgCanvasElement, name: string): void {\n    if (el.classList) {\n      el.classList.add(name);\n    } else {\n      el.removeClass(name);\n    }\n  }\n\n  appendChild(parent: NgCanvasElement, newChild: NgCanvasElement): void {\n    // parent.appendChild(newChild);\n    if (!newChild) {\n      return;\n    }\n    newChild.parent = parent as any;\n\n    if (newChild instanceof NgCanvas) {\n      parent.appendChild((newChild as NgCanvas).element);\n    } else {\n      parent.appendChild(newChild);\n    }\n  }\n\n  removeChild(parent: NgCanvasElement, oldChild): void {\n    // tslint:disable-next-line:no-unused-expression\n    oldChild.destroy && oldChild.destroy();\n    if (parent) {\n      parent.removeChild(oldChild);\n    }\n    if (oldChild && oldChild.parent instanceof NgCanvas) {\n      oldChild.parent.removeChild(oldChild);\n    }\n  }\n\n  createComment(value: string): any {\n    return document.createComment(value);\n  }\n\n  destroy(): void {}\n\n  insertBefore(parent: NgCanvasElement, newChild: any, refChild: any): void {\n    if (parent && parent.insertBefore) {\n      newChild.parent = parent;\n\n      if (newChild instanceof NgCanvas) {\n        parent.insertBefore((newChild as NgCanvas).element, refChild);\n      } else {\n        parent.insertBefore(newChild, refChild);\n      }\n    }\n  }\n\n  listen(\n    target: any,\n    eventName: string,\n    callback: (event: any) => boolean | void\n  ): () => void {\n    const callbackFunc = (e: any) => callback.call(target, e);\n\n    if (target instanceof NgCanvas) {\n      target = target.element;\n    }\n\n    target.addEventListener(eventName, callbackFunc);\n\n    return () => target.removeEventListener(eventName, callbackFunc);\n  }\n\n  // tslint:disable-next-line:typedef\n  nextSibling(node: any) {\n    return {\n      previous: node,\n      next: node.nextSibling,\n    };\n  }\n\n  parentNode(node: any): any {\n    return node.parent ? node.parent : node;\n  }\n\n  removeAttribute(\n    el: NgCanvasElement,\n    name: string,\n    namespace?: string | null\n  ): void {\n    if (namespace) {\n      // TODO(FW-811): Ivy may cause issues here because it's passing around\n      // full URIs for namespaces, therefore this lookup will fail.\n      const namespaceUri = NAMESPACE_URIS[namespace];\n      if (namespaceUri) {\n        el.removeAttributeNS(namespaceUri, name);\n      } else {\n        // TODO(FW-811): Since ivy is passing around full URIs for namespaces\n        // this could result in properties like `http://www.w3.org/2000/svg:cx=\"123\"`,\n        // which is wrong.\n        el.removeAttribute(`${namespace}:${name}`);\n      }\n    } else {\n      el.removeAttribute(name);\n    }\n  }\n\n  removeStyle(\n    el: NgCanvasElement,\n    style: string,\n    flags?: RendererStyleFlags2\n  ): void {\n    el.removeStyle(style, flags);\n  }\n\n  setAttribute(\n    el: NgCanvasElement,\n    name: string,\n    value: string,\n    namespace?: string | null\n  ): void {\n    if (namespace) {\n      name = namespace + ':' + name;\n      // TODO(FW-811): Ivy may cause issues here because it's passing around\n      // full URIs for namespaces, therefore this lookup will fail.\n      const namespaceUri = NAMESPACE_URIS[namespace];\n      if (namespaceUri) {\n        el.setAttributeNS(namespaceUri, name, value);\n      } else {\n        el.setAttribute(name, value);\n      }\n    } else {\n      el.setAttribute(name, value);\n    }\n  }\n\n  setProperty(el: NgCanvasElement, name: string, value: any): void {\n    el.setNgProperty(name, value);\n  }\n\n  setStyle(\n    el: NgCanvasElement,\n    style: string,\n    value: any,\n    flags?: RendererStyleFlags2\n  ): void {\n    if (el.style) {\n      // tslint:disable-next-line:no-bitwise\n      if (flags & RendererStyleFlags2.DashCase) {\n        el.style.setProperty(\n          // tslint:disable-next-line:no-bitwise\n          style,\n          value,\n          flags & RendererStyleFlags2.Important ? 'important' : ''\n        );\n      } else {\n        el.style[style] = value;\n      }\n    } else {\n      el.setStyle(style, value, flags);\n    }\n  }\n\n  setValue(node: any, value: string): void {\n    if (node.setValue) {\n      node.setValue(value);\n    } else {\n      node.nodeValue = value;\n    }\n  }\n}\n","import {\n  APP_ID,\n  NgModule,\n  NgZone,\n  NO_ERRORS_SCHEMA,\n  RendererFactory2,\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CanvasDomRendererFactory } from './canvas-dom-renderer';\nimport {\n  EventManager,\n  ɵDomSharedStylesHost as DomSharedStylesHost,\n} from '@angular/platform-browser';\nimport { NgComponentClass } from './metadata/metadata-storage';\n\n@NgModule({\n  imports: [CommonModule],\n  providers: [\n    {\n      provide: RendererFactory2,\n      useClass: CanvasDomRendererFactory,\n      deps: [EventManager, DomSharedStylesHost, APP_ID, NgZone],\n    },\n  ],\n  schemas: [NO_ERRORS_SCHEMA],\n})\nexport class CanvasDomModule {\n  // tslint:disable-next-line:typedef\n  public static forRoot(elements: NgComponentClass[]) {\n    return {\n      ngModule: CanvasDomModule,\n    };\n  }\n}\n","// tslint:disable-next-line:typedef\nexport function CanvasComponent(target) {\n  target.isCanvasComponent = true;\n}\n","// tslint:disable-next-line:typedef\nimport { getMetadataArgsStorage } from '../metadata/metadata-storage';\n\n// tslint:disable-next-line:typedef\nexport function CanvasElement(config: { selector: string }) {\n  // tslint:disable-next-line:only-arrow-functions typedef\n  return function (target) {\n    getMetadataArgsStorage().elements.set(config.selector, target);\n  };\n}\n"]}